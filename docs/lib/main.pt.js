(function(){'use strict';var Ju=Math.PI,Qu=Math.acos,eh=Math.asin,th=Math.atan,ah=Math.atan2,nh=Math.sin,oh=Math.cos,dh=Math.round,ih=Math.min,rh=Math.sqrt,ch=Math.abs,lh=Math.pow,sh=Math.LN10,fh=Math.log,ph=Math.max,uh=Math.floor,hh=Math.ceil;function e(){for(var e=0,o=arguments.length,n={},d;e<o;++e){if(!(d=arguments[e]+"")||d in n)throw new Error("illegal type: "+d);n[d]=[]}return new a(n)}function a(e){this._=e}function o(e,a){return e.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");if(0<=o&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!a.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function d(e,t){for(var a=0,o=e.length,n;a<o;++a)if((n=e[a]).name===t)return n.value}function r(e,t,a){for(var o=0,d=e.length;o<d;++o)if(e[o].name===t){e[o]=bh,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=a&&e.push({name:t,value:a}),e}function l(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function s(e,t){var a=l(e);return function(n,o){return t(a(n),o,e)}}function f(e){var t=Object.create(null),a=[];return e.forEach(function(e){for(var n in e)n in t||a.push(t[n]=n)}),a}function p(e,t){var a=e+"",n=a.length;return n<t?Array(t-n+1).join(0)+a:a}function u(e){return 0>e?"-"+p(-e,6):9999<e?"+"+p(e,6):p(e,4)}function h(e){var t=e.getUTCHours(),a=e.getUTCMinutes(),n=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":u(e.getUTCFullYear(),4)+"-"+p(e.getUTCMonth()+1,2)+"-"+p(e.getUTCDate(),2)+(o?"T"+p(t,2)+":"+p(a,2)+":"+p(n,2)+"."+p(o,3)+"Z":n?"T"+p(t,2)+":"+p(a,2)+":"+p(n,2)+"Z":a||t?"T"+p(t,2)+":"+p(a,2)+"Z":"")}function b(e){function t(e,a){function o(){if(f)return yh;if(p)return p=!1,gh;var t=s,a,n;if(34===e.charCodeAt(t)){for(;s++<l&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(a=s)>=l?f=!0:10===(n=e.charCodeAt(s++))?p=!0:13===n&&(p=!0,10===e.charCodeAt(s)&&++s),e.slice(t+1,a-1).replace(/""/g,"\"")}for(;s<l;){if((n=e.charCodeAt(a=s++))===10)p=!0;else if(n===13)p=!0,10===e.charCodeAt(s)&&++s;else if(n!==r)continue;return e.slice(t,a)}return f=!0,e.slice(t,l)}var d=[],l=e.length,s=0,i=0,f=0>=l,p=!1,u;for(10===e.charCodeAt(l-1)&&--l,13===e.charCodeAt(l-1)&&--l;(u=o())!==yh;){for(var c=[];u!==gh&&u!==yh;)c.push(u),u=o();a&&null==(c=a(c,i++))||d.push(c)}return d}function a(t,a){return t.map(function(t){return a.map(function(e){return o(t[e])}).join(e)})}function n(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?h(e):d.test(e+="")?"\""+e.replace(/"/g,"\"\"")+"\"":e}var d=new RegExp("[\""+e+"\n\r]"),r=e.charCodeAt(0);return{parse:function(e,a){var n=t(e,function(e,t){return o?o(e,t-1):void(d=e,o=a?s(e,a):l(e))}),o,d;return n.columns=d||[],n},parseRows:t,format:function(t,n){return null==n&&(n=f(t)),[n.map(o).join(e)].concat(a(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=f(e)),a(e,t).join("\n")},formatRows:function(e){return e.map(n).join("\n")}}}function g(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function _(e,t){return fetch(e,t).then(g)}function m(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()}function v(e,t){return fetch(e,t).then(m)}function w(e){var t=Uh.call(e,zh),a=e[zh];try{e[zh]=void 0;var n=!0}catch(t){}var o=Bh.call(e);return n&&(t?e[zh]=a:delete e[zh]),o}function k(e){return Wh.call(e)}function j(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Lh&&Lh in Object(e)?w(e):k(e)}function S(e){return null!=e&&"object"==typeof e}function T(e){return"symbol"==typeof e||S(e)&&j(e)=="[object Symbol]"}function O(e){return"number"==typeof e?e:T(e)?Yh:+e}function N(e,t){for(var a=-1,n=null==e?0:e.length,o=Array(n);++a<n;)o[a]=t(e[a],a,e);return o}function P(e){if("string"==typeof e)return e;if(Fh(e))return N(e,P)+"";if(T(e))return Vh?Vh.call(e):"";var t=e+"";return"0"==t&&1/e==-qh?"-0":t}function M(e,t){return function(a,n){var o;if(void 0===a&&void 0===n)return t;if(void 0!==a&&(o=a),void 0!==n){if(void 0===o)return n;"string"==typeof a||"string"==typeof n?(a=P(a),n=P(n)):(a=O(a),n=O(n)),o=e(a,n)}return o}}function I(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function R(e){if("number"==typeof e)return e;if(T(e))return Xh;if(I(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=I(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Zh,"");var a=Kh.test(e);return a||Jh.test(e)?Qh(e.slice(2),a?2:8):$h.test(e)?Xh:+e}function U(e){if(!e)return 0===e?e:0;if(e=R(e),e===eb||e===-eb){var t=0>e?-1:1;return 1.7976931348623157e+308*t}return e===e?e:0}function z(e){var t=U(e),a=t%1;return t===t?a?t-a:t:0}function W(e){return e}function L(e){if(!I(e))return!1;var t=j(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"}function Y(e){return!!ab&&ab in e}function F(e){if(null!=e){try{return ob.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function q(e){if(!I(e)||Y(e))return!1;var t=L(e)?fb:ib;return t.test(F(e))}function H(e,t){return null==e?void 0:e[t]}function V(e,t){var a=H(e,t);return q(a)?a:void 0}function G(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);}var a=gb(e.prototype),n=e.apply(a,t);return I(n)?n:a}}function X(e,t,a){function n(){var t=this&&this!==Mh&&this instanceof n?d:e;return t.apply(o?a:this,arguments)}var o=t&1,d=G(e);return n}function Z(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2]);}return e.apply(t,a)}function $(e,t,a,n){for(var o=-1,d=e.length,i=a.length,r=-1,c=t.length,l=yb(d-i,0),s=Array(c+l),f=!n;++r<c;)s[r]=t[r];for(;++o<i;)(f||o<d)&&(s[a[o]]=e[o]);for(;l--;)s[r++]=e[o++];return s}function J(e,t,a,n){for(var o=-1,d=e.length,i=-1,r=a.length,c=-1,l=t.length,s=_b(d-r,0),f=Array(s+l),p=!n;++o<s;)f[o]=e[o];for(var u=o;++c<l;)f[u+c]=t[c];for(;++i<r;)(p||o<d)&&(f[u+a[i]]=e[o++]);return f}function Q(e,t){for(var a=e.length,n=0;a--;)e[a]===t&&++n;return n}function ee(){}function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function ae(){}function ne(e){for(var t=e.name+"",a=xb[t],n=wb.call(xb,t)?a.length:0;n--;){var o=a[n],d=o.func;if(null==d||d==e)return o.name}return t}function oe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function de(e,t){var a=-1,n=e.length;for(t||(t=Array(n));++a<n;)t[a]=e[a];return t}function ie(e){if(e instanceof te)return e.clone();var t=new oe(e.__wrapped__,e.__chain__);return t.__actions__=de(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ce(e){if(S(e)&&!Fh(e)&&!(e instanceof te)){if(e instanceof oe)return e;if(jb.call(e,"__wrapped__"))return ie(e)}return new oe(e)}function le(e){var t=ne(e),a=ce[t];if("function"!=typeof a||!(t in te.prototype))return!1;if(e===a)return!0;var n=mb(a);return!!n&&e===n[0]}function se(e){var t=0,a=0;return function(){var n=Sb(),o=16-(n-a);if(a=n,!(0<o))t=0;else if(800<=++t)return arguments[0];return e.apply(void 0,arguments)}}function fe(e){var t=e.match(Cb);return t?t[1].split(Ab):[]}function pe(e,t){var a=t.length;if(!a)return e;var n=a-1;return t[n]=(1<a?"& ":"")+t[n],t=t.join(2<a?", ":" "),e.replace(Ob,"{\n/* [wrapped with "+t+"] */\n")}function ue(e){return function(){return e}}function he(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!(!1===t(e[a],a,e)););return e}function be(e,t,a,n){for(var o=e.length,d=a+(n?1:-1);n?d--:++d<o;)if(t(e[d],d,e))return d;return-1}function ge(e){return e!==e}function ye(e,t,a){for(var n=a-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function _e(e,t,a){return t===t?ye(e,t,a):be(e,ge,a)}function me(e,t){var a=null==e?0:e.length;return!!a&&-1<_e(e,t,0)}function xe(e,t){return he(Mb,function(a){var n="_."+a[0];t&a[1]&&!me(e,n)&&e.push(n)}),e.sort()}function ve(e,t,a){var n=t+"";return Pb(e,pe(n,xe(fe(n),a)))}function we(e,t,a,n,o,d,i,r,c,l){var s=8&t,f=s?i:void 0,p=s?void 0:i,u=s?d:void 0,h=s?void 0:d;t|=s?32:64,t&=~(s?64:32),4&t||(t&=-4);var b=[e,t,o,u,f,h,p,r,c,l],g=a.apply(void 0,b);return le(e)&&Tb(g,b),g.placeholder=n,ve(g,e,t)}function ke(e){return e.placeholder}function je(e,t){var a=typeof e;return t=null==t?9007199254740991:t,!!t&&("number"==a||"symbol"!=a&&Ib.test(e))&&-1<e&&0==e%1&&e<t}function Se(e,t){for(var a=e.length,n=Rb(t.length,a),o=de(e);n--;){var d=t[n];e[n]=je(d,a)?o[d]:void 0}return e}function Te(e,t){for(var a=-1,n=e.length,o=0,d=[];++a<n;){var i=e[a];(i===t||i==="__lodash_placeholder__")&&(e[a]="__lodash_placeholder__",d[o++]=a)}return d}function Ce(e,t,a,n,o,d,i,r,c,l){function s(){for(var y=arguments.length,_=Array(y),m=y;m--;)_[m]=arguments[m];if(h)var x=ke(s),v=Q(_,x);if(n&&(_=$(_,n,o,h)),d&&(_=J(_,d,i,h)),y-=v,h&&y<l){var w=Te(_,x);return we(e,t,Ce,s.placeholder,a,_,w,r,c,l-y)}var k=p?a:this,j=u?k[e]:e;return y=_.length,r?_=Se(_,r):b&&1<y&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==Mh&&this instanceof s&&(j=g||G(j)),j.apply(k,_)}var f=t&128,p=t&1,u=t&2,h=t&24,b=t&512,g=u?void 0:G(e);return s}function Ae(e,t,a){function n(){for(var d=arguments.length,i=Array(d),r=d,c=ke(n);r--;)i[r]=arguments[r];var l=3>d&&i[0]!==c&&i[d-1]!==c?[]:Te(i,c);if(d-=l.length,d<a)return we(e,t,Ce,n.placeholder,void 0,i,l,void 0,void 0,a-d);var s=this&&this!==Mh&&this instanceof n?o:e;return Z(s,this,i)}var o=G(e);return n}function Oe(e,t,a,n){function o(){for(var t=-1,r=arguments.length,c=-1,l=n.length,s=Array(l+r),f=this&&this!==Mh&&this instanceof o?i:e;++c<l;)s[c]=n[c];for(;r--;)s[c++]=arguments[++t];return Z(f,d?a:this,s)}var d=t&1,i=G(e);return o}function Ee(e,t){var a=e[1],n=t[1],o=a|n,d=131>o,i=128==n&&8==a||128==n&&256==a&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==a;if(!(d||i))return e;1&n&&(e[2]=t[2],o|=1&a?0:4);var r=t[3];if(r){var c=e[3];e[3]=c?$(c,r,t[4]):r,e[4]=c?Te(e[3],"__lodash_placeholder__"):t[4]}return r=t[5],r&&(c=e[5],e[5]=c?J(c,r,t[6]):r,e[6]=c?Te(e[5],"__lodash_placeholder__"):t[6]),r=t[7],r&&(e[7]=r),128&n&&(e[8]=null==e[8]?t[8]:Ub(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Ne(e,t,a,n,o,d,i,r){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var l=n?n.length:0;if(l||(t&=-97,n=o=void 0),i=void 0===i?i:Bb(z(i),0),r=void 0===r?r:z(r),l-=o?o.length:0,64&t){var s=n,f=o;n=o=void 0}var p=c?void 0:mb(e),u=[e,t,a,n,o,s,f,d,i,r];if(p&&Ee(u,p),e=u[0],t=u[1],a=u[2],n=u[3],o=u[4],r=u[9]=void 0===u[9]?c?0:e.length:Bb(u[9]-l,0),!r&&24&t&&(t&=-25),!t||1==t)var h=X(e,t,a);else h=8==t||16==t?Ae(e,t,r):32!=t&&33!=t||o.length?Ce.apply(void 0,u):Oe(e,t,a,n);var b=p?hb:Tb;return ve(b(h,u),e,t)}function Pe(e,t,a){return t=a?void 0:t,t=e&&null==t?e.length:t,Ne(e,128,void 0,void 0,void 0,void 0,t)}function Me(e,t,a){"__proto__"==t&&Eb?Eb(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Ie(e,t){return e===t||e!==e&&t!==t}function t(e,t,a){var n=e[t];Db.call(e,t)&&Ie(n,a)&&(a!==void 0||t in e)||Me(e,t,a)}function n(e,a,n,o){var d=!n;n||(n={});for(var i=-1,r=a.length;++i<r;){var c=a[i],l=o?o(n[c],e[c],c,n,e):void 0;l===void 0&&(l=e[c]),d?Me(n,c,l):t(n,c,l)}return n}function i(e,t,a){return t=Wb(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,d=Wb(n.length-t,0),i=Array(d);++o<d;)i[o]=n[t+o];o=-1;for(var r=Array(t+1);++o<t;)r[o]=n[o];return r[t]=a(i),Z(e,this,r)}}function Re(e,t){return Pb(i(e,t,W),e+"")}function Ue(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function Be(e){return null!=e&&Ue(e.length)&&!L(e)}function ze(e,t,a){if(!I(a))return!1;var n=typeof t;return!("number"==n?!(Be(a)&&je(t,a.length)):!("string"==n&&t in a))&&Ie(a[t],e)}function De(e){return Re(function(t,a){var n=-1,o=a.length,d=1<o?a[o-1]:void 0,i=2<o?a[2]:void 0;for(d=3<e.length&&"function"==typeof d?(o--,d):void 0,i&&ze(a[0],a[1],i)&&(d=3>o?void 0:d,o=1),t=Object(t);++n<o;){var r=a[n];r&&e(t,r,n,d)}return t})}function We(e){var t=e&&e.constructor,a="function"==typeof t&&t.prototype||Lb;return e===a}function Le(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}function Ye(e){return S(e)&&j(e)=="[object Arguments]"}function Fe(){return!1}function qe(e){return function(t){return e(t)}}function He(e,t){var a=Fh(e),n=!a&&Hb(e),o=!a&&!n&&Kb(e),d=!a&&!n&&!o&&dg(e),i=a||n||o||d,r=i?Le(e.length,String):[],c=r.length;for(var l in e)(t||rg.call(e,l))&&!(i&&("length"==l||o&&("offset"==l||"parent"==l)||d&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||je(l,c)))&&r.push(l);return r}function Ve(e,t){return function(a){return e(t(a))}}function Ge(e){if(!We(e))return cg(e);var t=[];for(var a in Object(e))sg.call(e,a)&&"constructor"!=a&&t.push(a);return t}function Xe(e){return Be(e)?He(e):Ge(e)}function Ze(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}function $e(e){if(!I(e))return Ze(e);var t=We(e),a=[];for(var n in e)("constructor"!=n||!t&&bg.call(e,n))&&a.push(n);return a}function Ke(e){return Be(e)?He(e,!0):$e(e)}function Je(e,t){if(Fh(e))return!1;var a=typeof e;return!!("number"==a||"symbol"==a||"boolean"==a||null==e||T(e))||xg.test(e)||!mg.test(e)||null!=t&&e in Object(t)}function Qe(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function et(e,t){for(var a=e.length;a--;)if(Ie(e[a][0],t))return a;return-1}function tt(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function nt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ot(e,t){var a=e.__data__;return nt(t)?a["string"==typeof t?"string":"hash"]:a.map}function dt(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function it(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var a=function(){var n=arguments,o=t?t.apply(this,n):n[0],d=a.cache;if(d.has(o))return d.get(o);var i=e.apply(this,n);return a.cache=d.set(o,i)||d,i};return a.cache=new(it.Cache||dt),a}function rt(e){return null==e?"":P(e)}function ct(e,t){return Fh(e)?e:Je(e,t)?[e]:Ng(rt(e))}function st(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-Pg?"-0":t}function ft(e,t){t=ct(t,e);for(var a=0,n=t.length;null!=e&&a<n;)e=e[st(t[a++])];return a&&a==n?e:void 0}function pt(e,t,a){var n=null==e?void 0:ft(e,t);return n===void 0?a:n}function ut(e,t){for(var a=-1,n=t.length,o=Array(n);++a<n;)o[a]=null==e?void 0:pt(e,t[a]);return o}function ht(e,t){for(var a=-1,n=t.length,o=e.length;++a<n;)e[o+a]=t[a];return e}function bt(e){return Fh(e)||Hb(e)||!!(Mg&&e&&e[Mg])}function yt(e,t,a,n,o){var d=-1,i=e.length;for(a||(a=bt),o||(o=[]);++d<i;){var r=e[d];0<t&&a(r)?1<t?yt(r,t-1,a,n,o):ht(o,r):!n&&(o[o.length]=r)}return o}function _t(e){var t=null==e?0:e.length;return t?yt(e,1):[]}function mt(e){return Pb(i(e,void 0,_t),e+"")}function xt(e){if(!S(e)||j(e)!="[object Object]")return!1;var t=at(e);if(null===t)return!0;var a=zg.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&Bg.call(a)==Dg}function vt(e){if(!S(e))return!1;var t=j(e);return t=="[object Error]"||t=="[object DOMException]"||"string"==typeof e.message&&"string"==typeof e.name&&!xt(e)}function wt(e,t){var a;if("function"!=typeof t)throw new TypeError("Expected a function");return e=z(e),function(){return 0<--e&&(a=t.apply(this,arguments)),1>=e&&(t=void 0),a}}function kt(e,t,a){var n=-1,o=e.length;0>t&&(t=-t>o?0:o+t),a=a>o?o:a,0>a&&(a+=o),o=t>a?0:a-t>>>0,t>>>=0;for(var d=Array(o);++n<o;)d[n]=e[n+t];return d}function jt(e,t,a){var n=e.length;return a=void 0===a?n:a,!t&&a>=n?e:kt(e,t,a)}function St(e){return qg.test(e)}function Tt(e){return e.split("")}function Ct(e){return e.match(ty)||[]}function At(e){return St(e)?Ct(e):Tt(e)}function Ot(e){return function(t){t=rt(t);var a=St(t)?At(t):void 0,n=a?a[0]:t.charAt(0),o=a?jt(a,1).join(""):t.slice(1);return n[e]()+o}}function Et(e){return ay(rt(e).toLowerCase())}function Nt(e,t,a,n){var o=-1,d=null==e?0:e.length;for(n&&d&&(a=e[++o]);++o<d;)a=t(a,e[o],o,e);return a}function Pt(e){return function(t){return null==e?void 0:e[t]}}function Mt(e){return e=rt(e),e&&e.replace(oy,ny).replace(dy,"")}function It(e){return e.match(iy)||[]}function Rt(e){return ry.test(e)}function Ut(e){return e.match(Ay)||[]}function Bt(e,t,a){return e=rt(e),t=a?void 0:t,void 0===t?Rt(e)?Ut(e):It(e):e.match(t)||[]}function zt(e){return function(t){return Nt(Bt(Mt(t).replace(Oy,"")),e,"")}}function Dt(e){var t=Math[e];return function(e,a){if(e=R(e),a=null==a?0:Ny(z(a),292),a){var n=(rt(e)+"e").split("e"),o=t(n[0]+"e"+(+n[1]+a));return n=(rt(o)+"e").split("e"),+(n[0]+"e"+(+n[1]-a))}return t(e)}}function Wt(e){var t=ce(e);return t.__chain__=!0,t}function Lt(e,t,a){return e===e&&(void 0!==a&&(e=e<=a?e:a),void 0!==t&&(e=e>=t?e:t)),e}function Yt(e){var t=this.__data__=new tt(e);this.size=t.size}function Ft(e,t){return e&&n(t,Xe(t),e)}function qt(e,t){return e&&n(t,Ke(t),e)}function Ht(e,t){if(t)return e.slice();var a=e.length,n=By?By(a):new e.constructor(a);return e.copy(n),n}function Vt(e,t){for(var a=-1,n=null==e?0:e.length,o=0,d=[];++a<n;){var i=e[a];t(i,a,e)&&(d[o++]=i)}return d}function Gt(){return[]}function Xt(e,t){return n(e,Ly(e),t)}function Zt(e,t){return n(e,Fy(e),t)}function $t(e,t,a){var n=t(e);return Fh(e)?n:ht(n,a(e))}function Kt(e){return $t(e,Xe,Ly)}function Jt(e){return $t(e,Ke,Fy)}function Qt(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&i_.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function ea(e){var t=new e.constructor(e.byteLength);return new r_(t).set(new r_(e)),t}function ta(e,t){var a=t?ea(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function aa(e){var t=new e.constructor(e.source,c_.exec(e));return t.lastIndex=e.lastIndex,t}function na(e){return s_?Object(s_.call(e)):{}}function oa(e,t){var a=t?ea(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function da(e,t,a){var n=e.constructor;return"[object ArrayBuffer]"===t?ea(e):"[object Boolean]"===t||"[object Date]"===t?new n(+e):"[object DataView]"===t?ta(e,a):"[object Float32Array]"===t||"[object Float64Array]"===t||"[object Int8Array]"===t||"[object Int16Array]"===t||"[object Int32Array]"===t||"[object Uint8Array]"===t||"[object Uint8ClampedArray]"===t||"[object Uint16Array]"===t||"[object Uint32Array]"===t?oa(e,a):"[object Map]"===t?new n:"[object Number]"===t||"[object String]"===t?new n(e):"[object RegExp]"===t?aa(e):"[object Set]"===t?new n:"[object Symbol]"===t?na(e):void 0}function ia(e){return"function"!=typeof e.constructor||We(e)?{}:gb(at(e))}function ra(e,a,n,o,d,i){var r=1&a,c=2&a,l;if(n&&(l=d?n(e,o,d,i):n(e)),void 0!==l)return l;if(!I(e))return e;var s=Fh(e);if(!s){var f=o_(e),p="[object Function]"==f||"[object GeneratorFunction]"==f;if(Kb(e))return Ht(e,r);if("[object Object]"!=f&&"[object Arguments]"!=f&&(!p||d)){if(!b_[f])return d?e:{};l=da(e,f,r)}else if(l=c||p?{}:ia(e),!r)return c?Zt(e,qt(l,e)):Xt(e,Ft(l,e))}else if(l=Qt(e),!r)return de(e,l);i||(i=new Yt);var u=i.get(e);if(u)return u;if(i.set(e,l),h_(e))return e.forEach(function(t){l.add(ra(t,a,n,t,e,i))}),l;if(p_(e))return e.forEach(function(t,o){l.set(o,ra(t,a,n,o,e,i))}),l;var h=4&a?c?Jt:Kt:c?keysIn:Xe,b=s?void 0:h(e);return he(b||e,function(o,d){b&&(d=o,o=e[d]),t(l,d,ra(o,a,n,d,e,i))}),l}function ca(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new dt;++t<a;)this.add(e[t])}function la(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}function sa(e,t){return e.has(t)}function fa(e,t,a,n,o,d){var i=1&a,r=e.length,c=t.length;if(r!=c&&!(i&&c>r))return!1;var l=d.get(e);if(l&&d.get(t))return l==t;var s=-1,f=!0,p=2&a?new ca:void 0;for(d.set(e,t),d.set(t,e);++s<r;){var u=e[s],h=t[s];if(n)var b=i?n(h,u,s,t,e,d):n(u,h,s,e,t,d);if(void 0!==b){if(b)continue;f=!1;break}if(p){if(!la(t,function(e,t){if(!sa(p,t)&&(u===e||o(u,e,a,n,d)))return p.push(t)})){f=!1;break}}else if(!(u===h||o(u,h,a,n,d))){f=!1;break}}return d["delete"](e),d["delete"](t),f}function pa(e){var t=-1,a=Array(e.size);return e.forEach(function(e,n){a[++t]=[n,e]}),a}function ua(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}function ha(e,t,a,n,o,d,i){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!!(e.byteLength==t.byteLength&&d(new r_(e),new r_(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ie(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var r=pa;case"[object Set]":var c=1&n;if(r||(r=ua),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;n|=2,i.set(e,t);var s=fa(r(e),r(t),n,o,d,i);return i["delete"](e),s;case"[object Symbol]":if(y_)return y_.call(e)==y_.call(t);}return!1}function ba(e,t,a,n,o,d){var i=1&a,r=Kt(e),c=r.length,l=Kt(t),s=l.length;if(c!=s&&!i)return!1;for(var f=c,p;f--;)if(p=r[f],i?!(p in t):!m_.call(t,p))return!1;var u=d.get(e);if(u&&d.get(t))return u==t;var h=!0;d.set(e,t),d.set(t,e);for(var b=i;++f<c;){p=r[f];var g=e[p],y=t[p];if(n)var _=i?n(y,g,p,t,e,d):n(g,y,p,e,t,d);if(void 0===_?!(g===y||o(g,y,a,n,d)):!_){h=!1;break}b||(b="constructor"==p)}if(h&&!b){var m=e.constructor,x=t.constructor;m!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(h=!1)}return d["delete"](e),d["delete"](t),h}function ga(e,t,a,n,o,d){var i=Fh(e),r=Fh(t),c=i?"[object Array]":o_(e),l=r?"[object Array]":o_(t);c="[object Arguments]"==c?"[object Object]":c,l="[object Arguments]"==l?"[object Object]":l;var s="[object Object]"==c,f="[object Object]"==l,p=c==l;if(p&&Kb(e)){if(!Kb(t))return!1;i=!0,s=!1}if(p&&!s)return d||(d=new Yt),i||dg(e)?fa(e,t,a,n,o,d):ha(e,t,c,a,n,o,d);if(!(1&a)){var u=s&&v_.call(e,"__wrapped__"),h=f&&v_.call(t,"__wrapped__");if(u||h){var b=u?e.value():e,g=h?t.value():t;return d||(d=new Yt),o(b,g,a,n,d)}}return!!p&&(d||(d=new Yt),ba(e,t,a,n,o,d))}function ya(e,t,a,n,o){return!(e!==t)||(null!=e&&null!=t&&(S(e)||S(t))?ga(e,t,a,n,ya,o):e!==e&&t!==t)}function _a(e,t,a,n){var o=a.length,d=o,i=!n;if(null==e)return!d;for(e=Object(e);o--;){var r=a[o];if(i&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++o<d;){r=a[o];var c=r[0],l=e[c],s=r[1];if(!(i&&r[2])){var f=new Yt;if(n)var p=n(l,s,c,e,t,f);if(void 0===p?!ya(s,l,3,n,f):!p)return!1}else if(void 0===l&&!(c in e))return!1}return!0}function ma(e){return e===e&&!I(e)}function xa(e){for(var t=Xe(e),a=t.length;a--;){var n=t[a],o=e[n];t[a]=[n,o,ma(o)]}return t}function va(e,t){return function(a){return null!=a&&a[e]===t&&(t!==void 0||e in Object(a))}}function wa(e){var t=xa(e);return 1==t.length&&t[0][2]?va(t[0][0],t[0][1]):function(a){return a===e||_a(a,e,t)}}function ka(e,t){return null!=e&&t in Object(e)}function ja(e,t,a){t=ct(t,e);for(var n=-1,o=t.length,d=!1,i;++n<o&&(i=st(t[n]),!!(d=null!=e&&a(e,i)));)e=e[i];return d||++n!=o?d:(o=null==e?0:e.length,!!o&&Ue(o)&&je(i,o)&&(Fh(e)||Hb(e)))}function Sa(e,t){return null!=e&&ja(e,t,ka)}function Ta(e,t){return Je(e)&&ma(t)?va(st(e),t):function(a){var n=pt(a,e);return n===void 0&&n===t?Sa(a,e):ya(t,n,3)}}function Ca(e){return function(t){return null==t?void 0:t[e]}}function Aa(e){return function(t){return ft(t,e)}}function Oa(e){return Je(e)?Ca(st(e)):Aa(e)}function Ea(e){return"function"==typeof e?e:null==e?W:"object"==typeof e?Fh(e)?Ta(e[0],e[1]):wa(e):Oa(e)}function Na(e,t,a){var n=a.length;if(null==e)return!n;for(e=Object(e);n--;){var o=a[n],d=t[o],i=e[o];if(i===void 0&&!(o in e)||!d(i))return!1}return!0}function Pa(e){var t=Xe(e);return function(a){return Na(a,e,t)}}function Ma(e,t,a,n){for(var o=-1,d=null==e?0:e.length;++o<d;){var i=e[o];t(n,i,a(i),e)}return n}function Ia(e){return function(t,a,n){for(var o=-1,d=Object(t),i=n(t),r=i.length;r--;){var c=i[e?r:++o];if(!1===a(d[c],c,d))break}return t}}function Ra(e,t){return e&&w_(e,t,Xe)}function Ua(e,t){return function(a,n){if(null==a)return a;if(!Be(a))return e(a,n);for(var o=a.length,d=t?o:-1,i=Object(a);(t?d--:++d<o)&&!(!1===n(i[d],d,i)););return a}}function Ba(e,t,a,n){return k_(e,function(e,o,d){t(n,e,a(e),d)}),n}function za(e,t){return function(a,n){var o=Fh(a)?Ma:Ba,d=t?t():{};return o(a,e,Ea(n,2),d)}}function Da(e,t,a){t=a?void 0:t;var n=Ne(e,8,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=Da.placeholder,n}function Wa(e,t,a){t=a?void 0:t;var n=Ne(e,16,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=Wa.placeholder,n}function La(e,t,a){function n(t){var a=g,n=y;return g=y=void 0,p=t,m=e.apply(n,a),m}function o(e){return p=e,x=setTimeout(r,t),u?n(e):m}function d(e){var a=e-v,n=e-p,o=t-a;return h?O_(o,_-n):o}function i(e){var a=e-v,n=e-p;return void 0===v||a>=t||0>a||h&&n>=_}function r(){var e=C_();return i(e)?c(e):void(x=setTimeout(r,d(e)))}function c(e){return(x=void 0,b&&g)?n(e):(g=y=void 0,m)}function l(){void 0!==x&&clearTimeout(x),p=0,g=v=y=x=void 0}function s(){return void 0===x?m:c(C_())}function f(){var e=C_(),a=i(e);if(g=arguments,y=this,v=e,a){if(void 0===x)return o(v);if(h)return x=setTimeout(r,t),n(v)}return void 0===x&&(x=setTimeout(r,t)),m}var p=0,u=!1,h=!1,b=!0,g,y,_,m,x,v;if("function"!=typeof e)throw new TypeError("Expected a function");return t=R(t)||0,I(a)&&(u=!!a.leading,h="maxWait"in a,_=h?A_(R(a.maxWait)||0,t):_,b="trailing"in a?!!a.trailing:b),f.cancel=l,f.flush=s,f}function Ya(e,t,a){(a===void 0||Ie(e[t],a))&&(a!==void 0||t in e)||Me(e,t,a)}function Fa(e){return S(e)&&Be(e)}function qa(e,t){return"__proto__"==t?void 0:e[t]}function Ha(e){return n(e,Ke(e))}function Va(e,t,a,n,o,d,i){var r=qa(e,a),c=qa(t,a),l=i.get(c);if(l)return void Ya(e,a,l);var s=d?d(r,c,a+"",e,t,i):void 0,f=s===void 0;if(f){var p=Fh(c),u=!p&&Kb(c),h=!p&&!u&&dg(c);s=c,p||u||h?Fh(r)?s=r:Fa(r)?s=de(r):u?(f=!1,s=Ht(c,!0)):h?(f=!1,s=oa(c,!0)):s=[]:xt(c)||Hb(c)?(s=r,Hb(r)?s=Ha(r):(!I(r)||L(r))&&(s=ia(c))):f=!1}f&&(i.set(c,s),o(s,c,n,d,i),i["delete"](c)),Ya(e,a,s)}function Ga(e,t,a,n,o){e===t||w_(t,function(d,i){if(I(d))o||(o=new Yt),Va(e,t,i,a,Ga,n,o);else{var r=n?n(qa(e,i),d,i+"",e,t,o):void 0;r===void 0&&(r=d),Ya(e,i,r)}},Ke)}function Xa(e,t,a,n,o,d){return I(e)&&I(t)&&(d.set(t,e),Ga(e,t,void 0,Xa,d),d["delete"](t)),e}function Za(e,t,a){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout(function(){e.apply(void 0,a)},t)}function $a(e,t,a){for(var n=-1,o=null==e?0:e.length;++n<o;)if(a(t,e[n]))return!0;return!1}function Ka(e,t,a,n){var o=-1,d=me,i=!0,r=e.length,c=[],l=t.length;if(!r)return c;a&&(t=N(t,qe(a))),n?(d=$a,i=!1):t.length>=200&&(d=sa,i=!1,t=new ca(t));outer:for(;++o<r;){var s=e[o],f=null==a?s:a(s);if(s=n||0!==s?s:0,i&&f===f){for(var p=l;p--;)if(t[p]===f)continue outer;c.push(s)}else d(t,f,n)||c.push(s)}return c}function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function Qa(e,t,a,n){for(var o=e.length,d=n?o:-1;(n?d--:++d<o)&&t(e[d],d,e););return a?kt(e,n?0:d,n?d+1:o):kt(e,n?d+1:0,n?o:d)}function en(e){return"function"==typeof e?e:W}function tn(e,t){var a=Fh(e)?he:k_;return a(e,en(t))}function an(e,t){for(var a=null==e?0:e.length;a--&&!(!1===t(e[a],a,e)););return e}function nn(e,t){return e&&L_(e,t,Xe)}function on(e,t){var a=Fh(e)?an:Y_;return a(e,en(t))}function dn(e,t){return N(t,function(t){return[t,e[t]]})}function rn(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=[e,e]}),a}function cn(e){return function(t){var a=o_(t);return"[object Map]"==a?pa(t):"[object Set]"==a?rn(t):dn(t,e(t))}}function ln(e){return e=rt(e),e&&G_.test(e)?e.replace(V_,H_):e}function sn(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(!t(e[a],a,e))return!1;return!0}function fn(e,t){var a=!0;return k_(e,function(e,n,o){return a=!!t(e,n,o),a}),a}function pn(e){return e?Lt(z(e),0,4294967295):0}function un(e,t,a,n){var o=e.length;for(a=z(a),0>a&&(a=-a>o?0:o+a),n=void 0===n||n>o?o:z(n),0>n&&(n+=o),n=a>n?0:pn(n);a<n;)e[a++]=t;return e}function hn(e,t){var a=[];return k_(e,function(e,n,o){t(e,n,o)&&a.push(e)}),a}function bn(e){return function(t,a,n){var o=Object(t);if(!Be(t)){var d=Ea(a,3);t=Xe(t),a=function(e){return d(o[e],e,o)}}var i=e(t,a,n);return-1<i?o[d?t[i]:i]:void 0}}function gn(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var o=null==a?0:z(a);return 0>o&&(o=$_(n+o,0)),be(e,Ea(t,3),o)}function yn(e,t,a){var n;return a(e,function(e,a,o){if(t(e,a,o))return n=a,!1}),n}function _n(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return void 0!==a&&(o=z(a),o=0>a?J_(n+o,0):Q_(o,n-1)),be(e,Ea(t,3),o,!0)}function mn(e){return e&&e.length?e[0]:void 0}function xn(e,t){var a=-1,n=Be(e)?Array(e.length):[];return k_(e,function(e,o,d){n[++a]=t(e,o,d)}),n}function vn(e,t){var a=Fh(e)?N:xn;return a(e,Ea(t,3))}function wn(e){return mt(function(t){var a=t.length,n=a,o=oe.prototype.thru;for(e&&t.reverse();n--;){var d=t[n];if("function"!=typeof d)throw new TypeError("Expected a function");if(o&&!i&&"wrapper"==ne(d))var i=new oe([],!0)}for(n=i?n:a;++n<a;){d=t[n];var r=ne(d),c="wrapper"==r?mb(d):void 0;i=c&&le(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?i[ne(c[0])].apply(i,c[3]):1==d.length&&le(d)?i[r]():i.thru(d)}return function(){var e=arguments,n=e[0];if(i&&1==e.length&&Fh(n))return i.plant(n).value();for(var o=0,d=a?t[o].apply(this,e):n;++o<a;)d=t[o].call(this,d);return d}})}function kn(e,t){return Vt(t,function(t){return L(e[t])})}function jn(e,t){return e>t}function Sn(e){return function(t,a){return"string"==typeof t&&"string"==typeof a||(t=R(t),a=R(a)),e(t,a)}}function Tn(e,t){return null!=e&&lm.call(e,t)}function Cn(e,t,a){return e>=fm(t,a)&&e<sm(t,a)}function An(e){return"string"==typeof e||!Fh(e)&&S(e)&&j(e)=="[object String]"}function On(e,t){return N(t,function(t){return e[t]})}function En(e){return null==e?[]:On(e,Xe(e))}function Nn(e,t,a){for(var n=a?$a:me,o=e[0].length,d=e.length,i=d,r=Array(d),c=1/0,l=[];i--;){var s=e[i];i&&t&&(s=N(s,qe(t))),c=pm(s.length,c),r[i]=!a&&(t||120<=o&&120<=s.length)?new ca(i&&s):void 0}s=e[0];var f=-1,p=r[0];outer:for(;++f<o&&l.length<c;){var u=s[f],h=t?t(u):u;if(u=a||0!==u?u:0,p?!sa(p,h):!n(l,h,a)){for(i=d;--i;){var b=r[i];if(b?!sa(b,h):!n(e[i],h,a))continue outer}p&&p.push(h),l.push(u)}}return l}function Pn(e){return Fa(e)?e:[]}function Mn(e,t,a,n){return Ra(e,function(e,o,d){t(n,a(e),o,d)}),n}function In(e,t){return function(a,n){return Mn(a,e,t(n),{})}}function Rn(e,t){return 2>t.length?e:ft(e,kt(t,0,-1))}function Un(e,t,a){t=ct(t,e),e=Rn(e,t);var n=null==e?e:e[st(Ja(t))];return null==n?void 0:Z(n,e,a)}function Bn(e){return"number"==typeof e&&e==z(e)}function zn(e){return"number"==typeof e||S(e)&&j(e)=="[object Number]"}function Dn(e,t,a){for(var n=a+1;n--;)if(e[n]===t)return n;return n}function Wn(e,t){return e<t}function Ln(e,t,a){for(var n=-1,o=e.length;++n<o;){var d=e[n],i=t(d);if(null!=i&&(r===void 0?i===i&&!T(i):a(i,r)))var r=i,c=d}return c}function Yn(e,t){for(var a=-1,n=e.length,o;++a<n;){var d=t(e[a]);d!==void 0&&(o=o===void 0?d:o+d)}return o}function Fn(e,t){var a=null==e?0:e.length;return a?Yn(e,t)/a:Ym}function qn(e,t,a){var n=Xe(t),o=kn(t,n),d=!(I(a)&&"chain"in a)||!!a.chain,i=L(e);return he(o,function(a){var n=t[a];e[a]=n,i&&(e.prototype[a]=function(){var t=this.__chain__;if(d||t){var a=e(this.__wrapped__),o=a.__actions__=de(this.__actions__);return o.push({func:n,args:arguments,thisArg:e}),a.__chain__=t,a}return n.apply(e,ht([this.value()],arguments))})}),e}function Hn(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2]);}return!e.apply(this,t)}}function Vn(e){for(var t=[],a;!(a=e.next()).done;)t.push(a.value);return t}function Gn(e){if(!e)return[];if(Be(e))return An(e)?At(e):de(e);if(Gm&&e[Gm])return Vn(e[Gm]());var t=o_(e),a=t=="[object Map]"?pa:t=="[object Set]"?ua:En;return a(e)}function $n(e,t){var a=e.length;if(a)return t+=0>t?a:0,je(t,a)?e[t]:void 0}function Kn(e,t){return t=ct(t,e),e=Rn(e,t),null==e||delete e[st(Ja(t))]}function Jn(e){return xt(e)?void 0:e}function Qn(e,a,n,o){if(!I(e))return e;a=ct(a,e);for(var d=-1,i=a.length,r=e;null!=r&&++d<i;){var c=st(a[d]),l=n;if(d!=i-1){var s=r[c];l=o?o(s,c,r):void 0,l===void 0&&(l=I(s)?s:je(a[d+1])?[]:{})}t(r,c,l),r=r[c]}return e}function eo(e,t,a){for(var n=-1,o=t.length,d={};++n<o;){var i=t[n],r=ft(e,i);a(r,i)&&Qn(d,ct(i,e),r)}return d}function to(e,t){if(null==e)return{};var a=N(Jt(e),function(e){return[e]});return t=Ea(t),eo(e,a,function(e,a){return t(e,a[0])})}function ao(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}function no(e,t){if(e!==t){var a=e!==void 0,n=null===e,o=e===e,d=T(e),i=t!==void 0,r=null===t,c=t===t,l=T(t);if(!r&&!l&&!d&&e>t||d&&i&&c&&!r&&!l||n&&i&&c||!a&&c||!o)return 1;if(!n&&!d&&!l&&e<t||l&&a&&o&&!n&&!d||r&&a&&o||!i&&o||!c)return-1}return 0}function oo(e,t,a){for(var n=-1,o=e.criteria,d=t.criteria,i=o.length,r=a.length;++n<i;){var c=no(o[n],d[n]);if(c){if(n>=r)return c;var l=a[n];return c*("desc"==l?-1:1)}}return e.index-t.index}function io(e,t,a){var n=-1;t=N(t.length?t:[W],qe(Ea));var o=xn(e,function(e){var a=N(t,function(t){return t(e)});return{criteria:a,index:++n,value:e}});return ao(o,function(e,t){return oo(e,t,a)})}function ro(e){return mt(function(t){return t=N(t,qe(Ea)),Re(function(a){var n=this;return e(t,function(e){return Z(e,n,a)})})})}function co(e,t){var a="";if(!e||1>t||t>9007199254740991)return a;do t%2&&(a+=e),t=Qm(t/2),t&&(e+=e);while(t);return a}function lo(e){for(var t=fx.lastIndex=0;fx.test(e);)++t;return t}function so(e){return St(e)?lo(e):ex(e)}function fo(e,t){t=t===void 0?" ":P(t);var a=t.length;if(2>a)return a?co(t,e):t;var n=co(t,px(e/so(t)));return St(t)?jt(At(n),0,e).join(""):n.slice(0,e)}function po(e,t){return eo(e,t,function(t,a){return Sa(e,a)})}function uo(e,t,a,n){for(var o=a-1,d=e.length;++o<d;)if(n(e[o],t))return o;return-1}function ho(e,t,a,n){var o=n?uo:_e,d=-1,i=t.length,r=e;for(e===t&&(t=de(t)),a&&(r=N(e,qe(a)));++d<i;)for(var c=0,l=t[d],s=a?a(l):l;-1<(c=o(r,s,c,n));)r!==e&&xx.call(r,c,1),xx.call(e,c,1);return e}function bo(e,t){return e&&e.length&&t&&t.length?ho(e,t):e}function go(e,t){for(var a=e?t.length:0,n=a-1;a--;){var o=t[a];if(a==n||o!==d){var d=o;je(o)?kx.call(e,o,1):Kn(e,o)}}return e}function yo(e,t){return e+Sx(Tx()*(t-e+1))}function _o(e,t,a,n){for(var o=-1,d=Ex(Ox((t-e)/(a||1)),0),i=Array(d);d--;)i[n?d:++o]=e,e+=a;return i}function mo(e){return function(t,a,n){return n&&"number"!=typeof n&&ze(t,a,n)&&(a=n=void 0),t=U(t),void 0===a?(a=t,t=0):a=U(a),n=void 0===n?t<a?1:-1:U(n),_o(t,a,n,e)}}function xo(e,t,a,n,o){return o(e,function(e,o,d){a=n?(n=!1,e):t(a,e,o,d)}),a}function vo(e,t,a,n){var o=null==e?0:e.length;for(n&&o&&(a=e[--o]);o--;)a=t(a,e[o],o,e);return a}function wo(e){return null==e?e:Rx.call(e)}function ko(e){var t=e.length;return t?e[yo(0,t-1)]:void 0}function jo(e){return ko(En(e))}function So(e,t){var a=-1,n=e.length;for(t=void 0===t?n:t;++a<t;){var o=yo(a,n-1),d=e[o];e[o]=e[a],e[a]=d}return e.length=t,e}function To(e,t){return So(de(e),Lt(t,0,e.length))}function Co(e,t){var a=En(e);return So(a,Lt(t,0,a.length))}function Ao(e){return So(de(e))}function Oo(e){return So(En(e))}function Eo(e,t){var a;return k_(e,function(e,n,o){return a=t(e,n,o),!a}),!!a}function No(e,t,a,n){t=a(t);for(var o=0,d=null==e?0:e.length,i=t!==t,r=null===t,c=T(t),l=void 0===t;o<d;){var s=Dx((o+d)/2),f=a(e[s]),p=f!==void 0,u=null===f,h=f===f,b=T(f);if(i)var g=n||h;else g=l?h&&(n||p):r?h&&p&&(n||!u):c?h&&p&&!u&&(n||!b):!(u||b)&&(n?f<=t:f<t);g?o=s+1:d=s}return Wx(d,4294967294)}function Po(e,t,a){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;n<o;){var d=n+o>>>1,i=e[d];null!==i&&!T(i)&&(a?i<=t:i<t)?n=d+1:o=d}return o}return No(e,t,W,a)}function Mo(e,t){for(var a=-1,n=e.length,o=0,d=[];++a<n;){var i=e[a],r=t?t(i):i;if(!a||!Ie(r,c)){var c=r;d[o++]=0===i?0:i}}return d}function Io(e,t,a,n){return void 0===e||Ie(e,Fx[a])&&!qx.call(n,a)?t:e}function Ro(e){return"\\"+Hx[e]}function Uo(e,t,a){var n=Zx.imports._.templateSettings||Zx;a&&ze(e,t,a)&&(t=void 0),e=rt(e),t=yg({},t,n,Io);var o=yg({},t.imports,n.imports,Io),d=Xe(o),i=On(o,d),r=0,c=t.interpolate||ev,l="__p += '",s=RegExp((t.escape||ev).source+"|"+c.source+"|"+(c===Vx?Qx:ev).source+"|"+(t.evaluate||ev).source+"|$","g"),f="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"",p,u;e.replace(s,function(t,a,n,o,d,i){return n||(n=o),l+=e.slice(r,i).replace(tv,Ro),a&&(p=!0,l+="' +\n__e("+a+") +\n'"),d&&(u=!0,l+="';\n"+d+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),r=i+t.length,t}),l+="';\n";var h=t.variable;h||(l="with (obj) {\n"+l+"\n}\n"),l=(u?l.replace($x,""):l).replace(Kx,"$1").replace(Jx,"$1;"),l="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(p?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var b=Wg(function(){return Function(d,f+"return "+l).apply(void 0,i)});if(b.source=l,vt(b))throw b;return b}function Bo(e,t,a){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return I(a)&&(n="leading"in a?!!a.leading:n,o="trailing"in a?!!a.trailing:o),La(e,t,{leading:n,maxWait:t,trailing:o})}function zo(e,t){return t(e)}function Do(e,t){var a=e;return a instanceof te&&(a=a.value()),Nt(t,function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))},a)}function Wo(){return Do(this.__wrapped__,this.__actions__)}function Lo(e,t){for(var a=e.length;a--&&-1<_e(t,e[a],0););return a}function Yo(e,t){for(var a=-1,n=e.length;++a<n&&-1<_e(t,e[a],0););return a}function Fo(e,t){var a=30,n="...";if(I(t)){var o="separator"in t?t.separator:o;a="length"in t?z(t.length):a,n="omission"in t?P(t.omission):n}e=rt(e);var d=e.length;if(St(e)){var i=At(e);d=i.length}if(a>=d)return e;var r=a-so(n);if(1>r)return n;var c=i?jt(i,0,r).join(""):e.slice(0,r);if(void 0===o)return c+n;if(i&&(r+=c.length-r),Im(o)){if(e.slice(r).search(o)){var l=c,s;for(o.global||(o=RegExp(o.source,rt(dv.exec(o))+"g")),o.lastIndex=0;s=o.exec(l);)var f=s.index;c=c.slice(0,void 0===f?r:f)}}else if(e.indexOf(P(o),r)!=r){var p=c.lastIndexOf(o);-1<p&&(c=c.slice(0,p))}return c+n}function qo(e,t,a){var n=-1,o=me,d=e.length,i=!0,r=[],c=r;if(a)i=!1,o=$a;else if(d>=200){var l=t?null:lv(e);if(l)return ua(l);i=!1,o=sa,c=new ca}else c=t?[]:r;outer:for(;++n<d;){var s=e[n],f=t?t(s):s;if(s=a||0!==s?s:0,i&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue outer;t&&c.push(f),r.push(s)}else o(c,f,a)||(c!==r&&c.push(f),r.push(s))}return r}function Ho(e){var t=++uv;return rt(e)+t}function Vo(e){if(!(e&&e.length))return[];var t=0;return e=Vt(e,function(e){if(Fa(e))return t=hv(e.length,t),!0}),Le(t,function(t){return N(e,Ca(t))})}function Go(e,t){if(!(e&&e.length))return[];var a=Vo(e);return null==t?a:N(a,function(e){return Z(t,void 0,e)})}function Xo(e,t,a,n){return Qn(e,t,a(ft(e,t)),n)}function Zo(e,t,a){var n=e.length;if(2>n)return n?qo(e[0]):[];for(var o=-1,d=Array(n);++o<n;)for(var i=e[o],r=-1;++r<n;)r!=o&&(d[o]=Ka(d[o]||i,e[r],t,a));return qo(yt(d,1),t,a)}function $o(e,t,a){for(var n=-1,o=e.length,d=t.length,i={};++n<o;){var r=n<d?t[n]:void 0;a(i,e[n],r)}return i}function Ko(e,t,a){for(var n=-1,o=a.length;++n<o;){var d=a[n],i=d.size;switch(d.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=Iv(t,e+i);break;case"takeRight":e=Mv(e,t-i);}}return{start:e,end:t}}function Jo(e){return e}function Qo(e){if(null==e)return Jo;var t=e.scale[0],a=e.scale[1],o=e.translate[0],d=e.translate[1],r,c;return function(e,l){l||(r=c=0);var i=2,s=e.length,n=Array(s);for(n[0]=(r+=e[0])*t+o,n[1]=(c+=e[1])*a+d;i<s;)n[i]=e[i],++i;return n}}function ed(e,a){for(var n=e.length,o=n-a,d;o<--n;)d=e[o],e[o++]=e[n],e[n]=d}function td(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return ad(e,t)})}:ad(e,t)}function ad(e,t){var a=t.id,n=t.bbox,o=null==t.properties?{}:t.properties,d=nd(e,t);return null==a&&null==n?{type:"Feature",properties:o,geometry:d}:null==n?{type:"Feature",id:a,properties:o,geometry:d}:{type:"Feature",id:a,bbox:n,properties:o,geometry:d}}function nd(e,t){function a(e,t){t.length&&t.pop();for(var o=s[0>e?~e:e],a=0,d=o.length;a<d;++a)t.push(l(o[a],a));0>e&&ed(t,d)}function n(e){return l(e)}function d(e){for(var t=[],o=0,d=e.length;o<d;++o)a(e[o],t);return 2>t.length&&t.push(t[0]),t}function i(e){for(var t=d(e);4>t.length;)t.push(t[0]);return t}function r(e){return e.map(i)}function c(e){var t=e.type,a;switch(t){case"GeometryCollection":return{type:t,geometries:e.geometries.map(c)};case"Point":a=n(e.coordinates);break;case"MultiPoint":a=e.coordinates.map(n);break;case"LineString":a=d(e.arcs);break;case"MultiLineString":a=e.arcs.map(d);break;case"Polygon":a=r(e.arcs);break;case"MultiPolygon":a=e.arcs.map(r);break;default:return null;}return{type:t,coordinates:a}}var l=Qo(e.transform),s=e.arcs;return c(t)}function od(){return new dd}function dd(){this.reset()}function rd(e,t,a){var n=e.s=t+a,o=n-t;e.t=t-(n-o)+(a-o)}function cd(){}function ld(e,t){e&&Hv.hasOwnProperty(e.type)&&Hv[e.type](e,t)}function sd(e,t,a){var o=-1,d=e.length-a,n;for(t.lineStart();++o<d;)n=e[o],t.point(n[0],n[1],n[2]);t.lineEnd()}function fd(e,t){var a=-1,o=e.length;for(t.polygonStart();++a<o;)sd(e[a],t,1);t.polygonEnd()}function pd(e,t){e&&qv.hasOwnProperty(e.type)?qv[e.type](e,t):ld(e,t)}function ud(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hd(e){return function(t,a){return ud(e(t),a)}}function bd(e,t,a){var o=-1,d,r,c,l;if(t=+t,e=+e,a=+a,e===t&&0<a)return[e];if((d=t<e)&&(r=e,e=t,t=r),0===(l=gd(e,t,a))||!isFinite(l))return[];if(0<l)for(e=hh(e/l),t=uh(t/l),c=Array(r=hh(t-e+1));++o<r;)c[o]=(e+o)*l;else for(e=uh(e*l),t=hh(t*l),c=Array(r=hh(e-t+1));++o<r;)c[o]=(e-o)/l;return d&&c.reverse(),c}function gd(e,t,a){var n=(t-e)/ph(0,a),o=uh(fh(n)/sh),d=n/lh(10,o);return 0<=o?(d>=Jv?10:d>=Qv?5:d>=ew?2:1)*lh(10,o):-lh(10,-o)/(d>=Jv?10:d>=Qv?5:d>=ew?2:1)}function yd(e,t,a){var n=ch(t-e)/ph(0,a),o=lh(10,uh(fh(n)/sh)),d=n/o;return d>=Jv?o*=10:d>=Qv?o*=5:d>=ew&&(o*=2),t<e?-o:o}function _d(e){return e}function md(){ow.point=xd}function xd(e,t){ow.point=vd,xw=ww=e,vw=kw=t}function vd(e,t){nw.add(kw*e-ww*t),ww=e,kw=t}function wd(){vd(xw,vw)}function kd(e,t){e<dw&&(dw=e),e>rw&&(rw=e),t<iw&&(iw=t),t>cw&&(cw=t)}function jd(e,t){sw+=e,fw+=t,++pw}function Sd(){mw.point=Td}function Td(e,t){mw.point=Cd,jd(Tw=e,Cw=t)}function Cd(e,t){var a=e-Tw,n=t-Cw,o=Fv(a*a+n*n);uw+=o*(Tw+e)/2,hw+=o*(Cw+t)/2,bw+=o,jd(Tw=e,Cw=t)}function Ad(){mw.point=jd}function Od(){mw.point=Nd}function Ed(){Pd(jw,Sw)}function Nd(e,t){mw.point=Pd,jd(jw=Tw=e,Sw=Cw=t)}function Pd(e,t){var a=e-Tw,n=t-Cw,o=Fv(a*a+n*n);uw+=o*(Tw+e)/2,hw+=o*(Cw+t)/2,bw+=o,o=Cw*e-Tw*t,gw+=o*(Tw+e),yw+=o*(Cw+t),_w+=3*o,jd(Tw=e,Cw=t)}function Md(e){this._context=e}function Id(e,t){Ow.point=Rd,Nw=Mw=e,Pw=Iw=t}function Rd(e,t){Mw-=e,Iw-=t,Aw.add(Fv(Mw*Mw+Iw*Iw)),Mw=e,Iw=t}function Ud(){this._string=[]}function Bd(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function zd(e,t){function a(e){return e&&("function"==typeof n&&d.pointRadius(+n.apply(this,arguments)),pd(e,o(d))),d.result()}var n=4.5,o,d;return a.area=function(e){return pd(e,o(ow)),ow.result()},a.measure=function(e){return pd(e,o(Ow)),Ow.result()},a.bounds=function(e){return pd(e,o(lw)),lw.result()},a.centroid=function(e){return pd(e,o(mw)),mw.result()},a.projection=function(t){return arguments.length?(o=null==t?(e=null,_d):(e=t).stream,a):e},a.context=function(e){return arguments.length?(d=null==e?(t=null,new Ud):new Md(t=e),"function"!=typeof n&&d.pointRadius(n),a):t},a.pointRadius=function(e){return arguments.length?(n="function"==typeof e?e:(d.pointRadius(+e),+e),a):n},a.projection(e).context(t)}function Dd(e,t){var a=zd(),n=td(e,e.objects[t]);return n.features.map(function(e){return"properties"in e||(e.properties={}),e.properties.centroid=a.centroid(e.geometry),e.properties.bounds=a.bounds(e.geometry),e.properties.height=e.properties.bounds[1][1]-e.properties.bounds[0][1],e.properties.width=e.properties.bounds[1][0]-e.properties.bounds[0][0],e.properties.radius=rh(e.properties.height*e.properties.height+e.properties.width*e.properties.width)/2,e}),n}function Wd(e,t){var a=Object.keys(e);return a.reduce(function(a,n){var o=e[n],d={substance:t[n],tests:o.map(function(e){return"NA"===e?1e-10:+e})};return d.max=d.tests.reduce(function(e,t){return t>e&&(e=t),e},-Infinity),d.map2Category=Ld(d.max,d.substance),a.push(d),a},[])}function Ld(e,t){if(e>t.limit)return Bw.CATEGORY.SUP_BR;return e>Rw?Bw.CATEGORY.SUP_EU:Bw.CATEGORY.BELOW}function Yd(e,t,a){Hd(e),"mun"in a?qd(e,t,a.data,a.mun):Fd(e),t.on("to-mun-view.breadcrumb",function(n){qd(e,t,a.data,n)}),t.on("to-brazil-view.breadcrumb",function(){Fd(e)}),Vd(e)}function Fd(e){e.html(null),e.append("ul").append("li").classed("is-active",!0).classed("is-hidden",!0).append("a").attr("href","#").attr("aria-current","page").text("Brasil")}function qd(e,t,a,n){e.html(null);var o=e.append("ul");o.append("li").append("a").attr("href","#").text("Brasil").on("click",function(){t.call("breadcrumb-click-brazil",null,a)}),o.append("li").classed("is-active",!0).append("a").attr("href","#").attr("aria-current","page").text(n.properties.name)}function Hd(e){e.classed("is-loading",!0)}function Vd(e){e.classed("is-loading",!1)}function Gd(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Xd(){return new Gd}function Zd(e,t,a,n){var o=t.filter(function(e){return 0<e.max}).sort(function(e,t){return e.substance.shortName.localeCompare(t.substance.shortName,"pt-BR",{sensitivity:"base"})}).map(function(e){var t=e.tests.length,a=e.tests.filter(function(e){return 0<e}).length;return{numDetections:a,numTests:t,shortName:e.substance.shortName,url:e.substance.url,value:a/t}}),d=e.append("div").classed("tubes",!0);""!==a&&d.append("header").html(a);var i=d.selectAll("svg").data(o).enter().append("svg").classed("tube",!0).classed(n,!0).attr("width",Fw.wi).attr("height",Fw.he).attr("viewBox","0,0,"+Fw.vWi+","+Fw.vHe+"").append("a").attr("href",function(e){return e.url}).attr("target","_blank"),r=0,c=Jd(250,800);Kd(i,250,800).attr("transform","translate(0, "+r+")"),Qd(i,250,800).attr("transform","translate(0, "+r+")");i.append("text").attr("x",0).attr("y",0).attr("transform","translate("+c.wid+", "+980+") scale(5)").style("text-anchor","start").text(function(e){return e.shortName});var l=i.append("text").classed("annotation",!0).attr("x",0).attr("y",0).attr("transform",function(e){return"translate(300, "+(r+c.getY(e.value))+") scale(4)"}).style("text-anchor","start");l.append("tspan").attr("x","0").attr("dy","0").text(function(e){return e.numDetections+" detecções"}),l.append("tspan").attr("x","0").attr("dy","1.2em").text(function(e){return"em "+e.numTests+" testes"})}function $d(e,t,a,n){var o=t.sort(function(e,t){return e.substance.shortName.localeCompare(t.substance.shortName,"pt-BR",{sensitivity:"base"})}).map(function(e){return{shortName:e.substance.shortName,url:e.substance.url,value:1}}),d=e.append("div").classed("tubes",!0);""!==a&&d.append("header").html(a);var i=d.selectAll("svg").data(o).enter().append("svg").classed("tube",!0).classed(n,!0).attr("width",Fw.wi).attr("height",Fw.he).attr("viewBox","0,0,"+Fw.vWi+","+Fw.vHe+"").append("a").attr("href",function(e){return e.url}).attr("target","_blank");Kd(i,250,800).attr("transform","translate(375, 0)"),Qd(i,250,800).attr("transform","translate(375, 0)"),ei(i).attr("transform","scale(5) translate(100 190)")}function Kd(e,t,a){var n=e.append("g"),o=1.5*t/10,d=a-3*o,i=t/2,r=Xd();r.rect(0,0,i,o),n.append("path").attr("fill","#e7f3f8").attr("d",r.toString());var c=Xd();c.rect(i,0,i,o),n.append("path").attr("fill","#bfdde3").attr("d",c.toString());var l=Xd();l.moveTo(o,o),l.lineTo(o,d+o),l.quadraticCurveTo(o,d+3*o,i,d+3*o),l.lineTo(i,o),l.closePath(),n.append("path").attr("fill","#cce8eb").attr("d",l.toString());var s=Xd();return s.moveTo(2*i-o,o),s.lineTo(2*i-o,d+o),s.quadraticCurveTo(2*i-o,d+3*o,i,d+3*o),s.lineTo(i,o),s.closePath(),n.append("path").attr("fill","#b1d8df").attr("d",s.toString()),n}function Jd(e,t){var a=1.5*e/10,n=t-3*a;return{getY:function(e){return(n-a)*(1-e)+2*a},hei:n,mid:e/2,wid:a}}function Qd(e,t,a){var n=e.append("g").classed("liquid",!0),o=Jd(t,a);return n.append("path").classed("right",!0).attr("d",function(e){var t=o.getY(e.value)+o.wid,a=Xd();return a.moveTo(2*o.mid-2*o.wid,t),a.lineTo(2*o.mid-2*o.wid,o.hei+o.wid),a.quadraticCurveTo(2*o.mid-2*o.wid,o.hei+2*o.wid,o.mid,o.hei+2*o.wid),a.lineTo(o.mid,t),a.closePath(),a.toString()}),n.append("path").classed("left",!0).attr("d",function(e){var t=o.getY(e.value)+o.wid,a=Xd();return a.moveTo(2*o.wid,t),a.lineTo(2*o.wid,o.hei+o.wid),a.quadraticCurveTo(2*o.wid,o.hei+2*o.wid,o.mid,o.hei+2*o.wid),a.lineTo(o.mid,t),a.closePath(),a.toString()}),n}function ei(e){var t=e.append("g");return t.append("text").attr("x",0).attr("y",0).style("text-anchor","middle").text(function(e){return e.shortName}),t}function ti(e,t,a,n){pi(e),"mun"in n?oi(e,t,a,n):ai(e,t,a,n),t.on("to-brazil-view.details",function(){ai(e,t,a,{data:n.data})}),t.on("to-mun-view.details",function(o){oi(e,t,a,{data:n.data,mun:o})}),ui(e)}function ai(e,t,a,n){var o=e.select("#details-main");o.html(null),"limits"===a?(ri(o,"Brasil"),o.append("p").classed("brazil",!0).html("Agrotóxicos foram detectados na água que abastece mais de 2.300 cidades de 2014 a 2017. Clique no mapa ou digite sua cidade para descobrir quais produtos químicos saíram da sua torneira em concentração acima do limite considerado seguro."),li(e,t,n),si(e),fi(e)):(ri(o,"Brasil"),o.append("p").classed("brazil",!0).html("Agrotóxicos foram detectados na água que abastece mais de 2.300 cidades de 2014 a 2017. Clique no mapa ou digite sua cidade para descobrir quais produtos químicos saíram da sua torneira."),ci(e,t,n),si(e),fi(e))}function ni(e,t,a){var n=e.append("div").classed("level-item has-text-centered",!0);return n.append("p").classed("heading",!0).text(t),n.append("p").classed("title",!0).text(a),n}function oi(e,t,a,n){var o=e.select("#details-main");o.html(null),ri(o,n.mun.properties.name,n.mun.properties.fuName),"limits"===a?(ii(o,t,n.mun,n.data),li(e,t,n),si(e),fi(e)):(di(o,t,n.mun,n.data),ci(e,t,n),si(e),fi(e))}function di(e,t,a){var n=e.append("nav").classed("level is-mobile",!0);if(ni(n,"População",(+a.properties.population).toLocaleString("pt-BR")),isNaN(a.properties.map1Number))ni(n,"Agrotóxicos detectados","Sem dados"),e.append("header").html("<span class=\"is-size-4\">Sem dados</span> sobre agrotóxicos na água que abastece "+a.properties.name+".");else if(0===a.properties.map1Number)ni(n,"Agrotóxicos detectados",a.properties.map1Number),e.append("header").html("<span class=\"is-size-4\">Nenhum agrotóxico</span> detectado na água que abastece "+a.properties.name+".");else{ni(n,"Agrotóxicos detectados",a.properties.map1Number),e.append("header").html("<span class=\"is-size-4\">"+a.properties.map1Number+"</span> agrotóxico(s) detectado(s) na água que abastece "+a.properties.name+".");var o=e.append("ul"),d=a.properties.tests.filter(function(e){return e.substance.isHhce&&0<e.max});Zd(o.append("li"),d,"<span class=\"is-size-4\">"+d.length+"</span> associado(s) a <strong>doenças crônicas</strong> como câncer, defeitos congênitos e distúrbios endócrinos","hhce");var i=a.properties.tests.filter(function(e){return!e.substance.isHhce&&0<e.max});0<i.length&&Zd(o.append("li"),i,"<span class=\"is-size-4\">"+i.length+"</span> outros agrotóxicos","no-hhce")}}function ii(e,t,a){var n=e.append("nav").classed("level is-mobile",!0);if(ni(n,"População",(+a.properties.population).toLocaleString("pt-BR")),a.properties.map2Category===Bw.CATEGORY.NO_TEST)e.append("header").html("<span class=\"is-size-4\">Sem dados</span> sobre agrotóxicos na água que abastece "+a.properties.name+".");else if(a.properties.map2Category===Bw.CATEGORY.BELOW)e.append("header").html("<span class=\"is-size-4\">Nenhum </span> agrotóxico detectado acima dos limites brasileiros ou europeus em "+a.properties.name+".");else{var o=a.properties.tests.filter(function(e){return e.map2Category===Bw.CATEGORY.SUP_BR});0<o.length&&$d(e,o,"<span class=\"is-size-4\">"+o.length+"</span> agrotóxico(s) detectado(s) na água em concentração acima do limite considerado seguro no Brasil em "+a.properties.name,"cat-"+Bw.CATEGORY.SUP_BR);var d=a.properties.tests.filter(function(e){return e.map2Category===Bw.CATEGORY.SUP_EU});0<d.length&&$d(e,d,"<span class=\"is-size-4\">"+d.length+"</span> agrotóxico(s) detectado(s) acima do limite considerado seguro na União Europeia","cat-"+Bw.CATEGORY.SUP_EU)}}function ri(e,t,a){var n=e.append("header").attr("id","idCard");if(n.append("h2").text(t),a){var o=n.append("h3");o.append("span").text("\uD83D\uDCCC "+a)}}function ci(e,t,a){var n=e.select("#details-footer #to-other-views").html(null).append("p");n.append("span").text("Descubra também quantas substâncias foram ");var o="mun"in a&&a.mun?" em "+a.mun.properties.name:"";n.append("a").attr("href","#").text("detectadas acima dos limites legais na água"+o).on("click",function(){t.call("make-app-limits",null,a)}),n.append("span").text(".")}function li(e,t,a){var n=e.select("#details-footer #to-other-views").html(null).append("p");n.append("span").text("Descubra também o  ");var o="mun"in a&&a.mun?" na água em "+a.mun.properties.name:"";n.append("a").attr("href","#").text("total de substâncias detectadas"+o).on("click",function(){t.call("make-app-cocktail",null,a)}),n.append("span").text(".")}function si(e){var t=e.select("#details-footer #to-article").html(null).append("p");t.append("span").text("Entenda: leia "),t.append("a").attr("href","https://portrasdoalimento.info/2019/04/12/conheca-os-27-agrotoxicos-encontrados-na-agua-que-abastasse-as-cidades-do-brasil/").text("reportagem sobre a contaminação da água nas cidades"),t.append("span").text(".")}function fi(e){var t=e.select("#details-footer #source").html(null);t.append("h4").html("Fontes");var a=t.append("ul"),n=a.append("li");n.append("span").text("Detecção e concentração de agrotóxicos: "),n.append("a").attr("href","http://dados.gov.br/dataset/controle-semestral").attr("target","_top").text("SISAGUA - Controle Semestral"),n.append("span").text(". Sistema de Informação de Vigilância da Qualidade da Água para Consumo Humano (SISAGUA), 854.140 testes a nível municipal de 2014 a 2017.");var o=a.append("li");o.append("span").text("Estimativas da população: "),o.append("a").attr("href","ftp://ftp.ibge.gov.br/Estimativas_de_Populacao/Estimativas_2017/").attr("target","_top").text("IBGE 2017"),o.append("span").text(" (FTP). Instituto Brasileiro de Geografia e Estatística (IBGE), 2017.")}function pi(e){e.classed("is-loading",!0)}function ui(e){e.classed("is-loading",!1)}function hi(e,t,a,n,o){t.on("make-app-cocktail.choropleth",function(){return gi(e,a,n,o,function(e){return Hw(e.properties.map1Category)})}),t.on("make-app-limits.choropleth",function(){return gi(e,a,n,o,function(e){return Vw(e.properties.map2Category)})})}function bi(e,t,a,n){e.beginPath(),t(a.mun),e.lineWidth=qw.frontiers.mun/n,e.strokeStyle="#aaa",e.stroke(),e.beginPath(),t(a.internalFu),e.lineWidth=qw.frontiers.fu/n,e.strokeStyle="#000",e.stroke(),e.beginPath(),t(a.brazil),e.lineWidth=qw.frontiers.br/n,e.strokeStyle="#000",e.stroke()}function gi(e,t,a,n,o){a.mun.features.forEach(function(a){e.beginPath(),t(a),e.fillStyle=o(a),e.fill()}),bi(e,t,a,n)}function yi(e){var t=e+="",a=t.indexOf(":");return 0<=a&&"xmlns"!==(t=e.slice(0,a))&&(e=e.slice(a+1)),Gw.hasOwnProperty(t)?{space:Gw[t],local:e}:e}function _i(e){return function(){var t=this.ownerDocument,a=this.namespaceURI;return a==="http://www.w3.org/1999/xhtml"&&t.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?t.createElement(e):t.createElementNS(a,e)}}function mi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xi(e){var t=yi(e);return(t.local?mi:_i)(t)}function vi(){}function wi(e){return null==e?vi:function(){return this.querySelector(e)}}function ki(e){"function"!=typeof e&&(e=wi(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=Array(c),l=0,s,f;l<c;++l)(s=r[l])&&(f=e.call(s,s.__data__,l,r))&&("__data__"in s&&(f.__data__=s.__data__),n[l]=f);return new vr(o,this._parents)}function ji(){return[]}function Si(e){return null==e?ji:function(){return this.querySelectorAll(e)}}function Ti(e){return function(){return this.matches(e)}}function Ci(e){return Array(e.length)}function Ai(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Oi(e){return function(){return e}}function Ei(e,t,a,n,o,d){for(var r=0,c=t.length,l=d.length,s;r<l;++r)(s=t[r])?(s.__data__=d[r],n[r]=s):a[r]=new Ai(e,d[r]);for(;r<c;++r)(s=t[r])&&(o[r]=s)}function Ni(e,t,a,n,o,d,r){var c={},l=t.length,s=d.length,f=Array(l),p,u,h;for(p=0;p<l;++p)(u=t[p])&&(f[p]=h="$"+r.call(u,u.__data__,p,t),h in c?o[p]=u:c[h]=u);for(p=0;p<s;++p)h="$"+r.call(e,d[p],p,d),(u=c[h])?(n[p]=u,u.__data__=d[p],c[h]=null):a[p]=new Ai(e,d[p]);for(p=0;p<l;++p)(u=t[p])&&c[f[p]]===u&&(o[p]=u)}function Pi(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Mi(e){return function(){this.removeAttribute(e)}}function Ii(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ri(e,t){return function(){this.setAttribute(e,t)}}function Ui(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Bi(e,t){return function(){var a=t.apply(this,arguments);null==a?this.removeAttribute(e):this.setAttribute(e,a)}}function zi(e,t){return function(){var a=t.apply(this,arguments);null==a?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function Di(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Wi(e){return function(){this.style.removeProperty(e)}}function Li(e,t,a){return function(){this.style.setProperty(e,t,a)}}function Yi(e,t,a){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,a)}}function Fi(e,t){return e.style.getPropertyValue(t)||Di(e).getComputedStyle(e,null).getPropertyValue(t)}function qi(e){return function(){delete this[e]}}function Hi(e,t){return function(){this[e]=t}}function Vi(e,t){return function(){var a=t.apply(this,arguments);null==a?delete this[e]:this[e]=a}}function Gi(e){return e.trim().split(/^|\s+/)}function Xi(e){return e.classList||new Zi(e)}function Zi(e){this._node=e,this._names=Gi(e.getAttribute("class")||"")}function $i(e,t){for(var a=Xi(e),o=-1,d=t.length;++o<d;)a.add(t[o])}function Ki(e,t){for(var a=Xi(e),o=-1,d=t.length;++o<d;)a.remove(t[o])}function Ji(e){return function(){$i(this,e)}}function Qi(e){return function(){Ki(this,e)}}function er(e,t){return function(){(t.apply(this,arguments)?$i:Ki)(this,e)}}function tr(){this.textContent=""}function ar(e){return function(){this.textContent=e}}function nr(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function or(){this.innerHTML=""}function dr(e){return function(){this.innerHTML=e}}function ir(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function rr(){this.nextSibling&&this.parentNode.appendChild(this)}function cr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lr(){return null}function sr(){var e=this.parentNode;e&&e.removeChild(this)}function fr(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function pr(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function ur(e,t,a){return e=hr(e,t,a),function(t){var a=t.relatedTarget;a&&(a===this||8&a.compareDocumentPosition(this))||e.call(this,t)}}function hr(e,t,a){return function(){try{e.call(this,this.__data__,t,a)}finally{}}}function br(e){return e.trim().split(/^|\s+/).map(function(e){var a="",n=e.indexOf(".");return 0<=n&&(a=e.slice(n+1),e=e.slice(0,n)),{type:e,name:a}})}function gr(e){return function(){var t=this.__on;if(t){for(var a=0,n=-1,d=t.length,r;a<d;++a)(r=t[a],(!e.type||r.type===e.type)&&r.name===e.name)?this.removeEventListener(r.type,r.listener,r.capture):t[++n]=r;++n?t.length=n:delete this.__on}}}function yr(e,t,a){var n=Xw.hasOwnProperty(e.type)?ur:hr;return function(r,d,i){var c=this.__on,l=n(t,d,i),s;if(c)for(var f=0,p=c.length;f<p;++f)if((s=c[f]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=a),void(s.value=t);this.addEventListener(e.type,l,a),s={type:e.type,name:e.name,value:t,listener:l,capture:a},c?c.push(s):this.__on=[s]}}function _r(e,t,a){var n=Di(e),o=n.CustomEvent;"function"==typeof o?o=new o(t,a):(o=n.document.createEvent("Event"),a?(o.initEvent(t,a.bubbles,a.cancelable),o.detail=a.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function mr(e,t){return function(){return _r(this,e,t)}}function xr(e,t){return function(){return _r(this,e,t.apply(this,arguments))}}function vr(e,t){this._groups=e,this._parents=t}function wr(){return new vr([[document.documentElement]],$w)}function kr(e){return"string"==typeof e?new vr([[document.querySelector(e)]],[document.documentElement]):new vr([[e]],$w)}function jr(e){return"string"==typeof e?new vr([document.querySelectorAll(e)],[document.documentElement]):new vr([null==e?[]:e],$w)}function Sr(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function Tr(e,t){var a=Object.create(e.prototype);for(var n in t)a[n]=t[n];return a}function Cr(){}function Ar(e){var t;return e=(e+"").trim().toLowerCase(),(t=ak.exec(e))?(t=parseInt(t[1],16),new Mr(15&t>>8|240&t>>4,15&t>>4|240&t,(15&t)<<4|15&t,1)):(t=nk.exec(e))?Or(parseInt(t[1],16)):(t=ok.exec(e))?new Mr(t[1],t[2],t[3],1):(t=dk.exec(e))?new Mr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ik.exec(e))?Er(t[1],t[2],t[3],t[4]):(t=rk.exec(e))?Er(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ck.exec(e))?Rr(t[1],t[2]/100,t[3]/100,1):(t=lk.exec(e))?Rr(t[1],t[2]/100,t[3]/100,t[4]):sk.hasOwnProperty(e)?Or(sk[e]):"transparent"===e?new Mr(NaN,NaN,NaN,0):null}function Or(e){return new Mr(255&e>>16,255&e>>8,255&e,1)}function Er(e,t,n,o){return 0>=o&&(e=t=n=NaN),new Mr(e,t,n,o)}function Nr(e){return(e instanceof Cr||(e=Ar(e)),!e)?new Mr:(e=e.rgb(),new Mr(e.r,e.g,e.b,e.opacity))}function Pr(e,t,a,n){return 1===arguments.length?Nr(e):new Mr(e,t,a,null==n?1:n)}function Mr(e,t,a,n){this.r=+e,this.g=+t,this.b=+a,this.opacity=+n}function Ir(e){return e=ph(0,ih(255,dh(e)||0)),(16>e?"0":"")+e.toString(16)}function Rr(e,t,n,o){return 0>=o?e=t=n=NaN:0>=n||1<=n?e=t=NaN:0>=t&&(e=NaN),new Br(e,t,n,o)}function Ur(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof Cr||(e=Ar(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,a=e.g/255,n=e.b/255,d=ih(t,a,n),i=ph(t,a,n),r=NaN,c=i-d,f=(i+d)/2;return c?(r=t===i?(a-n)/c+6*(a<n):a===i?(n-t)/c+2:(t-a)/c+4,c/=.5>f?i+d:2-i-d,r*=60):c=0<f&&1>f?0:r,new Br(r,c,f,e.opacity)}function Br(e,t,a,n){this.h=+e,this.s=+t,this.l=+a,this.opacity=+n}function zr(e,t,a){return 255*(60>e?t+(a-t)*e/60:180>e?a:240>e?t+(a-t)*(240-e)/60:t)}function Dr(e){if(e instanceof Wr)return new Wr(e.l,e.a,e.b,e.opacity);if(e instanceof Vr){if(isNaN(e.h))return new Wr(e.l,0,0,e.opacity);var t=e.h*fk;return new Wr(e.l,oh(t)*e.c,nh(t)*e.c,e.opacity)}e instanceof Mr||(e=Nr(e));var a=qr(e.r),n=qr(e.g),d=qr(e.b),i=Lr((.2225045*a+.7168786*n+.0606169*d)/1),r,c;return a===n&&n===d?r=c=i:(r=Lr((.4360747*a+.3850649*n+.1430804*d)/K),c=Lr((.0139322*a+.0971045*n+.7141733*d)/Xn)),new Wr(116*i-16,500*(r-i),200*(i-c),e.opacity)}function Wr(e,t,a,n){this.l=+e,this.a=+t,this.b=+a,this.opacity=+n}function Lr(e){return e>gk?lh(e,1/3):e/bk+Zn}function Yr(e){return e>hk?e*e*e:bk*(e-Zn)}function Fr(e){return 255*(.0031308>=e?12.92*e:1.055*lh(e,1/2.4)-.055)}function qr(e){return .04045>=(e/=255)?e/12.92:lh((e+.055)/1.055,2.4)}function Hr(e){if(e instanceof Vr)return new Vr(e.h,e.c,e.l,e.opacity);if(e instanceof Wr||(e=Dr(e)),0===e.a&&0===e.b)return new Vr(NaN,0,e.l,e.opacity);var t=ah(e.b,e.a)*pk;return new Vr(0>t?t+360:t,rh(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Vr(e,t,a,n){this.h=+e,this.c=+t,this.l=+a,this.opacity=+n}function Gr(e){if(e instanceof Zr)return new Zr(e.h,e.s,e.l,e.opacity);e instanceof Mr||(e=Nr(e));var t=e.r/255,a=e.g/255,n=e.b/255,d=(mk*n+E*t-_k*a)/(mk+E-_k),i=n-d,r=(D*(a-d)-B*i)/C,c=rh(r*r+i*i)/(D*d*(1-d)),l=c?ah(r,i)*pk-120:NaN;return new Zr(0>l?l+360:l,c,d,e.opacity)}function Xr(e,t,a,n){return 1===arguments.length?Gr(e):new Zr(e,t,a,null==n?1:n)}function Zr(e,t,a,n){this.h=+e,this.s=+t,this.l=+a,this.opacity=+n}function $r(e,t,a,n,o){var d=e*e,i=d*e;return((1-3*e+3*d-i)*t+(4-6*d+3*i)*a+(1+3*e+3*d-3*i)*n+i*o)/6}function Kr(e){return function(){return e}}function Jr(e,a){return function(n){return e+n*a}}function Qr(e,n,o){return e=lh(e,o),n=lh(n,o)-e,o=1/o,function(a){return lh(e+a*n,o)}}function ec(e){return 1==(e=+e)?tc:function(t,a){return a-t?Qr(t,a,e):Kr(isNaN(t)?a:t)}}function tc(e,t){var a=t-e;return a?Jr(e,a):Kr(isNaN(e)?t:e)}function ac(e,t){var a=t?t.length:0,n=e?ih(a,e.length):0,o=Array(n),d=Array(a),r;for(r=0;r<n;++r)o[r]=lc(e[r],t[r]);for(;r<a;++r)d[r]=t[r];return function(e){for(r=0;r<n;++r)d[r]=o[r](e);return d}}function nc(e,n){var o=new Date;return e=+e,n-=e,function(a){return o.setTime(e+n*a),o}}function oc(e,n){return e=+e,n-=e,function(a){return e+n*a}}function dc(e,t){var n={},o={},d;for(d in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)d in e?n[d]=lc(e[d],t[d]):o[d]=t[d];return function(e){for(d in n)o[d]=n[d](e);return o}}function ic(e){return function(){return e}}function rc(e){return function(a){return e(a)+""}}function cc(e,n){var t=wk.lastIndex=kk.lastIndex=0,o=-1,d=[],r=[],c,l,s;for(e+="",n+="";(c=wk.exec(e))&&(l=kk.exec(n));)(s=l.index)>t&&(s=n.slice(t,s),d[o]?d[o]+=s:d[++o]=s),(c=c[0])===(l=l[0])?d[o]?d[o]+=l:d[++o]=l:(d[++o]=null,r.push({i:o,x:oc(c,l)})),t=kk.lastIndex;return t<n.length&&(s=n.slice(t),d[o]?d[o]+=s:d[++o]=s),2>d.length?r[0]?rc(r[0].x):ic(n):(n=r.length,function(e){for(var t=0,a;t<n;++t)d[(a=r[t]).i]=a.x(e);return d.join("")})}function lc(e,a){var n=typeof a,t;return null==a||"boolean"==n?Kr(a):("number"==n?oc:"string"==n?(t=Ar(a))?(a=t,xk):cc:a instanceof Ar?xk:a instanceof Date?nc:Array.isArray(a)?ac:"function"!=typeof a.valueOf&&"function"!=typeof a.toString||isNaN(a)?dc:oc)(e,a)}function sc(e,n){return e=+e,n-=e,function(a){return dh(e+n*a)}}function fc(t,n,o,i,r,e){var l,s,f;return(l=rh(t*t+n*n))&&(t/=l,n/=l),(f=t*o+n*i)&&(o-=t*f,i-=n*f),(s=rh(o*o+i*i))&&(o/=s,i/=s,f/=s),t*i<n*o&&(t=-t,n=-n,f=-f,l=-l),{translateX:r,translateY:e,rotate:ah(n,t)*jk,skewX:th(f)*jk,scaleX:l,scaleY:s}}function pc(e){return"none"===e?Sk:(Ok||(Ok=document.createElement("DIV"),Ek=document.documentElement,Nk=document.defaultView),Ok.style.transform=e,e=Nk.getComputedStyle(Ek.appendChild(Ok),null).getPropertyValue("transform"),Ek.removeChild(Ok),e=e.slice(7,-1).split(","),fc(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function uc(e){return null==e?Sk:(Pk||(Pk=document.createElementNS("http://www.w3.org/2000/svg","g")),Pk.setAttribute("transform",e),!(e=Pk.transform.baseVal.consolidate()))?Sk:(e=e.matrix,fc(e.a,e.b,e.c,e.d,e.e,e.f))}function hc(e,t,a,n){function o(e){return e.length?e.pop()+" ":""}function d(e,n,o,d,r,c){if(e!==o||n!==d){var l=r.push("translate(",null,t,null,a);c.push({i:l-4,x:oc(e,o)},{i:l-2,x:oc(n,d)})}else(o||d)&&r.push("translate("+o+t+d+a)}function i(e,t,d,i){e===t?t&&d.push(o(d)+"rotate("+t+n):(180<e-t?t+=360:180<t-e&&(e+=360),i.push({i:d.push(o(d)+"rotate(",null,n)-2,x:oc(e,t)}))}function r(e,t,a,d){e===t?t&&a.push(o(a)+"skewX("+t+n):d.push({i:a.push(o(a)+"skewX(",null,n)-2,x:oc(e,t)})}function c(e,t,a,n,d,r){if(e!==a||t!==n){var c=d.push(o(d)+"scale(",null,",",null,")");r.push({i:c-4,x:oc(e,a)},{i:c-2,x:oc(t,n)})}else(1!==a||1!==n)&&d.push(o(d)+"scale("+a+","+n+")")}return function(t,n){var l=[],s=[];return t=e(t),n=e(n),d(t.translateX,t.translateY,n.translateX,n.translateY,l,s),i(t.rotate,n.rotate,l,s),r(t.skewX,n.skewX,l,s),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,l,s),t=n=null,function(e){for(var t=-1,a=s.length,n;++t<a;)l[(n=s[t]).i]=n.x(e);return l.join("")}}}function bc(e){return function t(a){function n(n,o){var d=e((n=Xr(n)).h,(o=Xr(o)).h),i=tc(n.s,o.s),r=tc(n.l,o.l),c=tc(n.opacity,o.opacity);return function(e){return n.h=d(e),n.s=i(e),n.l=r(lh(e,a)),n.opacity=c(e),n+""}}return a=+a,n.gamma=t,n}(1)}function gc(){return zk||(Lk(yc),zk=Wk.now()+Dk)}function yc(){zk=0}function _c(){this._call=this._time=this._next=null}function mc(e,a,n){var o=new _c;return o.restart(e,a,n),o}function xc(){gc(),++Ik;for(var a=Yk,n;a;)0<=(n=zk-a._time)&&a._call.call(null,n),a=a._next;--Ik}function vc(){zk=(Bk=Wk.now())+Dk,Ik=Rk=0;try{xc()}finally{Ik=0,kc(),zk=0}}function wc(){var e=Wk.now(),t=e-Bk;t>1000&&(Dk-=t,Bk=e)}function kc(){for(var e=Yk,t=1/0,a,n;e;)e._call?(t>e._time&&(t=e._time),a=e,e=e._next):(n=e._next,e._next=null,e=a?a._next=n:Yk=n);Fk=a,jc(t)}function jc(e){if(!Ik){Rk&&(Rk=clearTimeout(Rk));var t=e-zk;24<t?(e<1/0&&(Rk=setTimeout(vc,e-Wk.now()-Dk)),Uk&&(Uk=clearInterval(Uk))):(!Uk&&(Bk=Wk.now(),Uk=setInterval(wc,1000)),Ik=1,Lk(vc))}}function Sc(e,a,n){var o=new _c;return a=null==a?0:+a,o.restart(function(t){o.stop(),e(t+a)},a,n),o}function Tc(e,t,a,n,o,d){var i=e.__transition;if(!i)e.__transition={};else if(a in i)return;Ec(e,a,{name:t,index:n,group:o,on:qk,tween:Hk,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function Cc(e,t){var a=Oc(e,t);if(a.state>0)throw new Error("too late; already scheduled");return a}function Ac(e,t){var a=Oc(e,t);if(a.state>3)throw new Error("too late; already running");return a}function Oc(e,t){var a=e.__transition;if(!a||!(a=a[t]))throw new Error("transition not found");return a}function Ec(e,t,a){function n(l){var s,f,p,u;if(1!==a.state)return d();for(s in r)if(u=r[s],u.name===a.name){if(3===u.state)return Sc(n);4===u.state?(u.state=6,u.timer.stop(),u.on.call("interrupt",e,e.__data__,u.index,u.group),delete r[s]):+s<t&&(u.state=6,u.timer.stop(),u.on.call("cancel",e,e.__data__,u.index,u.group),delete r[s])}if(Sc(function(){3===a.state&&(a.state=4,a.timer.restart(o,a.delay,a.time),o(l))}),a.state=2,a.on.call("start",e,e.__data__,a.index,a.group),2===a.state){for(a.state=3,c=Array(p=a.tween.length),(s=0,f=-1);s<p;++s)(u=a.tween[s].value.call(e,e.__data__,a.index,a.group))&&(c[++f]=u);c.length=f+1}}function o(o){for(var r=o<a.duration?a.ease.call(null,o/a.duration):(a.timer.restart(d),a.state=5,1),t=-1,l=c.length;++t<l;)c[t].call(e,r);a.state===5&&(a.on.call("end",e,e.__data__,a.index,a.group),d())}function d(){for(var n in a.state=6,a.timer.stop(),delete r[t],r)return;delete e.__transition}var r=e.__transition,c;r[t]=a,a.timer=mc(function(e){a.state=1,a.timer.restart(n,a.delay,a.time),a.delay<=e&&n(e-a.delay)},0,a.time)}function Nc(e,t){var a=e.__transition,n=!0,o,d,r;if(a){for(r in t=null==t?null:t+"",a){if((o=a[r]).name!==t){n=!1;continue}d=2<o.state&&5>o.state,o.state=6,o.timer.stop(),o.on.call(d?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete a[r]}n&&delete e.__transition}}function Pc(e,t){var a,o;return function(){var d=Ac(this,e),r=d.tween;if(r!==a){o=a=r;for(var c=0,l=o.length;c<l;++c)if(o[c].name===t){o=o.slice(),o.splice(c,1);break}}d.tween=o}}function Mc(e,a,o){var d,r;if("function"!=typeof o)throw new Error;return function(){var c=Ac(this,e),l=c.tween;if(l!==d){r=(d=l).slice();for(var s={name:a,value:o},t=0,f=r.length;t<f;++t)if(r[t].name===a){r[t]=s;break}t===f&&r.push(s)}c.tween=r}}function Ic(e,a){var o=this._id;if(e+="",2>arguments.length){for(var d=Oc(this.node(),o).tween,r=0,c=d.length,n;r<c;++r)if((n=d[r]).name===e)return n.value;return null}return this.each((null==a?Pc:Mc)(o,e,a))}function Rc(e,t,a){var n=e._id;return e.each(function(){var e=Ac(this,n);(e.value||(e.value={}))[t]=a.apply(this,arguments)}),function(e){return Oc(e,n).value[t]}}function Uc(e,t){var a;return("number"==typeof t?oc:t instanceof Ar?xk:(a=Ar(t))?(t=a,xk):cc)(e,t)}function Bc(e){return function(){this.removeAttribute(e)}}function zc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dc(e,t,a){var n,o;return function(){var d=this.getAttribute(e);return d===a+""?null:d===n?o:o=t(n=d,a)}}function Wc(e,t,a){var n,o;return function(){var d=this.getAttributeNS(e.space,e.local);return d===a+""?null:d===n?o:o=t(n=d,a)}}function Lc(e,t,a){var n,o,d;return function(){var i=a(this),r,c;return null==i?void this.removeAttribute(e):(r=this.getAttribute(e),c=i+"",r===c?null:r===n&&c==o?d:(o=c,d=t(n=r,i)))}}function Yc(e,t,a){var n,o,d;return function(){var i=a(this),r,c;return null==i?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),c=i+"",r===c?null:r===n&&c==o?d:(o=c,d=t(n=r,i)))}}function Fc(e,a){return function(n){this.setAttribute(e,a(n))}}function qc(e,a){return function(n){this.setAttributeNS(e.space,e.local,a(n))}}function Hc(e,t){function a(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&qc(e,a)),n}var n,o;return a._value=t,a}function Vc(e,t){function a(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&Fc(e,a)),n}var n,o;return a._value=t,a}function Gc(e,t){return function(){Cc(this,e).delay=+t.apply(this,arguments)}}function Xc(e,t){return t=+t,function(){Cc(this,e).delay=t}}function Zc(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Gc:Xc)(t,e)):Oc(this.node(),t).delay}function $c(e,t){return function(){Ac(this,e).duration=+t.apply(this,arguments)}}function Kc(e,t){return t=+t,function(){Ac(this,e).duration=t}}function Jc(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?$c:Kc)(t,e)):Oc(this.node(),t).duration}function Qc(e,t){if("function"!=typeof t)throw new Error;return function(){Ac(this,e).ease=t}}function el(e){var t=this._id;return arguments.length?this.each(Qc(t,e)):Oc(this.node(),t).ease}function tl(e){return(e+"").trim().split(/^|\s+/).every(function(e){var a=e.indexOf(".");return 0<=a&&(e=e.slice(0,a)),!e||"start"===e})}function al(e,t,a){var n=tl(t)?Cc:Ac,o,d;return function(){var i=n(this,e),r=i.on;r!==o&&(d=(o=r).copy()).on(t,a),i.on=d}}function nl(e,t){var a=this._id;return 2>arguments.length?Oc(this.node(),a).on.on(e):this.each(al(a,e,t))}function ol(e){return function(){var t=this.parentNode;for(var a in this.__transition)if(+a!==e)return;t&&t.removeChild(this)}}function dl(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=wi(e));for(var o=this._groups,d=o.length,r=Array(d),c=0;c<d;++c)for(var l=o[c],s=l.length,n=r[c]=Array(s),f=0,p,u;f<s;++f)(p=l[f])&&(u=e.call(p,p.__data__,f,l))&&("__data__"in p&&(u.__data__=p.__data__),n[f]=u,Tc(n[f],t,a,f,n,Oc(p,a)));return new gl(r,this._parents,t,a)}function il(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=Si(e));for(var o=this._groups,d=o.length,r=[],c=[],s=0;s<d;++s)for(var f=o[s],p=f.length,n=0,u;n<p;++n)if(u=f[n]){for(var h=e.call(u,u.__data__,n,f),b=Oc(u,a),g=0,y=h.length,l;g<y;++g)(l=h[g])&&Tc(l,t,a,g,h,b);r.push(h),c.push(u)}return new gl(r,c,t,a)}function rl(e,t){var a,n,o;return function(){var d=Fi(this,e),i=(this.style.removeProperty(e),Fi(this,e));return d===i?null:d===a&&i===n?o:o=t(a=d,n=i)}}function cl(e){return function(){this.style.removeProperty(e)}}function ll(e,t,a){var n,o;return function(){var d=Fi(this,e);return d===a+""?null:d===n?o:o=t(n=d,a)}}function sl(e,t,a){var n,o,d;return function(){var i=Fi(this,e),r=a(this),c=r+"";return null==r&&(c=r=(this.style.removeProperty(e),Fi(this,e))),i===c?null:i===n&&c===o?d:(o=c,d=t(n=i,r))}}function fl(e,t){var a="style."+t,n,o,d,i;return function(){var r=Ac(this,e),c=r.on,l=null==r.value[a]?i||(i=cl(t)):void 0;(c!==n||d!==l)&&(o=(n=c).copy()).on("end."+a,d=l),r.on=o}}function pl(e,a,n){return function(o){this.style.setProperty(e,a(o),n)}}function ul(e,a,n){function o(){var t=a.apply(this,arguments);return t!==r&&(d=(r=t)&&pl(e,t,n)),d}var d,r;return o._value=a,o}function hl(e){return function(){this.textContent=e}}function bl(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function gl(e,t,a,n){this._groups=e,this._parents=t,this._name=a,this._id=n}function yl(){return++Gk}function _l(e,t){for(var a;!(a=e.__transition)||!(a=a[t]);)if(!(e=e.parentNode))return Zk.time=gc(),Zk;return a}function ml(e){var t,a;e instanceof gl?(t=e._id,e=e._name):(t=yl(),(a=Zk).time=gc(),e=null==e?null:e+"");for(var o=this._groups,d=o.length,r=0;r<d;++r)for(var c=o[r],l=c.length,n=0,s;n<l;++n)(s=c[n])&&Tc(s,e,t,n,c,a||_l(s,t));return new gl(o,this._parents,e,t)}function xl(){}function vl(e,t){var a=new xl;if(e instanceof xl)e.each(function(e,t){a.set(t,e)});else if(Array.isArray(e)){var d=-1,r=e.length,n;if(null==t)for(;++d<r;)a.set(d,e[d]);else for(;++d<r;)a.set(t(n=e[d],d,e),n)}else if(e)for(var c in e)a.set(c,e[c]);return a}function wl(){}function kl(e,t,a,n){if(isNaN(t)||isNaN(a))return e;var o=e._root,d={data:n},r=e._x0,c=e._y0,l=e._x1,s=e._y1,f,p,u,h,b,g,y,_,m;if(!o)return e._root=d,e;for(;o.length;)if((g=t>=(p=(r+l)/2))?r=p:l=p,(y=a>=(u=(c+s)/2))?c=u:s=u,(f=o,!(o=o[_=y<<1|g])))return f[_]=d,e;if(h=+e._x.call(null,o.data),b=+e._y.call(null,o.data),t===h&&a===b)return d.next=o,f?f[_]=d:e._root=d,e;do f=f?f[_]=[,,,,]:e._root=[,,,,],(g=t>=(p=(r+l)/2))?r=p:l=p,(y=a>=(u=(c+s)/2))?c=u:s=u;while((_=y<<1|g)==(m=(b>=u)<<1|h>=p));return f[m]=o,f[_]=d,e}function jl(e){var t=e.length,a=Array(t),n=Array(t),o=1/0,r=1/0,c=-Infinity,l=-Infinity,s,f,p,u;for(f=0;f<t;++f)isNaN(p=+this._x.call(null,s=e[f]))||isNaN(u=+this._y.call(null,s))||(a[f]=p,n[f]=u,p<o&&(o=p),p>c&&(c=p),u<r&&(r=u),u>l&&(l=u));if(o>c||r>l)return this;for(this.cover(o,r).cover(c,l),f=0;f<t;++f)kl(this,a[f],n[f],e[f]);return this}function Sl(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var a=this._x0,n=this._y0,o=this._x1,d=this._y1;if(isNaN(a))o=(a=uh(e))+1,d=(n=uh(t))+1;else{for(var r=o-a,c=this._root,l,s;a>e||e>=o||n>t||t>=d;)s=(t<n)<<1|e<a,l=[,,,,],l[s]=c,c=l,r*=2,0===s?(o=a+r,d=n+r):1===s?(a=o-r,d=n+r):2===s?(o=a+r,n=d-r):3===s?(a=o-r,n=d-r):void 0;this._root&&this._root.length&&(this._root=c)}return this._x0=a,this._y0=n,this._x1=o,this._y1=d,this}function Tl(e,t,a,n,o){this.node=e,this.x0=t,this.y0=a,this.x1=n,this.y1=o}function Cl(e,t,a){var n=this._x0,o=this._y0,r=this._x1,c=this._y1,l=[],s=this._root,f,p,u,h,b,g,y;for(s&&l.push(new Tl(s,n,o,r,c)),null==a?a=1/0:(n=e-a,o=t-a,r=e+a,c=t+a,a*=a);g=l.pop();)if(!(!(s=g.node)||(p=g.x0)>r||(u=g.y0)>c||(h=g.x1)<n||(b=g.y1)<o))if(s.length){var _=(p+h)/2,m=(u+b)/2;l.push(new Tl(s[3],_,m,h,b),new Tl(s[2],p,m,_,b),new Tl(s[1],_,u,h,m),new Tl(s[0],p,u,_,m)),(y=(t>=m)<<1|e>=_)&&(g=l[l.length-1],l[l.length-1]=l[l.length-1-y],l[l.length-1-y]=g)}else{var x=e-+this._x.call(null,s.data),v=t-+this._y.call(null,s.data),w=x*x+v*v;if(w<a){var k=rh(a=w);n=e-k,o=t-k,r=e+k,c=t+k,f=s.data}}return f}function Al(e){if(isNaN(f=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e)))return this;var t=this._root,a=this._x0,n=this._y0,o=this._x1,d=this._y1,r,c,l,s,f,p,u,h,b,g,_,m;if(!t)return this;if(t.length)for(;;){if((b=f>=(u=(a+o)/2))?a=u:o=u,(g=p>=(h=(n+d)/2))?n=h:d=h,(r=t,!(t=t[_=g<<1|b])))return this;if(!t.length)break;(r[3&_+1]||r[3&_+2]||r[3&_+3])&&(c=r,m=_)}for(;t.data!==e;)if(l=t,!(t=t.next))return this;return((s=t.next)&&delete t.next,l)?(s?l.next=s:delete l.next,this):r?(s?r[_]=s:delete r[_],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(c?c[m]=t:this._root=t),this):(this._root=s,this)}function Ol(e){var t=[],a=this._root,n,o,d,i,r,c;for(a&&t.push(new Tl(a,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(a=n.node,d=n.x0,i=n.y0,r=n.x1,c=n.y1)&&a.length){var l=(d+r)/2,s=(i+c)/2;(o=a[3])&&t.push(new Tl(o,l,s,r,c)),(o=a[2])&&t.push(new Tl(o,d,s,l,c)),(o=a[1])&&t.push(new Tl(o,l,i,r,s)),(o=a[0])&&t.push(new Tl(o,d,i,l,s))}return this}function El(e){var t=[],a=[],n;for(this._root&&t.push(new Tl(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var o=n.node;if(o.length){var d=n.x0,i=n.y0,r=n.x1,c=n.y1,l=(d+r)/2,s=(i+c)/2,f;(f=o[0])&&t.push(new Tl(f,d,i,l,s)),(f=o[1])&&t.push(new Tl(f,l,i,r,s)),(f=o[2])&&t.push(new Tl(f,d,s,l,c)),(f=o[3])&&t.push(new Tl(f,l,s,r,c))}a.push(n)}for(;n=a.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Nl(e){return e[0]}function Pl(e){return e[1]}function Ml(e,t,a,n,o,d){this._x=e,this._y=t,this._x0=a,this._y0=n,this._x1=o,this._y1=d,this._root=void 0}function Il(e){for(var t={data:e.data},a=t;e=e.next;)a=a.next={data:e.data};return t}function Rl(e,t){if(0>(n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e")))return null;var a=e.slice(0,n),n;return[1<a.length?a[0]+a.slice(2):a,+e.slice(n+1)]}function Ul(e){return e=Rl(ch(e)),e?e[1]:NaN}function Bl(e,a){return function(n,o){for(var d=n.length,r=[],t=0,c=e[0],l=0;0<d&&0<c&&(l+c+1>o&&(c=ph(1,o-l)),r.push(n.substring(d-=c,d+c)),!((l+=c+1)>o));)c=e[t=(t+1)%e.length];return r.reverse().join(a)}}function zl(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}function Dl(e){return new Wl(e)}function Wl(e){if(!(t=ej.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function Ll(e){out:for(var t=e.length,a=1,n=-1,o;a<t;++a)switch(e[a]){case".":n=o=a;break;case"0":0==n&&(n=a),o=a;break;default:if(0<n){if(!+e[a])break out;n=0}}return 0<n?e.slice(0,n)+e.slice(o+1):e}function Yl(e,t){var a=Rl(e,t);if(!a)return e+"";var n=a[0],o=a[1];return 0>o?"0."+Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+Array(o-n.length+2).join("0")}function Fl(e){return e}function ql(e){function t(e){function t(e){var t=y,s=_,v,w,k;if("c"===g)s=m(e)+s,e="";else{e=+e;var j=0>e;if(e=m(ch(e),h),b&&(e=Ll(e)),j&&0==+e&&(j=!1),t=(j?"("===l?l:"-":"-"===l||"("===l?"":l)+t,s=("s"===g?tj[8+aj/3]:"")+s+(j&&"("===l?")":""),x)for(v=-1,w=e.length;++v<w;)if(k=e.charCodeAt(v),48>k||57<k){s=(46===k?o+e.slice(v+1):e.slice(v))+s,e=e.slice(0,v);break}}u&&!f&&(e=a(e,1/0));var S=t.length+e.length+s.length,T=S<p?Array(p-S+1).join(r):"";switch(u&&f&&(e=a(T+e,T.length?p-s.length:1/0),T=""),c){case"<":e=t+e+s+T;break;case"=":e=t+T+e+s;break;case"^":e=T.slice(0,S=T.length>>1)+t+e+s+T.slice(S);break;default:e=T+t+e+s;}return d(e)}e=Dl(e);var r=e.fill,c=e.align,l=e.sign,s=e.symbol,f=e.zero,p=e.width,u=e.comma,h=e.precision,b=e.trim,g=e.type;"n"===g?(u=!0,g="g"):!re[g]&&(null==h&&(h=12),b=!0,g="g"),(f||"0"===r&&"="===c)&&(f=!0,r="0",c="=");var y="$"===s?n[0]:"#"===s&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",_="$"===s?n[1]:/[%p]/.test(g)?i:"",m=re[g],x=/[defgprs%]/.test(g);return h=null==h?6:/[gprs]/.test(g)?ph(1,ih(21,h)):ph(0,ih(20,h)),t.toString=function(){return e+""},t}var a=e.grouping&&e.thousands?Bl(e.grouping,e.thousands):Fl,n=e.currency,o=e.decimal,d=e.numerals?zl(e.numerals):Fl,i=e.percent||"%";return{format:t,formatPrefix:function(a,n){var o=t((a=Dl(a),a.type="f",a)),d=3*ph(-8,ih(8,uh(Ul(n)/3))),e=lh(10,-d),i=tj[8+d/3];return function(t){return o(e*t)+i}}}}function Hl(e){return nj=ql(e),oj=nj.format,dj=nj.formatPrefix,nj}function Vl(e){return ph(0,-Ul(ch(e)))}function Gl(e,t){return ph(0,3*ph(-8,ih(8,uh(Ul(t)/3)))-Ul(ch(e)))}function Xl(e,t){return e=ch(e),t=ch(t)-e,ph(0,Ul(t)-Ul(e))+1}function Zl(e,t){for(var a=e.length,n=e[a-1],o=t[0],d=t[1],r=n[0],c=n[1],l=!1,s=0,f,u;s<a;++s)n=e[s],f=n[0],u=n[1],u>d!=c>d&&o<(r-f)*(d-u)/(c-u)+f&&(l=!l),r=f,c=u;return l}function $l(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);}return this}function Kl(e){return function(){return e}}function Jl(e){return+e}function Ql(e){return e}function es(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:Kl(isNaN(t)?NaN:.5)}function ts(e){var n=e[0],o=e[e.length-1],d;return n>o&&(d=n,n=o,o=d),function(e){return ph(n,ih(o,e))}}function as(e,t,a){var n=e[0],o=e[1],d=t[0],i=t[1];return o<n?(n=es(o,n),d=a(i,d)):(n=es(n,o),d=a(d,i)),function(e){return d(n(e))}}function ns(e,t,a){var n=ih(e.length,t.length)-1,o=Array(n),d=Array(n),r=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<n;)o[r]=es(e[r],e[r+1]),d[r]=a(t[r],t[r+1]);return function(t){var a=Kv(e,t,1,n)-1;return d[a](o[a](t))}}function os(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ds(){function e(){return l=2<ih(a.length,n.length)?ns:as,s=f=null,t}function t(e){return isNaN(e=+e)?c:(s||(s=l(a.map(i),n,o)))(i(d(e)))}var a=lj,n=lj,o=lc,d=Ql,i,r,c,l,s,f;return t.invert=function(e){return d(r((f||(f=l(n,a.map(i),oc)))(e)))},t.domain=function(t){return arguments.length?(a=rj.call(t,Jl),d===Ql||(d=ts(a)),e()):a.slice()},t.range=function(t){return arguments.length?(n=cj.call(t),e()):n.slice()},t.rangeRound=function(t){return n=cj.call(t),o=sc,e()},t.clamp=function(e){return arguments.length?(d=e?ts(a):Ql,t):d!==Ql},t.interpolate=function(t){return arguments.length?(o=t,e()):o},t.unknown=function(e){return arguments.length?(c=e,t):c},function(a,t){return i=a,r=t,e()}}function is(e,t){return ds()(e,t)}function rs(e,t,a,n){var o=yd(e,t,a),d;switch(n=Dl(null==n?",f":n),n.type){case"s":{var i=ph(ch(e),ch(t));return null!=n.precision||isNaN(d=Gl(o,i))||(n.precision=d),dj(n,i)}case"":case"e":case"g":case"p":case"r":{null!=n.precision||isNaN(d=Xl(o,ph(ch(e),ch(t))))||(n.precision=d-("e"===n.type));break}case"f":case"%":{null!=n.precision||isNaN(d=Vl(o))||(n.precision=d-2*("%"===n.type));break}}return oj(n)}function cs(e){var t=e.domain;return e.ticks=function(e){var a=t();return bd(a[0],a[a.length-1],null==e?10:e)},e.tickFormat=function(e,a){var n=t();return rs(n[0],n[n.length-1],null==e?10:e,a)},e.nice=function(a){null==a&&(a=10);var n=t(),o=0,d=n.length-1,i=n[o],r=n[d],c;return r<i&&(c=i,i=r,r=c,c=o,o=d,d=c),c=gd(i,r,a),0<c?(i=uh(i/c)*c,r=hh(r/c)*c,c=gd(i,r,a)):0>c&&(i=hh(i*c)/c,r=uh(r*c)/c,c=gd(i,r,a)),0<c?(n[o]=uh(i/c)*c,n[d]=hh(r/c)*c,t(n)):0>c&&(n[o]=hh(i*c)/c,n[d]=uh(r*c)/c,t(n)),e},e}function ls(){var e=is(Ql,Ql);return e.copy=function(){return os(e,ls())},$l.apply(e,arguments),cs(e)}function ss(e,t,a,n){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},o.round=function(e){var t=o(e),a=o.ceil(e);return e-t<a-e?t:a},o.offset=function(e,a){return t(e=new Date(+e),null==a?1:uh(a)),e},o.range=function(a,n,d){var i=[],r;if(a=o.ceil(a),d=null==d?1:uh(d),!(a<n)||!(0<d))return i;do i.push(r=new Date(+a)),t(a,d),e(a);while(r<a&&a<n);return i},o.filter=function(a){return ss(function(t){if(t>=t)for(;e(t),!a(t);)t.setTime(t-1)},function(e,n){if(e>=e)if(0>n)for(;0>=++n;)for(;t(e,-1),!a(e););else for(;0<=--n;)for(;t(e,1),!a(e););})},a&&(o.count=function(t,n){return sj.setTime(+t),fj.setTime(+n),e(sj),e(fj),uh(a(sj,fj))},o.every=function(e){return e=uh(e),isFinite(e)&&0<e?1<e?o.filter(n?function(t){return 0==n(t)%e}:function(t){return 0==o.count(0,t)%e}):o:null}),o}function fs(e){return ss(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*60000)/604800000})}function ps(e){return ss(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/604800000})}function us(e){if(0<=e.y&&100>e.y){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hs(e){if(0<=e.y&&100>e.y){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bs(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function gs(e){function t(e,t){return function(a){var o=[],d=-1,r=0,l=e.length,n,s,f;for(a instanceof Date||(a=new Date(+a));++d<l;)37===e.charCodeAt(d)&&(o.push(e.slice(r,d)),null==(s=aS[n=e.charAt(++d)])?s="e"===n?" ":"0":n=e.charAt(++d),(f=t[n])&&(n=f(a,s)),o.push(n),r=d+1);return o.push(e.slice(r,d)),o.join("")}}function a(e,t){return function(a){var o=bs(1900),d=n(o,e,a+="",0),i,r;if(d!=a.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(1>o.V||53<o.V)return null;"w"in o||(o.w=1),"Z"in o?(i=hs(bs(o.y)),r=i.getUTCDay(),i=4<r||0===r?Hj.ceil(i):Hj(i),i=Yj.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=t(bs(o.y)),r=i.getDay(),i=4<r||0===r?Cj.ceil(i):Cj(i),i=jj.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?hs(bs(o.y)).getUTCDay():t(bs(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=0|o.Z/100,o.M+=o.Z%100,hs(o)):t(o)}}function n(e,t,a,o){for(var d=0,r=t.length,n=a.length,l,s;d<r;){if(o>=n)return-1;if(l=t.charCodeAt(d++),37===l){if(l=t.charAt(d++),s=T[l in aS?t.charAt(d++):l],!s||0>(o=s(e,a,o)))return-1;}else if(l!=a.charCodeAt(o++))return-1}return o}var o=e.dateTime,r=e.date,c=e.time,l=e.periods,s=e.days,f=e.shortDays,p=e.months,u=e.shortMonths,h=ms(l),b=xs(l),g=ms(s),y=xs(s),_=ms(f),m=xs(f),x=ms(p),v=xs(p),w=ms(u),k=xs(u),j={a:function(e){return f[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return p[e.getMonth()]},c:null,d:Ws,e:Ws,f:Hs,H:Ls,I:Ys,j:Fs,L:qs,m:Vs,M:Gs,p:function(e){return l[+(12<=e.getHours())]},Q:wf,s:kf,S:Xs,u:Zs,U:$s,V:Ks,w:Js,W:Qs,x:null,X:null,y:ef,Y:tf,Z:af,"%":vf},S={a:function(e){return f[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return p[e.getUTCMonth()]},c:null,d:nf,e:nf,f:lf,H:of,I:df,j:rf,L:cf,m:sf,M:ff,p:function(e){return l[+(12<=e.getUTCHours())]},Q:wf,s:kf,S:pf,u:uf,U:hf,V:bf,w:gf,W:yf,x:null,X:null,y:_f,Y:mf,Z:xf,"%":vf},T={a:function(e,t,a){var o=_.exec(t.slice(a));return o?(e.w=m[o[0].toLowerCase()],a+o[0].length):-1},A:function(e,t,a){var o=g.exec(t.slice(a));return o?(e.w=y[o[0].toLowerCase()],a+o[0].length):-1},b:function(e,t,a){var o=w.exec(t.slice(a));return o?(e.m=k[o[0].toLowerCase()],a+o[0].length):-1},B:function(e,t,a){var o=x.exec(t.slice(a));return o?(e.m=v[o[0].toLowerCase()],a+o[0].length):-1},c:function(e,t,a){return n(e,o,t,a)},d:Es,e:Es,f:Us,H:Ps,I:Ps,j:Ns,L:Rs,m:Os,M:Ms,p:function(e,t,a){var o=h.exec(t.slice(a));return o?(e.p=b[o[0].toLowerCase()],a+o[0].length):-1},Q:zs,s:Ds,S:Is,u:ws,U:ks,V:js,w:vs,W:Ss,x:function(e,t,a){return n(e,r,t,a)},X:function(e,t,a){return n(e,c,t,a)},y:Cs,Y:Ts,Z:As,"%":Bs};return j.x=t(r,j),j.X=t(c,j),j.c=t(o,j),S.x=t(r,S),S.X=t(c,S),S.c=t(o,S),{format:function(e){var a=t(e+="",j);return a.toString=function(){return e},a},parse:function(e){var t=a(e+="",us);return t.toString=function(){return e},t},utcFormat:function(e){var a=t(e+="",S);return a.toString=function(){return e},a},utcParse:function(e){var t=a(e,hs);return t.toString=function(){return e},t}}}function ys(e,t,a){var n=0>e?"-":"",o=(n?-e:e)+"",d=o.length;return n+(d<a?Array(a-d+1).join(t)+o:o)}function _s(e){return e.replace(dS,"\\$&")}function ms(e){return new RegExp("^(?:"+e.map(_s).join("|")+")","i")}function xs(e){for(var t={},a=-1,o=e.length;++a<o;)t[e[a].toLowerCase()]=a;return t}function vs(e,t,a){var o=nS.exec(t.slice(a,a+1));return o?(e.w=+o[0],a+o[0].length):-1}function ws(e,t,a){var o=nS.exec(t.slice(a,a+1));return o?(e.u=+o[0],a+o[0].length):-1}function ks(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.U=+o[0],a+o[0].length):-1}function js(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.V=+o[0],a+o[0].length):-1}function Ss(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.W=+o[0],a+o[0].length):-1}function Ts(e,t,a){var o=nS.exec(t.slice(a,a+4));return o?(e.y=+o[0],a+o[0].length):-1}function Cs(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.y=+o[0]+(68<+o[0]?1900:2e3),a+o[0].length):-1}function As(e,t,a){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return o?(e.Z=o[1]?0:-(o[2]+(o[3]||"00")),a+o[0].length):-1}function Os(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.m=o[0]-1,a+o[0].length):-1}function Es(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.d=+o[0],a+o[0].length):-1}function Ns(e,t,a){var o=nS.exec(t.slice(a,a+3));return o?(e.m=0,e.d=+o[0],a+o[0].length):-1}function Ps(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.H=+o[0],a+o[0].length):-1}function Ms(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.M=+o[0],a+o[0].length):-1}function Is(e,t,a){var o=nS.exec(t.slice(a,a+2));return o?(e.S=+o[0],a+o[0].length):-1}function Rs(e,t,a){var o=nS.exec(t.slice(a,a+3));return o?(e.L=+o[0],a+o[0].length):-1}function Us(e,t,a){var o=nS.exec(t.slice(a,a+6));return o?(e.L=uh(o[0]/1e3),a+o[0].length):-1}function Bs(e,t,a){var o=oS.exec(t.slice(a,a+1));return o?a+o[0].length:-1}function zs(e,t,a){var o=nS.exec(t.slice(a));return o?(e.Q=+o[0],a+o[0].length):-1}function Ds(e,t,a){var o=nS.exec(t.slice(a));return o?(e.Q=1e3*+o[0],a+o[0].length):-1}function Ws(e,t){return ys(e.getDate(),t,2)}function Ls(e,t){return ys(e.getHours(),t,2)}function Ys(e,t){return ys(e.getHours()%12||12,t,2)}function Fs(e,t){return ys(1+jj.count(Uj(e),e),t,3)}function qs(e,t){return ys(e.getMilliseconds(),t,3)}function Hs(e,t){return qs(e,t)+"000"}function Vs(e,t){return ys(e.getMonth()+1,t,2)}function Gs(e,t){return ys(e.getMinutes(),t,2)}function Xs(e,t){return ys(e.getSeconds(),t,2)}function Zs(e){var t=e.getDay();return 0===t?7:t}function $s(e,t){return ys(Tj.count(Uj(e),e),t,2)}function Ks(e,t){var a=e.getDay();return e=4<=a||0===a?Ej(e):Ej.ceil(e),ys(Ej.count(Uj(e),e)+(4===Uj(e).getDay()),t,2)}function Js(e){return e.getDay()}function Qs(e,t){return ys(Cj.count(Uj(e),e),t,2)}function ef(e,t){return ys(e.getFullYear()%100,t,2)}function tf(e,t){return ys(e.getFullYear()%1e4,t,4)}function af(e){var t=e.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+ys(0|t/60,"0",2)+ys(t%60,"0",2)}function nf(e,t){return ys(e.getUTCDate(),t,2)}function of(e,t){return ys(e.getUTCHours(),t,2)}function df(e,t){return ys(e.getUTCHours()%12||12,t,2)}function rf(e,t){return ys(1+Yj.count(eS(e),e),t,3)}function cf(e,t){return ys(e.getUTCMilliseconds(),t,3)}function lf(e,t){return cf(e,t)+"000"}function sf(e,t){return ys(e.getUTCMonth()+1,t,2)}function ff(e,t){return ys(e.getUTCMinutes(),t,2)}function pf(e,t){return ys(e.getUTCSeconds(),t,2)}function uf(e){var t=e.getUTCDay();return 0===t?7:t}function hf(e,t){return ys(qj.count(eS(e),e),t,2)}function bf(e,t){var a=e.getUTCDay();return e=4<=a||0===a?Xj(e):Xj.ceil(e),ys(Xj.count(eS(e),e)+(4===eS(e).getUTCDay()),t,2)}function gf(e){return e.getUTCDay()}function yf(e,t){return ys(Hj.count(eS(e),e),t,2)}function _f(e,t){return ys(e.getUTCFullYear()%100,t,2)}function mf(e,t){return ys(e.getUTCFullYear()%1e4,t,4)}function xf(){return"+0000"}function vf(){return"%"}function wf(e){return+e}function kf(e){return uh(+e/1e3)}function jf(e){return iS=gs(e),rS=iS.format,cS=iS.parse,lS=iS.utcFormat,sS=iS.utcParse,iS}function Sf(e){for(var t=0|e.length/6,a=Array(t),n=0;n<t;)a[n]="#"+e.slice(6*n,6*++n);return a}function Tf(e){return vk(e[e.length-1])}function Cf(e){var a=e.length;return function(n){return e[ph(0,ih(a-1,uh(n*a)))]}}function Af(e){return 0>e?-1:1}function Of(e,t,a){var n=e._x1-e._x0,o=t-e._x1,d=(e._y1-e._y0)/(n||0>o&&-0),i=(a-e._y1)/(o||0>n&&-0);return(Af(d)+Af(i))*ih(ch(d),ch(i),.5*ch((d*o+i*n)/(n+o)))||0}function Ef(e,a){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-a)/2:a}function Nf(e,t,a){var n=e._x0,o=e._y0,d=e._x1,i=e._y1,r=(d-n)/3;e._context.bezierCurveTo(n+r,o+r*t,d-r,i-r*a,d,i)}function Pf(e){this._context=e}function Mf(e){this._context=e}function If(e,t){t.on("make-app-cocktail.legend",function(){return Rf(e)}),t.on("make-app-limits.legend",function(){return Uf(e)})}function Rf(e){e.selectAll("g.legend").html(null);var t=ls().domain([0,VS.cocktail.keys.length]).rangeRound([0,(VS.cocktail.dim.height+VS.cocktail.dim.margin)*VS.cocktail.keys.length]),a=e.append("g").classed("legend",!0).attr("transform","translate(620,50) scale(1.3)");a.selectAll("rect").data(VS.cocktail.keys).enter().append("rect").attr("fill",function(e){return Hw(Uw.CATEGORY[e])}).attr("height",VS.cocktail.dim.height).attr("x",0).attr("y",function(e,a){return t(a)}).attr("width",VS.cocktail.dim.width),a.selectAll("text").data(VS.cocktail.keys).enter().append("text").attr("x",VS.cocktail.dim.label.xOffset).attr("y",function(e,a){return t(a)+VS.cocktail.dim.label.yOffset}).attr("font-size","0.9rem").text(function(e){return VS.cocktail.labels[e]});var n=a.append("g").attr("fill","#000").attr("text-anchor","start");n.append("text").attr("y",-VS.cocktail.dim.titleOffset).attr("font-weight","bold").text("Número de agrotóxicos"),n.append("text").attr("y",-VS.cocktail.dim.subtitleOffset).attr("font-weight","bold").text("detectados na água")}function Uf(e){e.selectAll("g.legend").html(null);var t=ls().domain([0,VS.limits.keys.length]).rangeRound([0,(VS.limits.dim.height+VS.limits.dim.margin)*VS.limits.keys.length]),a=e.append("g").classed("legend",!0).attr("transform","translate(550,50) scale(1.3)");a.selectAll("rect").data(VS.limits.keys).enter().append("rect").attr("fill",function(e){return Vw(Bw.CATEGORY[e])}).attr("height",VS.limits.dim.height).attr("y",function(e,a){return t(a)}).attr("width",VS.limits.dim.width),a.selectAll("text").data(VS.limits.keys).enter().append("text").attr("x",VS.limits.dim.label.xOffset).attr("y",function(e,a){return t(a)+VS.limits.dim.label.yOffset}).attr("font-size","0.9rem").text(function(e){return VS.limits.labels[e]});var n=a.append("g").attr("fill","#000").attr("text-anchor","start");n.append("text").attr("y",-VS.limits.dim.titleOffset).attr("font-weight","bold").text("Concentração dos agrotóxicos na água"),n.append("text").attr("y",-VS.limits.dim.subtitleOffset).attr("font-weight","bold").text("acima dos limites considerados seguros")}function Bf(e,t,a,n,o){var d=e.append("rect").attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").attr("fill","white").attr("fill-opacity","0.01");d.on("mouseout",function(){t.call("mun-mouseout")}),d.on("click",function(){var e=Df(a,event,o,n);e?t.call("mun-click",null,e):t.call("mun-mouseout")}),d.on("mouseover mousemove",function(){var e=Df(a,event,o,n);e?t.call("mun-mouseover",null,e):t.call("mun-mouseout")})}function zf(e,t){return!!(e&&GS.hasOwnProperty(e.type))&&GS[e.type](e,t)}function Df(e,t,a,n){var o=function(e){return e*a/n.node().clientWidth},d=o(t.layerX),i=o(t.layerY);return e.mun.features.find(function(e){return zf(e.geometry,[d,i])})}function Wf(e){var t=e+="",a=t.indexOf(":");return 0<=a&&"xmlns"!==(t=e.slice(0,a))&&(e=e.slice(a+1)),XS.hasOwnProperty(t)?{space:XS[t],local:e}:e}function Lf(e){return function(){var t=this.ownerDocument,a=this.namespaceURI;return a==="http://www.w3.org/1999/xhtml"&&t.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?t.createElement(e):t.createElementNS(a,e)}}function Yf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ff(e){var t=Wf(e);return(t.local?Yf:Lf)(t)}function qf(e,t,a){return e=Hf(e,t,a),function(t){var a=t.relatedTarget;a&&(a===this||8&a.compareDocumentPosition(this))||e.call(this,t)}}function Hf(e,t,a){return function(n){var o=eT;eT=n;try{e.call(this,this.__data__,t,a)}finally{eT=o}}}function Vf(e){return e.trim().split(/^|\s+/).map(function(e){var a="",n=e.indexOf(".");return 0<=n&&(a=e.slice(n+1),e=e.slice(0,n)),{type:e,name:a}})}function Gf(e){return function(){var t=this.__on;if(t){for(var a=0,n=-1,d=t.length,r;a<d;++a)(r=t[a],(!e.type||r.type===e.type)&&r.name===e.name)?this.removeEventListener(r.type,r.listener,r.capture):t[++n]=r;++n?t.length=n:delete this.__on}}}function Xf(e,t,a){var n=QS.hasOwnProperty(e.type)?qf:Hf;return function(r,d,i){var c=this.__on,l=n(t,d,i),s;if(c)for(var f=0,p=c.length;f<p;++f)if((s=c[f]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=a),void(s.value=t);this.addEventListener(e.type,l,a),s={type:e.type,name:e.name,value:t,listener:l,capture:a},c?c.push(s):this.__on=[s]}}function Zf(e,t,a,n){var o=eT;e.sourceEvent=eT,eT=e;try{return t.apply(a,n)}finally{eT=o}}function $f(){for(var e=eT,t;t=e.sourceEvent;)e=t;return e}function Kf(e,t){var a=e.ownerSVGElement||e;if(a.createSVGPoint){var n=a.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function Jf(e){var t=$f();return t.changedTouches&&(t=t.changedTouches[0]),Kf(e,t)}function Qf(){}function ep(e){return null==e?Qf:function(){return this.querySelector(e)}}function tp(e){"function"!=typeof e&&(e=ep(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=Array(c),l=0,s,f;l<c;++l)(s=r[l])&&(f=e.call(s,s.__data__,l,r))&&("__data__"in s&&(f.__data__=s.__data__),n[l]=f);return new qp(o,this._parents)}function ap(){return[]}function np(e){return null==e?ap:function(){return this.querySelectorAll(e)}}function op(e){return Array(e.length)}function dp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ip(e){return function(){return e}}function rp(e,t,a,n,o,d){for(var r=0,c=t.length,l=d.length,s;r<l;++r)(s=t[r])?(s.__data__=d[r],n[r]=s):a[r]=new dp(e,d[r]);for(;r<c;++r)(s=t[r])&&(o[r]=s)}function cp(e,t,a,n,o,d,r){var c={},l=t.length,s=d.length,f=Array(l),p,u,h;for(p=0;p<l;++p)(u=t[p])&&(f[p]=h="$"+r.call(u,u.__data__,p,t),h in c?o[p]=u:c[h]=u);for(p=0;p<s;++p)h="$"+r.call(e,d[p],p,d),(u=c[h])?(n[p]=u,u.__data__=d[p],c[h]=null):a[p]=new dp(e,d[p]);for(p=0;p<l;++p)(u=t[p])&&c[f[p]]===u&&(o[p]=u)}function lp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sp(e){return function(){this.removeAttribute(e)}}function fp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pp(e,t){return function(){this.setAttribute(e,t)}}function up(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hp(e,t){return function(){var a=t.apply(this,arguments);null==a?this.removeAttribute(e):this.setAttribute(e,a)}}function bp(e,t){return function(){var a=t.apply(this,arguments);null==a?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function gp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yp(e){return function(){this.style.removeProperty(e)}}function _p(e,t,a){return function(){this.style.setProperty(e,t,a)}}function mp(e,t,a){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,a)}}function xp(e){return function(){delete this[e]}}function vp(e,t){return function(){this[e]=t}}function wp(e,t){return function(){var a=t.apply(this,arguments);null==a?delete this[e]:this[e]=a}}function kp(e){return e.trim().split(/^|\s+/)}function jp(e){return e.classList||new Sp(e)}function Sp(e){this._node=e,this._names=kp(e.getAttribute("class")||"")}function Tp(e,t){for(var a=jp(e),o=-1,d=t.length;++o<d;)a.add(t[o])}function Cp(e,t){for(var a=jp(e),o=-1,d=t.length;++o<d;)a.remove(t[o])}function Ap(e){return function(){Tp(this,e)}}function Op(e){return function(){Cp(this,e)}}function Ep(e,t){return function(){(t.apply(this,arguments)?Tp:Cp)(this,e)}}function Np(){this.textContent=""}function Pp(e){return function(){this.textContent=e}}function Mp(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Ip(){this.innerHTML=""}function Rp(e){return function(){this.innerHTML=e}}function Up(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Bp(){this.nextSibling&&this.parentNode.appendChild(this)}function zp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dp(){return null}function Wp(){var e=this.parentNode;e&&e.removeChild(this)}function Lp(e,t,a){var n=gp(e),o=n.CustomEvent;o?o=new o(t,a):(o=n.document.createEvent("Event"),a?(o.initEvent(t,a.bubbles,a.cancelable),o.detail=a.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Yp(e,t){return function(){return Lp(this,e,t)}}function Fp(e,t){return function(){return Lp(this,e,t.apply(this,arguments))}}function qp(e,t){this._groups=e,this._parents=t}function Hp(e){return"string"==typeof e?new qp([[document.querySelector(e)]],[document.documentElement]):new qp([[e]],aT)}function Vp(e,t,a){3>arguments.length&&(a=t,t=$f().changedTouches);for(var o=0,d=t?t.length:0,n;o<d;++o)if((n=t[o]).identifier===a)return Kf(e,n);return null}function Gp(){for(var e=0,a=arguments.length,n={},o;e<a;++e){if(!(o=arguments[e]+"")||o in n)throw new Error("illegal type: "+o);n[o]=[]}return new Xp(n)}function Xp(e){this._=e}function Zp(e,a){return e.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");if(0<=o&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!a.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function $p(e,t){for(var a=0,o=e.length,n;a<o;++a)if((n=e[a]).name===t)return n.value}function Kp(e,t,a){for(var o=0,d=e.length;o<d;++o)if(e[o].name===t){e[o]=nT,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=a&&e.push({name:t,value:a}),e}function Jp(){eT.stopImmediatePropagation()}function Qp(){eT.preventDefault(),eT.stopImmediatePropagation()}function eu(e){var t=e.document.documentElement,a=Hp(e).on("dragstart.drag",Qp,!0);"onselectstart"in t?a.on("selectstart.drag",Qp,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tu(e,t){var a=e.document.documentElement,n=Hp(e).on("dragstart.drag",null);t&&(n.on("click.drag",Qp,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in a?n.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}function au(e){return function(){return e}}function nu(e,t,a,n,o,d,i,r,c,l){this.target=e,this.type=t,this.subject=a,this.identifier=n,this.active=o,this.x=d,this.y=i,this.dx=r,this.dy=c,this._=l}function ou(){return!eT.button}function du(){return this.parentNode}function iu(e){return null==e?{x:eT.x,y:eT.y}:e}function ru(){function e(e){e.on("mousedown.drag",t).on("touchstart.drag",o).on("touchmove.drag",d).on("touchend.drag touchcancel.drag",i).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){if(!g&&l.apply(this,arguments)){var e=r("mouse",s.apply(this,arguments),Jf,this,arguments);e&&(Hp(eT.view).on("mousemove.drag",a,!0).on("mouseup.drag",n,!0),eu(eT.view),Jp(),b=!1,e("start"))}}function a(){Qp(),b=!0,p.mouse("drag")}function n(){Hp(eT.view).on("mousemove.drag mouseup.drag",null),tu(eT.view,b),Qp(),p.mouse("end")}function o(){if(l.apply(this,arguments)){var e=eT.changedTouches,t=s.apply(this,arguments),a=e.length,n,o;for(n=0;n<a;++n)(o=r(e[n].identifier,t,Vp,this,arguments))&&(Jp(),o("start"))}}function d(){var e=eT.changedTouches,t=e.length,a,n;for(a=0;a<t;++a)(n=p[e[a].identifier])&&(Qp(),n("drag"))}function i(){var e=eT.changedTouches,t=e.length,a,n;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),a=0;a<t;++a)(n=p[e[a].identifier])&&(Jp(),n("end"))}function r(t,a,n,o,d){var i=n(a,t),r=u.copy(),c,l,b;return Zf(new nu(e,"beforestart",c,t,h,i[0],i[1],0,0,r),function(){return null!=(eT.subject=c=f.apply(o,d))&&(l=c.x-i[0]||0,b=c.y-i[1]||0,!0)})?function s(f){var u=i,g;switch(f){case"start":p[t]=s,g=h++;break;case"end":delete p[t],--h;case"drag":i=n(a,t),g=h;}Zf(new nu(e,f,c,t,g,i[0]+l,i[1]+b,i[0]-u[0],i[1]-u[1],r),r.apply,r,[f,o,d])}:void 0}var l=ou,s=du,f=iu,p={},u=Gp("start","drag","end"),h=0,b,g;return e.filter=function(t){return arguments.length?(l="function"==typeof t?t:au(!!t),e):l},e.container=function(t){return arguments.length?(s="function"==typeof t?t:au(t),e):s},e.subject=function(t){return arguments.length?(f="function"==typeof t?t:au(t),e):f},e.on=function(){var t=u.on.apply(u,arguments);return t===u?e:t},e}function cu(e){return function(){return e}}function lu(e){return e.innerRadius}function su(e){return e.outerRadius}function fu(e){return e.startAngle}function pu(e){return e.endAngle}function uu(e){return e&&e.padAngle}function hu(e){return 1<=e?iT:-1>=e?-iT:eh(e)}function bu(e,a,n,o,d,i,r,c){var l=n-e,s=o-a,f=r-d,p=c-i,u=(f*(a-i)-p*(e-d))/(p*l-f*s);return[e+u*l,a+u*s]}function gu(e,t,a,n,o,i,c){var l=e-a,s=t-n,f=(c?i:-i)/rh(l*l+s*s),p=f*s,u=-f*l,h=e+p,b=t+u,g=a+p,y=n+u,_=(h+g)/2,m=(b+y)/2,x=g-h,v=y-b,w=x*x+v*v,k=o-i,r=h*y-g*b,j=(0>v?-1:1)*rh(ph(0,k*k*w-r*r)),d=(r*v-x*j)/w,S=(-r*x-v*j)/w,T=(r*v+x*j)/w,C=(-r*x+v*j)/w,A=d-_,O=S-m,E=T-_,N=C-m;return A*A+O*O>E*E+N*N&&(d=T,S=C),{cx:d,cy:S,x01:-p,y01:-u,x11:d*(o/k-1),y11:S*(o/k-1)}}function yu(){function e(){var e=+t.apply(this,arguments),a=+n.apply(this,arguments),f=i.apply(this,arguments)-iT,p=c.apply(this,arguments)-iT,u=ch(p-f),h=p>f,b,g;if(s||(s=b=Xd()),a<e&&(g=a,a=e,e=g),!(a>oT))s.moveTo(0,0);else if(u>rT-oT)s.moveTo(a*oh(f),a*nh(f)),s.arc(0,0,a,f,p,!h),e>oT&&(s.moveTo(e*oh(p),e*nh(p)),s.arc(0,0,e,p,f,h));else{var y=f,_=p,m=f,x=p,v=u,w=u,k=l.apply(this,arguments)/2,j=k>oT&&(d?+d.apply(this,arguments):rh(e*e+a*a)),S=ih(ch(a-e)/2,+o.apply(this,arguments)),T=S,C=S,A,O;if(j>oT){var E=hu(j/e*nh(k)),N=hu(j/a*nh(k));(v-=2*E)>oT?(E*=h?1:-1,m+=E,x-=E):(v=0,m=x=(f+p)/2),(w-=2*N)>oT?(N*=h?1:-1,y+=N,_-=N):(w=0,y=_=(f+p)/2)}var P=a*oh(y),M=a*nh(y),I=e*oh(x),R=e*nh(x);if(S>oT){var U=a*oh(_),B=a*nh(_),z=e*oh(m),D=e*nh(m);if(u<dT){var W=v>oT?bu(P,M,z,D,U,B,I,R):[I,R],L=P-W[0],Y=M-W[1],F=U-W[0],q=B-W[1],H=1/nh(Qu((L*F+Y*q)/(rh(L*L+Y*Y)*rh(F*F+q*q)))/2),V=rh(W[0]*W[0]+W[1]*W[1]);T=ih(S,(e-V)/(H-1)),C=ih(S,(a-V)/(H+1))}}w>oT?C>oT?(A=gu(z,D,P,M,a,C,h),O=gu(U,B,I,R,a,C,h),s.moveTo(A.cx+A.x01,A.cy+A.y01),C<S?s.arc(A.cx,A.cy,C,ah(A.y01,A.x01),ah(O.y01,O.x01),!h):(s.arc(A.cx,A.cy,C,ah(A.y01,A.x01),ah(A.y11,A.x11),!h),s.arc(0,0,a,ah(A.cy+A.y11,A.cx+A.x11),ah(O.cy+O.y11,O.cx+O.x11),!h),s.arc(O.cx,O.cy,C,ah(O.y11,O.x11),ah(O.y01,O.x01),!h))):(s.moveTo(P,M),s.arc(0,0,a,y,_,!h)):s.moveTo(P,M),e>oT&&v>oT?T>oT?(A=gu(I,R,U,B,e,-T,h),O=gu(P,M,z,D,e,-T,h),s.lineTo(A.cx+A.x01,A.cy+A.y01),T<S?s.arc(A.cx,A.cy,T,ah(A.y01,A.x01),ah(O.y01,O.x01),!h):(s.arc(A.cx,A.cy,T,ah(A.y01,A.x01),ah(A.y11,A.x11),!h),s.arc(0,0,e,ah(A.cy+A.y11,A.cx+A.x11),ah(O.cy+O.y11,O.cx+O.x11),h),s.arc(O.cx,O.cy,T,ah(O.y11,O.x11),ah(O.y01,O.x01),!h))):s.arc(0,0,e,x,m,h):s.lineTo(I,R)}return(s.closePath(),b)?(s=null,b+""||null):void 0}var t=lu,n=su,o=cu(0),d=null,i=fu,c=pu,l=uu,s=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,o=(+i.apply(this,arguments)+ +c.apply(this,arguments))/2-dT/2;return[oh(o)*e,nh(o)*e]},e.innerRadius=function(a){return arguments.length?(t="function"==typeof a?a:cu(+a),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:cu(+t),e):n},e.cornerRadius=function(t){return arguments.length?(o="function"==typeof t?t:cu(+t),e):o},e.padRadius=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:cu(+t),e):d},e.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:cu(+t),e):i},e.endAngle=function(t){return arguments.length?(c="function"==typeof t?t:cu(+t),e):c},e.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:cu(+t),e):l},e.context=function(t){return arguments.length?(s=null==t?null:t,e):s},e}function _u(e){this._context=e}function mu(e){return new _u(e)}function xu(e){return e[0]}function x(e){return e[1]}function y(){function e(e){var s=e.length,n=!1,f,p,u;for(null==r&&(l=c(u=Xd())),f=0;f<=s;++f)!(f<s&&o(p=e[f],f,e))==n&&((n=!n)?l.lineStart():l.lineEnd()),n&&l.point(+t(p,f,e),+a(p,f,e));if(u)return l=null,u+""||null}var t=xu,a=x,o=cu(!0),r=null,c=mu,l=null;return e.x=function(a){return arguments.length?(t="function"==typeof a?a:cu(+a),e):t},e.y=function(t){return arguments.length?(a="function"==typeof t?t:cu(+t),e):a},e.defined=function(t){return arguments.length?(o="function"==typeof t?t:cu(!!t),e):o},e.curve=function(t){return arguments.length?(c=t,null!=r&&(l=c(r)),e):c},e.context=function(t){return arguments.length?(null==t?r=l=null:l=c(r=t),e):r},e}function vu(e,t,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function wu(e,t){this._context=e,this._k=(1-t)/6}function ku(e,t,o){var d=e._x1,i=e._y1,r=e._x2,c=e._y2;if(e._l01_a>oT){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,a=3*e._l01_a*(e._l01_a+e._l12_a);d=(d*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/a,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/a}if(e._l23_a>oT){var n=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,s=3*e._l23_a*(e._l23_a+e._l12_a);r=(r*n+e._x1*e._l23_2a-t*e._l12_2a)/s,c=(c*n+e._y1*e._l23_2a-o*e._l12_2a)/s}e._context.bezierCurveTo(d,i,r,c,e._x2,e._y2)}function ju(e,t){this._context=e,this._alpha=t}function Su(e){return 0>e?-1:1}function Tu(e,t,a){var n=e._x1-e._x0,o=t-e._x1,d=(e._y1-e._y0)/(n||0>o&&-0),i=(a-e._y1)/(o||0>n&&-0);return(Su(d)+Su(i))*ih(ch(d),ch(i),.5*ch((d*o+i*n)/(n+o)))||0}function Cu(e,a){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-a)/2:a}function Au(e,t,a){var n=e._x0,o=e._y0,d=e._x1,i=e._y1,r=(d-n)/3;e._context.bezierCurveTo(n+r,o+r*t,d-r,i-r*a,d,i)}function Ou(e){this._context=e}function Eu(e){this._context=e}function Nu(){var e=[],t=void 0,a=void 0,n=[],o={},d={},i=!1,r=void 0,c=VT,l=void 0,s=void 0,f=Gp("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),p=void 0,u=function a(u){p=u,i||u.selectAll("circle.handle").remove();var h=e.map(function(e){return e.type||(e.type=c),e.disable||(e.disable=n),new yT(e)});t=t||new _T({annotations:h,accessors:o,accessorsInverse:d,ids:r});var b=u.selectAll("g").data([t]);b.enter().append("g").attr("class","annotations");var g=u.select("g.annotations");eC(g,t.annotations,"g","annotation");var a=g.selectAll("g.annotation");a.each(function(e){var t=Hp(this);t.attr("class","annotation"),eC(t,[e],"g","annotation-connector"),eC(t,[e],"g","annotation-subject"),eC(t,[e],"g","annotation-note"),eC(t.select("g.annotation-note"),[e],"g","annotation-note-content"),e.type="[object Object]"===e.type.toString()?e.type:new e.type({a:t,annotation:e,textWrap:l,notePadding:s,editMode:i,dispatcher:f,accessors:o}),e.type.draw(),e.type.drawText&&e.type.drawText()})};return u.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",t.json),window.copy(JSON.stringify(t.json.map(function(e){return delete e.type,e}))),u},u.update=function(){return e&&t&&(e=t.annotations.map(function(e){return e.type.draw(),e})),u},u.updateText=function(){return t&&(t.updateText(l),e=t.annotations),u},u.updatedAccessors=function(){return t.setPositionWithAccessors(),e=t.annotations,u},u.disable=function(a){return arguments.length?(n=a,t&&(t.updateDisable(n),e=t.annotations),u):n},u.textWrap=function(a){return arguments.length?(l=a,t&&(t.updateTextWrap(l),e=t.annotations),u):l},u.notePadding=function(a){return arguments.length?(s=a,t&&(t.updateNotePadding(s),e=t.annotations),u):s},u.type=function(a,n){return arguments.length?(c=a,t&&(t.annotations.map(function(e){e.type.note&&e.type.note.selectAll("*:not(.annotation-note-content)").remove(),e.type.noteContent&&e.type.noteContent.selectAll("*").remove(),e.type.subject&&e.type.subject.selectAll("*").remove(),e.type.connector&&e.type.connector.selectAll("*").remove(),e.type.typeSettings={},e.type=c,e.subject=n&&n.subject||e.subject,e.connector=n&&n.connector||e.connector,e.note=n&&n.note||e.note}),e=t.annotations),u):c},u.annotations=function(a){if(!arguments.length)return t&&t.annotations||e;if(e=a,t&&t.annotations){var n=e.some(function(e){return!e.type||"[object Object]"!==e.type.toString()});n?(t=null,u(p)):t.annotations=e}return u},u.context=function(e){return arguments.length?(a=e,u):a},u.accessors=function(e){return arguments.length?(o=e,u):o},u.accessorsInverse=function(e){return arguments.length?(d=e,u):d},u.ids=function(e){return arguments.length?(r=e,u):r},u.editMode=function(a){return arguments.length?(i=a,p&&p.selectAll("g.annotation").classed("editable",i),t&&(t.editMode(i),e=t.annotations),u):i},u.collection=function(e){return arguments.length?(t=e,u):t},u.on=function(){var e=f.on.apply(f,arguments);return e===f?u:e},u}function Pu(e){return Number.isInteger(e.properties.map1Number)?e.properties.map1Number+" agrotóxico(s) encontrado(s) na água potável.":"Nunca testado."}function Mu(e){return dC[e.properties.map2Category]}function Iu(e,t){function a(e,a){function o(a){t.on("mun-mouseout.tooltip",function(){return Uu(n,e,a)})}function d(){t.on("mun-mouseout.tooltip",function(){return Ru(n)})}"mun"in a?o(a.mun):d(),t.on("mun-mouseover.tooltip",function(t){return Uu(n,e,t)}),t.on("to-brazil-view.tooltip ",function(){d(),Ru(n)}),t.on("to-mun-view.tooltip mun-click.tooltip",function(t){o(t),Uu(n,e,t)})}var n=e.append("g").classed("tooltip",!0);t.on("make-app-cocktail.tooltip",function(e){a(Pu,e)}),t.on("make-app-limits.tooltip",function(e){a(Mu,e)})}function Ru(e){e.html("")}function Uu(e,t,a){e.call(Bu(t,a))}function Bu(e,t){return Nu().type($T).annotations([{data:t,note:{label:e(t),title:t.properties.name+" ("+t.properties.fuName+")",wrap:oC.nx},nx:oC.nx,ny:oC.ny,subject:{radius:ph(t.properties.radius,oC.radius.min),radiusPadding:oC.radius.padding},x:t.properties.centroid[0],y:t.properties.centroid[1]}])}function zu(e,t,a){Du(e),e.html(null);var n=e.append("canvas");n.attr("width",iC.drawing.scale*iC.data.width).attr("height",iC.drawing.scale*iC.data.height);var o=n.node().getContext("2d"),d=iC.drawing.scale;o.scale(d,d),o.lineJoin="round",o.lineCap="round";var i=zd(null,o);hi(o,t,i,a,d);var r=e.append("svg").style("position","absolute").style("top","0px").style("left","0px").attr("viewBox","0,0,"+iC.data.width+","+iC.data.height);If(r,t),Iu(r,t),Bf(r,t,a,n,iC.data.width),Wu(e)}function Du(e){e.classed("is-loading",!0)}function Wu(e){e.classed("is-loading",!1)}function Lu(e,t){Yu(e,t),e.on("to-brazil-view.nav",function(){Yu(e,{data:t.data})}),e.on("to-mun-view.nav",function(a){Yu(e,{data:t.data,mun:a})}),e.on("make-app-cocktail.nav",function(){jr("#navbarMaps .navbar-item").classed("is-active",!1),kr("#navbarMaps #nav-item-cocktail").classed("is-active",!0),kr("#page-title").classed("cocktail",!0),kr("#page-title").classed("limits",!1),kr("#page-title").classed("substances",!1)}),e.on("make-app-limits.nav",function(){jr("#navbarMaps .navbar-item").classed("is-active",!1),kr("#navbarMaps #nav-item-limits").classed("is-active",!0),kr("#page-title").classed("cocktail",!1),kr("#page-title").classed("limits",!0),kr("#page-title").classed("substances",!1)}),e.on("make-app-substances.nav",function(){jr("#navbarMaps .navbar-item").classed("is-active",!1),kr("#navbarMaps #nav-item-substances").classed("is-active",!0),kr("#page-title").classed("cocktail",!1),kr("#page-title").classed("limits",!1),kr("#page-title").classed("substances",!0)})}function Yu(e,t){kr("#navbarMaps #nav-item-cocktail").on("click",function(){e.call("make-app-cocktail",null,t)}),kr("#navbarMaps #nav-item-limits").on("click",function(){e.call("make-app-limits",null,t)}),kr("#navbarMaps #nav-item-substances").on("click",function(){e.call("make-app-substances",null,t)})}function Fu(e,t,a){Zu(e);var n=window.fuzzball,o=function(){var e=Math.log10,t=e(812),n=e(12106920);return a.data.mun.features.map(function(a){return{mun:a,name:a.properties.deburredName,popScore:(e(a.properties.population)-t)*(100/(n-t))}})}(),d={cutoff:50,limit:5,scorer:function(e,t,a){var o=n.ratio(e,t.name,a),d=t.popScore,i=2/(1+e.length);return(1-i)*o+i*d},unsorted:!1};kr("#search-input").on("focus",function(){t.call("search-results-updated",null,n.extract("",o,d)),qu()}),kr("#search-modal .modal-background").on("click",function(){Hu()}),kr("#search-modal .modal-close").on("click",function(){Hu()}),t.on("search-selected.search",function(){Hu()}),kr("#search-modal-input").on("keydown",function(){if("ArrowDown"===event.code||"NumpadEnter"===event.code||"Enter"===event.code){event.preventDefault();var e=jr("#search #results li a");e.empty()||e.node().focus()}else("Escape"===event.code||"Tab"===event.code&&event.shiftKey)&&(Gu(),Hu())}),kr("#search-modal-input").on("input",function(e,a,i){var r=i[0].value;t.call("search-results-updated",null,n.extract(Mt(r),o,d))}),t.on("search-results-updated.search",function(e){Xu(e,t)}),$u(e)}function qu(){kr("#search-input").attr("tabindex",-1),kr("#search-modal").classed("is-active",!0),kr("#search-modal-input").node().focus()}function Hu(){window.setTimeout(function(){kr("#search-input").attr("tabindex",0)},100),kr("#search-modal").classed("is-active",!1),kr("#search-input").property("value",""),Vu()}function Vu(){kr("#search-modal-input").property("value",""),Gu()}function Gu(){kr("#search #results").html("")}function Xu(e,t){var a=kr("#search #results").html("").selectAll("li").data(e.slice(0,5)).enter().append("li").append("a").attr("tabindex",0);a.text(function(e){return e[0].mun.properties.name}),a.append("p").text(function(e){return e[0].mun.properties.fuName}),a.on("click",function(e){Gu(),t.call("search-selected",null,e[0].mun)}),a.on("keydown",function(e,a,n){"ArrowDown"===event.code?(event.preventDefault(),a<n.length-1&&n[a+1].focus()):"ArrowUp"===event.code?(event.preventDefault(),0<a?n[a-1].focus():kr("#search-modal-input").node().focus()):"NumpadEnter"===event.code||"Enter"===event.code?(Gu(),t.call("search-selected",null,e[0].mun)):("Escape"===event.code||"Tab"===event.code&&a===n.length-1)&&(Gu(),Hu())})}function Zu(e){e.classed("is-loading",!0)}function $u(e){e.classed("is-loading",!1)}function Ku(e){kr("section#app").classed("cocktail",!1).classed("limits",!1).classed("substances",!1).classed(e,!0)}var bh={value:function(){}};a.prototype=e.prototype={constructor:a,on:function(e,a){var c=this._,l=o(e+"",c),s=-1,f=l.length,n;if(2>arguments.length){for(;++s<f;)if((n=(e=l[s]).type)&&(n=d(c[n],e.name)))return n;return}if(null!=a&&"function"!=typeof a)throw new Error("invalid callback: "+a);for(;++s<f;)if(n=(e=l[s]).type)c[n]=r(c[n],e.name,a);else if(null==a)for(n in c)c[n]=r(c[n],e.name,null);return this},copy:function(){var e={},n=this._;for(var o in n)e[o]=n[o].slice();return new a(e)},call:function(e,a){if(0<(r=arguments.length-2))for(var o=Array(r),d=0,r,c;d<r;++d)o[d]=arguments[d+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],d=0,r=c.length;d<r;++d)c[d].value.apply(a,o)},apply:function(e,a,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var d=this._[e],t=0,r=d.length;t<r;++t)d[t].value.apply(a,o)}};var gh={},yh={},_h=b(","),mh=_h.parse,xh=_h.parseRows,vh=_h.format,wh=_h.formatBody,kh=_h.formatRows,jh=b("\t"),Sh=jh.parse,Th=jh.parseRows,Ch=jh.format,Ah=jh.formatBody,Oh=jh.formatRows,Eh=function(e){return function(t,a,n){return 2===arguments.length&&"function"==typeof a&&(n=a,a=void 0),_(t,a).then(function(t){return e(t,n)})}}(mh),Nh="object"==typeof global&&global&&global.Object===Object&&global,Ph="object"==typeof self&&self&&self.Object===Object&&self,Mh=Nh||Ph||Function("return this")(),Ih=Mh.Symbol,Rh=Object.prototype,Uh=Rh.hasOwnProperty,Bh=Rh.toString,zh=Ih?Ih.toStringTag:void 0,Dh=Object.prototype,Wh=Dh.toString,Lh=Ih?Ih.toStringTag:void 0,Yh=0/0,Fh=Array.isArray,qh=1/0,Hh=Ih?Ih.prototype:void 0,Vh=Hh?Hh.toString:void 0,Gh=M(function(e,t){return e+t},0),Xh=0/0,Zh=/^\s+|\s+$/g,$h=/^[-+]0x[0-9a-f]+$/i,Kh=/^0b[01]+$/i,Jh=/^0o[0-7]+$/i,Qh=parseInt,eb=1/0,tb=Mh["__core-js_shared__"],ab=function(){var e=/[^.]+$/.exec(tb&&tb.keys&&tb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),nb=Function.prototype,ob=nb.toString,db=/[\\^$.*+?()[\]{}|]/g,ib=/^\[object .+?Constructor\]$/,rb=Function.prototype,cb=Object.prototype,lb=rb.toString,sb=cb.hasOwnProperty,fb=RegExp("^"+lb.call(sb).replace(db,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pb=V(Mh,"WeakMap"),ub=pb&&new pb,hb=ub?function(e,t){return ub.set(e,t),e}:W,bb=Object.create,gb=function(){function e(){}return function(t){if(!I(t))return{};if(bb)return bb(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}(),yb=ph,_b=ph;te.prototype=gb(ee.prototype),te.prototype.constructor=te;var mb=ub?function(e){return ub.get(e)}:ae,xb={},vb=Object.prototype,wb=vb.hasOwnProperty;oe.prototype=gb(ee.prototype),oe.prototype.constructor=oe;var kb=Object.prototype,jb=kb.hasOwnProperty;ce.prototype=ee.prototype,ce.prototype.constructor=ce;var Sb=Date.now,Tb=se(hb),Cb=/\{\n\/\* \[wrapped with (.+)\] \*/,Ab=/,? & /,Ob=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Eb=function(){try{var e=V(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Nb=Eb?function(e,t){return Eb(e,"toString",{configurable:!0,enumerable:!1,value:ue(t),writable:!0})}:W,Pb=se(Nb),Mb=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ib=/^(?:0|[1-9]\d*)$/,Rb=ih,Ub=ih,Bb=ph,zb=Object.prototype,Db=zb.hasOwnProperty,Wb=ph,Lb=Object.prototype,Yb=Object.prototype,Fb=Yb.hasOwnProperty,qb=Yb.propertyIsEnumerable,Hb=Ye(function(){return arguments}())?Ye:function(e){return S(e)&&Fb.call(e,"callee")&&!qb.call(e,"callee")},Vb="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gb=Vb&&"object"==typeof module&&module&&!module.nodeType&&module,Xb=Gb&&Gb.exports===Vb,Zb=Xb?Mh.Buffer:void 0,$b=Zb?Zb.isBuffer:void 0,Kb=$b||Fe,Jb={};Jb["[object Float32Array]"]=Jb["[object Float64Array]"]=Jb["[object Int8Array]"]=Jb["[object Int16Array]"]=Jb["[object Int32Array]"]=Jb["[object Uint8Array]"]=Jb["[object Uint8ClampedArray]"]=Jb["[object Uint16Array]"]=Jb["[object Uint32Array]"]=!0,Jb["[object Arguments]"]=Jb["[object Array]"]=Jb["[object ArrayBuffer]"]=Jb["[object Boolean]"]=Jb["[object DataView]"]=Jb["[object Date]"]=Jb["[object Error]"]=Jb["[object Function]"]=Jb["[object Map]"]=Jb["[object Number]"]=Jb["[object Object]"]=Jb["[object RegExp]"]=Jb["[object Set]"]=Jb["[object String]"]=Jb["[object WeakMap]"]=!1;var Qb="object"==typeof exports&&exports&&!exports.nodeType&&exports,eg=Qb&&"object"==typeof module&&module&&!module.nodeType&&module,tg=eg&&eg.exports===Qb,ag=tg&&Nh.process,ng=function(){try{var e=eg&&eg.require&&eg.require("util").types;return e?e:ag&&ag.binding&&ag.binding("util")}catch(t){}}(),og=ng&&ng.isTypedArray,dg=og?qe(og):function(e){return S(e)&&Ue(e.length)&&!!Jb[j(e)]},ig=Object.prototype,rg=ig.hasOwnProperty,cg=Ve(Object.keys,Object),lg=Object.prototype,sg=lg.hasOwnProperty,fg=Object.prototype,pg=fg.hasOwnProperty,ug=De(function(e,a){if(We(a)||Be(a))return void n(a,Xe(a),e);for(var o in a)pg.call(a,o)&&t(e,o,a[o])}),hg=Object.prototype,bg=hg.hasOwnProperty,gg=De(function(e,t){n(t,Ke(t),e)}),yg=De(function(e,t,a,o){n(t,Ke(t),e,o)}),_g=De(function(e,t,a,o){n(t,Xe(t),e,o)}),mg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xg=/^\w*$/,vg=V(Object,"create"),wg=Object.prototype,kg=wg.hasOwnProperty,jg=Object.prototype,Sg=jg.hasOwnProperty;Qe.prototype.clear=function(){this.__data__=vg?vg(null):{},this.size=0},Qe.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Qe.prototype.get=function(e){var t=this.__data__;if(vg){var a=t[e];return a==="__lodash_hash_undefined__"?void 0:a}return kg.call(t,e)?t[e]:void 0},Qe.prototype.has=function(e){var t=this.__data__;return vg?t[e]!==void 0:Sg.call(t,e)},Qe.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=vg&&void 0===t?"__lodash_hash_undefined__":t,this};var Tg=Array.prototype,Cg=Tg.splice;tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype["delete"]=function(e){var t=this.__data__,a=et(t,e);if(0>a)return!1;var n=t.length-1;return a==n?t.pop():Cg.call(t,a,1),--this.size,!0},tt.prototype.get=function(e){var t=this.__data__,a=et(t,e);return 0>a?void 0:t[a][1]},tt.prototype.has=function(e){return-1<et(this.__data__,e)},tt.prototype.set=function(e,t){var a=this.__data__,n=et(a,e);return 0>n?(++this.size,a.push([e,t])):a[n][1]=t,this};var Ag=V(Mh,"Map");dt.prototype.clear=function(){this.size=0,this.__data__={hash:new Qe,map:new(Ag||tt),string:new Qe}},dt.prototype["delete"]=function(e){var t=ot(this,e)["delete"](e);return this.size-=t?1:0,t},dt.prototype.get=function(e){return ot(this,e).get(e)},dt.prototype.has=function(e){return ot(this,e).has(e)},dt.prototype.set=function(e,t){var a=ot(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this};it.Cache=dt;var Og=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eg=/\\(\\)?/g,Ng=function(e){var t=it(e,function(e){return 500===a.size&&a.clear(),e}),a=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Og,function(e,a,n,o){t.push(n?o.replace(Eg,"$1"):a||e)}),t}),Pg=1/0,Mg=Ih?Ih.isConcatSpreadable:void 0,Ig=mt(ut),at=Ve(Object.getPrototypeOf,Object),Rg=Function.prototype,Ug=Object.prototype,Bg=Rg.toString,zg=Ug.hasOwnProperty,Dg=Bg.call(Object),Wg=Re(function(e,t){try{return Z(e,void 0,t)}catch(t){return vt(t)?t:new Error(t)}}),Lg=Re(function(e,t,a){var n=1;if(a.length){var o=Te(a,ke(Lg));n|=32}return Ne(e,n,t,a,o)});Lg.placeholder={};var Yg=mt(function(e,t){return he(t,function(t){t=st(t),Me(e,t,Lg(e[t],e))}),e}),Fg=Re(function(e,t,a){var n=1|2;if(a.length){var o=Te(a,ke(Fg));n|=32}return Ne(t,n,e,a,o)});Fg.placeholder={};var qg=RegExp("["+"\\u200d"+"\\ud800-\\udfff"+"\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff"+"\\ufe0e\\ufe0f"+"]"),Hg="\\ud800-\\udfff",Vg="["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]",Gg="\\ud83c[\\udffb-\\udfff]",Xg="[^"+Hg+"]",Zg="(?:\\ud83c[\\udde6-\\uddff]){2}",$g="[\\ud800-\\udbff][\\udc00-\\udfff]",Kg="(?:"+Vg+"|"+Gg+")"+"?",Jg="["+"\\ufe0e\\ufe0f"+"]?",Qg="(?:"+"\\u200d"+"(?:"+[Xg,Zg,$g].join("|")+")"+Jg+Kg+")*",ey="(?:"+[Xg+Vg+"?",Vg,Zg,$g,"["+Hg+"]"].join("|")+")",ty=RegExp(Gg+"(?="+Gg+")|"+ey+(Jg+Kg+Qg),"g"),ay=Ot("toUpperCase"),ny=Pt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),oy=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dy=RegExp("["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]","g"),iy=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ry=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cy="\\ud800-\\udfff",ly="\\u2700-\\u27bf",sy="a-z\\xdf-\\xf6\\xf8-\\xff",fy="A-Z\\xc0-\\xd6\\xd8-\\xde",py="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uy="['\u2019]",hy="["+py+"]",by="\\d+",gy="["+sy+"]",yy="[^"+cy+py+by+ly+sy+fy+"]",_y="(?:\\ud83c[\\udde6-\\uddff]){2}",my="[\\ud800-\\udbff][\\udc00-\\udfff]",xy="["+fy+"]",vy="(?:"+gy+"|"+yy+")",wy="(?:"+uy+"(?:d|ll|m|re|s|t|ve))?",ky="(?:"+uy+"(?:D|LL|M|RE|S|T|VE))?",jy="(?:"+("["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]")+"|"+"\\ud83c[\\udffb-\\udfff]"+")"+"?",Sy="["+"\\ufe0e\\ufe0f"+"]?",Ty="(?:"+"\\u200d"+"(?:"+["[^"+cy+"]",_y,my].join("|")+")"+Sy+jy+")*",Cy="(?:"+["["+ly+"]",_y,my].join("|")+")"+(Sy+jy+Ty),Ay=RegExp([xy+"?"+gy+"+"+wy+"(?="+[hy,xy,"$"].join("|")+")","(?:"+xy+"|"+yy+")"+"+"+ky+"(?="+[hy,xy+vy,"$"].join("|")+")",xy+"?"+vy+"+"+wy,xy+"+"+ky,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",by,Cy].join("|"),"g"),Oy=RegExp("['\u2019]","g"),Ey=zt(function(e,t,a){return t=t.toLowerCase(),e+(a?Et(t):t)}),Ny=ih,Py=Dt("ceil");Yt.prototype.clear=function(){this.__data__=new tt,this.size=0},Yt.prototype["delete"]=function(e){var t=this.__data__,a=t["delete"](e);return this.size=t.size,a},Yt.prototype.get=function(e){return this.__data__.get(e)},Yt.prototype.has=function(e){return this.__data__.has(e)},Yt.prototype.set=function(e,t){var a=this.__data__;if(a instanceof tt){var n=a.__data__;if(!Ag||199>n.length)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new dt(n)}return a.set(e,t),this.size=a.size,this};var My="object"==typeof exports&&exports&&!exports.nodeType&&exports,Iy=My&&"object"==typeof module&&module&&!module.nodeType&&module,Ry=Iy&&Iy.exports===My,Uy=Ry?Mh.Buffer:void 0,By=Uy?Uy.allocUnsafe:void 0,zy=Object.prototype,Dy=zy.propertyIsEnumerable,Wy=Object.getOwnPropertySymbols,Ly=Wy?function(e){return null==e?[]:(e=Object(e),Vt(Wy(e),function(t){return Dy.call(e,t)}))}:Gt,Yy=Object.getOwnPropertySymbols,Fy=Yy?function(e){for(var t=[];e;)ht(t,Ly(e)),e=at(e);return t}:Gt,qy=V(Mh,"DataView"),Hy=V(Mh,"Promise"),Vy=V(Mh,"Set"),Gy="[object Map]",Xy="[object Promise]",Zy="[object Set]",$y="[object WeakMap]",Ky="[object DataView]",Jy=F(qy),Qy=F(Ag),e_=F(Hy),t_=F(Vy),a_=F(pb),n_=j;(qy&&n_(new qy(new ArrayBuffer(1)))!=Ky||Ag&&n_(new Ag)!=Gy||Hy&&n_(Hy.resolve())!=Xy||Vy&&n_(new Vy)!=Zy||pb&&n_(new pb)!=$y)&&(n_=function(e){var t=j(e),a=t=="[object Object]"?e.constructor:void 0,n=a?F(a):"";if(n)switch(n){case Jy:return Ky;case Qy:return Gy;case e_:return Xy;case t_:return Zy;case a_:return $y;}return t});var o_=n_,d_=Object.prototype,i_=d_.hasOwnProperty,r_=Mh.Uint8Array,c_=/\w*$/,l_=Ih?Ih.prototype:void 0,s_=l_?l_.valueOf:void 0,f_=ng&&ng.isMap,p_=f_?qe(f_):function(e){return S(e)&&o_(e)=="[object Map]"},u_=ng&&ng.isSet,h_=u_?qe(u_):function(e){return S(e)&&o_(e)=="[object Set]"},b_={};b_["[object Arguments]"]=b_["[object Array]"]=b_["[object ArrayBuffer]"]=b_["[object DataView]"]=b_["[object Boolean]"]=b_["[object Date]"]=b_["[object Float32Array]"]=b_["[object Float64Array]"]=b_["[object Int8Array]"]=b_["[object Int16Array]"]=b_["[object Int32Array]"]=b_["[object Map]"]=b_["[object Number]"]=b_["[object Object]"]=b_["[object RegExp]"]=b_["[object Set]"]=b_["[object String]"]=b_["[object Symbol]"]=b_["[object Uint8Array]"]=b_["[object Uint8ClampedArray]"]=b_["[object Uint16Array]"]=b_["[object Uint32Array]"]=!0,b_["[object Error]"]=b_["[object Function]"]=b_["[object WeakMap]"]=!1;ca.prototype.add=ca.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ca.prototype.has=function(e){return this.__data__.has(e)};var g_=Ih?Ih.prototype:void 0,y_=g_?g_.valueOf:void 0,__=Object.prototype,m_=__.hasOwnProperty,x_=Object.prototype,v_=x_.hasOwnProperty,w_=Ia(),k_=Ua(Ra),j_=Object.prototype,S_=j_.hasOwnProperty,T_=za(function(e,t,a){S_.call(e,a)?++e[a]:Me(e,a,1)});Da.placeholder={};Wa.placeholder={};var C_=function(){return Mh.Date.now()},A_=ph,O_=ih,E_=Object.prototype,N_=E_.hasOwnProperty,P_=Re(function(e,t){e=Object(e);var a=-1,n=t.length,o=2<n?t[2]:void 0;for(o&&ze(t[0],t[1],o)&&(n=1);++a<n;)for(var d=t[a],i=Ke(d),r=-1,c=i.length;++r<c;){var l=i[r],s=e[l];(void 0===s||Ie(s,E_[l])&&!N_.call(e,l))&&(e[l]=d[l])}return e}),M_=De(function(e,t,a,n){Ga(e,t,a,n)}),I_=Re(function(e){return e.push(void 0,Xa),Z(M_,void 0,e)}),R_=Re(function(e,t){return Za(e,1,t)}),U_=Re(function(e,t,a){return Za(e,R(t)||0,a)}),B_=Re(function(e,t){return Fa(e)?Ka(e,yt(t,1,Fa,!0)):[]}),z_=Re(function(e,t){var a=Ja(t);return Fa(a)&&(a=void 0),Fa(e)?Ka(e,yt(t,1,Fa,!0),Ea(a,2)):[]}),D_=Re(function(e,t){var a=Ja(t);return Fa(a)&&(a=void 0),Fa(e)?Ka(e,yt(t,1,Fa,!0),void 0,a):[]}),W_=M(function(e,t){return e/t},1),L_=Ia(!0),Y_=Ua(nn,!0),F_=cn(Xe),q_=cn(Ke),H_=Pt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),V_=/[&<>"']/g,G_=RegExp(V_.source),X_=/[\\^$.*+?()[\]{}|]/g,Z_=RegExp(X_.source),$_=ph,K_=bn(gn),J_=ph,Q_=ih,em=bn(_n),tm=Dt("floor"),am=wn(),nm=wn(!0),om=Object.prototype,dm=om.hasOwnProperty,im=za(function(e,t,a){dm.call(e,a)?e[a].push(t):Me(e,a,[t])}),rm=Sn(jn),gt=Sn(function(e,t){return e>=t}),cm=Object.prototype,lm=cm.hasOwnProperty,sm=ph,fm=ih,pm=ih,um=Re(function(e){var t=N(e,Pn);return t.length&&t[0]===e[0]?Nn(t):[]}),hm=Re(function(e){var t=Ja(e),a=N(e,Pn);return t===Ja(a)?t=void 0:a.pop(),a.length&&a[0]===e[0]?Nn(a,Ea(t,2)):[]}),bm=Re(function(e){var t=Ja(e),a=N(e,Pn);return t="function"==typeof t?t:void 0,t&&a.pop(),a.length&&a[0]===e[0]?Nn(a,void 0,t):[]}),gm=Object.prototype,ym=gm.toString,_m=In(function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=ym.call(t)),e[t]=a},ue(W)),mm=Object.prototype,xm=mm.hasOwnProperty,vm=mm.toString,wm=In(function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=vm.call(t)),xm.call(e,t)?e[t].push(a):e[t]=[a]},Ea),km=Re(Un),jm=Re(function(e,t,a){var n=-1,o=Be(e)?Array(e.length):[];return k_(e,function(e){o[++n]="function"==typeof t?Z(t,e,a):Un(e,t,a)}),o}),Sm=ng&&ng.isArrayBuffer,Tm=Sm?qe(Sm):function(e){return S(e)&&j(e)=="[object ArrayBuffer]"},Cm=ng&&ng.isDate,Am=Cm?qe(Cm):function(e){return S(e)&&j(e)=="[object Date]"},Om=Object.prototype,Em=Om.hasOwnProperty,Nm=Mh.isFinite,Pm=tb?L:Fe,Mm=ng&&ng.isRegExp,Im=Mm?qe(Mm):function(e){return S(e)&&j(e)=="[object RegExp]"},Rm=Array.prototype,Um=Rm.join,Bm=zt(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),zm=za(function(e,t,a){Me(e,a,t)}),Dm=zt(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),Wm=Ot("toLowerCase"),Lm=Sn(Wn),lt=Sn(function(e,t){return e<=t}),Ym=0/0,Fm=De(function(e,t,a){Ga(e,t,a)}),qm=Re(function(e,t){return function(a){return Un(a,e,t)}}),Hm=Re(function(e,t){return function(a){return Un(e,a,t)}}),Vm=M(function(e,t){return e*t},1),Gm=Ih?Ih.iterator:void 0,Xm=mt(function(e,t){var a={};if(null==e)return a;var o=!1;t=N(t,function(t){return t=ct(t,e),o||(o=1<t.length),t}),n(e,Jt(e),a),o&&(a=ra(a,1|2|4,Jn));for(var d=t.length;d--;)Kn(a,t[d]);return a}),Zm=ro(N),$m=Re(function(e,t){t=1==t.length&&Fh(t[0])?N(t[0],qe(Ea)):N(yt(t,1),qe(Ea));var a=t.length;return Re(function(n){for(var o=-1,d=ih(n.length,a);++o<d;)n[o]=t[o].call(this,n[o]);return Z(e,this,n)})}),Km=ro(sn),Jm=ro(la),Qm=uh,ex=Ca("length"),tx="\\ud800-\\udfff",ax="["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]",nx="\\ud83c[\\udffb-\\udfff]",ox="[^"+tx+"]",dx="(?:\\ud83c[\\udde6-\\uddff]){2}",ix="[\\ud800-\\udbff][\\udc00-\\udfff]",rx="(?:"+ax+"|"+nx+")"+"?",cx="["+"\\ufe0e\\ufe0f"+"]?",lx="(?:"+"\\u200d"+"(?:"+[ox,dx,ix].join("|")+")"+cx+rx+")*",sx="(?:"+[ox+ax+"?",ax,dx,ix,"["+tx+"]"].join("|")+")",fx=RegExp(nx+"(?="+nx+")|"+sx+(cx+rx+lx),"g"),px=hh,ux=/^\s+/,hx=Mh.parseInt,bx=Re(function(e,t){var a=Te(t,ke(bx));return Ne(e,32,void 0,t,a)});bx.placeholder={};var gx=Re(function(e,t){var a=Te(t,ke(gx));return Ne(e,64,void 0,t,a)});gx.placeholder={};var yx=za(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]}),_x=mt(function(e,t){return null==e?{}:po(e,t)}),mx=Array.prototype,xx=mx.splice,vx=Re(bo),wx=Array.prototype,kx=wx.splice,jx=mt(function(e,t){var a=null==e?0:e.length,n=ut(e,t);return go(e,N(t,function(e){return je(e,a)?+e:e}).sort(no)),n}),Sx=uh,Tx=Math.random,Cx=parseFloat,Ax=Math.random,Ox=hh,Ex=ph,Nx=mo(),Px=mo(!0),Mx=mt(function(e,t){return Ne(e,256,void 0,void 0,void 0,t)}),Ix=Array.prototype,Rx=Ix.reverse,Ux=Dt("round"),Bx=zt(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()}),zx=Re(function(e,t){if(null==e)return[];var a=t.length;return 1<a&&ze(e,t[0],t[1])?t=[]:2<a&&ze(t[0],t[1],t[2])&&(t=[t[0]]),io(e,yt(t,1),[])}),Dx=uh,Wx=ih,Lx=zt(function(e,t,a){return e+(a?" ":"")+ay(t)}),Yx=M(function(e,t){return e-t},0),Fx=Object.prototype,qx=Fx.hasOwnProperty,Hx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vx=/<%=([\s\S]+?)%>/g,Gx=/<%-([\s\S]+?)%>/g,Xx=/<%([\s\S]+?)%>/g,Zx={escape:Gx,evaluate:Xx,interpolate:Vx,variable:"",imports:{_:{escape:ln}}},$x=/\b__p \+= '';/g,Kx=/\b(__p \+=) '' \+/g,Jx=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ev=/($^)/,tv=/['\n\r\u2028\u2029\\]/g,av=/^\s+|\s+$/g,nv=/\s+$/,ov=/^\s+/,dv=/\w*$/,iv=Pt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&#39;":"'"}),rv=/&(?:amp|lt|gt|quot|#39);/g,cv=RegExp(rv.source),lv=Vy&&1/ua(new Vy([,-0]))[1]==1/0?function(e){return new Vy(e)}:ae,sv=Re(function(e){return qo(yt(e,1,Fa,!0))}),fv=Re(function(e){var t=Ja(e);return Fa(t)&&(t=void 0),qo(yt(e,1,Fa,!0),Ea(t,2))}),pv=Re(function(e){var t=Ja(e);return t="function"==typeof t?t:void 0,qo(yt(e,1,Fa,!0),void 0,t)}),uv=0,hv=ph,bv=zt(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),gv=Re(function(e,t){return Fa(e)?Ka(e,t):[]}),yv=mt(function(e){var t=e.length,a=t?e[0]:0,n=this.__wrapped__,o=function(t){return ut(t,e)};return 1<t||this.__actions__.length||!(n instanceof te)||!je(a)?this.thru(o):(n=n.slice(a,+a+(t?1:0)),n.__actions__.push({func:zo,args:[o],thisArg:void 0}),new oe(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e}))}),_v=Re(function(e){return Zo(Vt(e,Fa))}),mv=Re(function(e){var t=Ja(e);return Fa(t)&&(t=void 0),Zo(Vt(e,Fa),Ea(t,2))}),xv=Re(function(e){var t=Ja(e);return t="function"==typeof t?t:void 0,Zo(Vt(e,Fa),void 0,t)}),vv=Re(Vo),wv=Re(function(e){var t=e.length,a=1<t?e[t-1]:void 0;return a="function"==typeof a?(e.pop(),a):void 0,Go(e,a)}),kv={chunk:function(e,t,a){t=(a?ze(e,t,a):void 0===t)?1:ph(z(t),0);var n=null==e?0:e.length;if(!n||1>t)return[];for(var o=0,d=0,i=Array(hh(n/t));o<n;)i[d++]=kt(e,o,o+=t);return i},compact:function(e){for(var t=-1,a=null==e?0:e.length,n=0,o=[];++t<a;){var d=e[t];d&&(o[n++]=d)}return o},concat:function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),a=arguments[0],n=e;n--;)t[n-1]=arguments[n];return ht(Fh(a)?de(a):[a],yt(t,1))},difference:B_,differenceBy:z_,differenceWith:D_,drop:function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:z(t),kt(e,0>t?0:t,o)):[]},dropRight:function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:z(t),t=o-t,kt(e,0,0>t?0:t)):[]},dropRightWhile:function(e,t){return e&&e.length?Qa(e,Ea(t,3),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?Qa(e,Ea(t,3),!0):[]},fill:function(e,t,a,n){var o=null==e?0:e.length;return o?(a&&"number"!=typeof a&&ze(e,t,a)&&(a=0,n=o),un(e,t,a,n)):[]},findIndex:gn,findLastIndex:_n,first:mn,flatten:_t,flattenDeep:function(e){var t=null==e?0:e.length;return t?yt(e,1/0):[]},flattenDepth:function(e,t){var a=null==e?0:e.length;return a?(t=void 0===t?1:z(t),yt(e,t)):[]},fromPairs:function(e){for(var t=-1,a=null==e?0:e.length,n={};++t<a;){var o=e[t];n[o[0]]=o[1]}return n},head:mn,indexOf:function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var o=null==a?0:z(a);return 0>o&&(o=ph(n+o,0)),_e(e,t,o)},initial:function(e){var t=null==e?0:e.length;return t?kt(e,0,-1):[]},intersection:um,intersectionBy:hm,intersectionWith:bm,join:function(e,t){return null==e?"":Um.call(e,t)},last:Ja,lastIndexOf:function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var o=n;return void 0!==a&&(o=z(a),o=0>o?ph(n+o,0):ih(o,n-1)),t===t?Dn(e,t,o):be(e,ge,o,!0)},nth:function(e,t){return e&&e.length?$n(e,z(t)):void 0},pull:vx,pullAll:bo,pullAllBy:function(e,t,a){return e&&e.length&&t&&t.length?ho(e,t,Ea(a,2)):e},pullAllWith:function(e,t,a){return e&&e.length&&t&&t.length?ho(e,t,void 0,a):e},pullAt:jx,remove:function(e,t){var a=[];if(!(e&&e.length))return a;var n=-1,o=[],d=e.length;for(t=Ea(t,3);++n<d;){var i=e[n];t(i,n,e)&&(a.push(i),o.push(n))}return go(e,o),a},reverse:wo,slice:function(e,t,a){var n=null==e?0:e.length;return n?(a&&"number"!=typeof a&&ze(e,t,a)?(t=0,a=n):(t=null==t?0:z(t),a=void 0===a?n:z(a)),kt(e,t,a)):[]},sortedIndex:function(e,t){return Po(e,t)},sortedIndexBy:function(e,t,a){return No(e,t,Ea(a,2))},sortedIndexOf:function(e,t){var a=null==e?0:e.length;if(a){var n=Po(e,t);if(n<a&&Ie(e[n],t))return n}return-1},sortedLastIndex:function(e,t){return Po(e,t,!0)},sortedLastIndexBy:function(e,t,a){return No(e,t,Ea(a,2),!0)},sortedLastIndexOf:function(e,t){var a=null==e?0:e.length;if(a){var n=Po(e,t,!0)-1;if(Ie(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?Mo(e):[]},sortedUniqBy:function(e,t){return e&&e.length?Mo(e,Ea(t,2)):[]},tail:function(e){var t=null==e?0:e.length;return t?kt(e,1,t):[]},take:function(e,t,a){return e&&e.length?(t=a||void 0===t?1:z(t),kt(e,0,0>t?0:t)):[]},takeRight:function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:z(t),t=o-t,kt(e,0>t?0:t,o)):[]},takeRightWhile:function(e,t){return e&&e.length?Qa(e,Ea(t,3),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?Qa(e,Ea(t,3)):[]},union:sv,unionBy:fv,unionWith:pv,uniq:function(e){return e&&e.length?qo(e):[]},uniqBy:function(e,t){return e&&e.length?qo(e,Ea(t,2)):[]},uniqWith:function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?qo(e,void 0,t):[]},unzip:Vo,unzipWith:Go,without:gv,xor:_v,xorBy:mv,xorWith:xv,zip:vv,zipObject:function(e,a){return $o(e||[],a||[],t)},zipObjectDeep:function(e,t){return $o(e||[],t||[],Qn)},zipWith:wv},jv={countBy:T_,each:tn,eachRight:on,every:function(e,t,a){var n=Fh(e)?sn:fn;return a&&ze(e,t,a)&&(t=void 0),n(e,Ea(t,3))},filter:function(e,t){var a=Fh(e)?Vt:hn;return a(e,Ea(t,3))},find:K_,findLast:em,flatMap:function(e,t){return yt(vn(e,t),1)},flatMapDeep:function(e,t){return yt(vn(e,t),1/0)},flatMapDepth:function(e,t,a){return a=void 0===a?1:z(a),yt(vn(e,t),a)},forEach:tn,forEachRight:on,groupBy:im,includes:function(e,t,a,n){e=Be(e)?e:En(e),a=a&&!n?z(a):0;var o=e.length;return 0>a&&(a=ph(o+a,0)),An(e)?a<=o&&-1<e.indexOf(t,a):!!o&&-1<_e(e,t,a)},invokeMap:jm,keyBy:zm,map:vn,orderBy:function(e,t,a,n){return null==e?[]:(Fh(t)||(t=null==t?[]:[t]),a=n?void 0:a,Fh(a)||(a=null==a?[]:[a]),io(e,t,a))},partition:yx,reduce:function(e,t,a){var n=Fh(e)?Nt:xo,o=3>arguments.length;return n(e,Ea(t,4),a,o,k_)},reduceRight:function(e,t,a){var n=Fh(e)?vo:xo,o=3>arguments.length;return n(e,Ea(t,4),a,o,Y_)},reject:function(e,t){var a=Fh(e)?Vt:hn;return a(e,Hn(Ea(t,3)))},sample:function(e){var t=Fh(e)?ko:jo;return t(e)},sampleSize:function(e,t,a){t=(a?ze(e,t,a):void 0===t)?1:z(t);var o=Fh(e)?To:Co;return o(e,t)},shuffle:function(e){var t=Fh(e)?Ao:Oo;return t(e)},size:function(e){if(null==e)return 0;if(Be(e))return An(e)?so(e):e.length;var t=o_(e);return"[object Map]"==t||"[object Set]"==t?e.size:Ge(e).length},some:function(e,t,a){var n=Fh(e)?la:Eo;return a&&ze(e,t,a)&&(t=void 0),n(e,Ea(t,3))},sortBy:zx},Sv={after:function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=z(e),function(){if(1>--e)return t.apply(this,arguments)}},ary:Pe,before:wt,bind:Lg,bindKey:Fg,curry:Da,curryRight:Wa,debounce:La,defer:R_,delay:U_,flip:function(e){return Ne(e,512)},memoize:it,negate:Hn,once:function(e){return wt(2,e)},overArgs:$m,partial:bx,partialRight:gx,rearg:Mx,rest:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=void 0===t?t:z(t),Re(e,t)},spread:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:ph(z(t),0),Re(function(a){var n=a[t],o=jt(a,0,t);return n&&ht(o,n),Z(e,this,o)})},throttle:Bo,unary:function(e){return Pe(e,1)},wrap:function(e,t){return bx(en(t),e)}},Tv={castArray:function(){if(!arguments.length)return[];var e=arguments[0];return Fh(e)?e:[e]},clone:function(e){return ra(e,4)},cloneDeep:function(e){return ra(e,5)},cloneDeepWith:function(e,t){return t="function"==typeof t?t:void 0,ra(e,5,t)},cloneWith:function(e,t){return t="function"==typeof t?t:void 0,ra(e,4,t)},conformsTo:function(e,t){return null==t||Na(e,t,Xe(t))},eq:Ie,gt:rm,gte:gt,isArguments:Hb,isArray:Fh,isArrayBuffer:Tm,isArrayLike:Be,isArrayLikeObject:Fa,isBoolean:function(e){return!0===e||!1===e||S(e)&&j(e)=="[object Boolean]"},isBuffer:Kb,isDate:Am,isElement:function(e){return S(e)&&1===e.nodeType&&!xt(e)},isEmpty:function(e){if(null==e)return!0;if(Be(e)&&(Fh(e)||"string"==typeof e||"function"==typeof e.splice||Kb(e)||dg(e)||Hb(e)))return!e.length;var t=o_(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(We(e))return!Ge(e).length;for(var a in e)if(Em.call(e,a))return!1;return!0},isEqual:function(e,t){return ya(e,t)},isEqualWith:function(e,t,a){a="function"==typeof a?a:void 0;var n=a?a(e,t):void 0;return n===void 0?ya(e,t,void 0,a):!!n},isError:vt,isFinite:function(e){return"number"==typeof e&&Nm(e)},isFunction:L,isInteger:Bn,isLength:Ue,isMap:p_,isMatch:function(e,t){return e===t||_a(e,t,xa(t))},isMatchWith:function(e,t,a){return a="function"==typeof a?a:void 0,_a(e,t,xa(t),a)},isNaN:function(e){return zn(e)&&e!=+e},isNative:function(e){if(Pm(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return q(e)},isNil:function(e){return null==e},isNull:function(e){return null===e},isNumber:zn,isObject:I,isObjectLike:S,isPlainObject:xt,isRegExp:Im,isSafeInteger:function(e){return Bn(e)&&e>=-9007199254740991&&e<=9007199254740991},isSet:h_,isString:An,isSymbol:T,isTypedArray:dg,isUndefined:function(e){return e===void 0},isWeakMap:function(e){return S(e)&&o_(e)=="[object WeakMap]"},isWeakSet:function(e){return S(e)&&j(e)=="[object WeakSet]"},lt:Lm,lte:lt,toArray:Gn,toFinite:U,toInteger:z,toLength:pn,toNumber:R,toPlainObject:Ha,toSafeInteger:function(e){return e?Lt(z(e),-9007199254740991,9007199254740991):0===e?e:0},toString:rt},Cv={add:Gh,ceil:Py,divide:W_,floor:tm,max:function(e){return e&&e.length?Ln(e,W,jn):void 0},maxBy:function(e,t){return e&&e.length?Ln(e,Ea(t,2),jn):void 0},mean:function(e){return Fn(e,W)},meanBy:function(e,t){return Fn(e,Ea(t,2))},min:function(e){return e&&e.length?Ln(e,W,Wn):void 0},minBy:function(e,t){return e&&e.length?Ln(e,Ea(t,2),Wn):void 0},multiply:Vm,round:Ux,subtract:Yx,sum:function(e){return e&&e.length?Yn(e,W):0},sumBy:function(e,t){return e&&e.length?Yn(e,Ea(t,2)):0}},Av={clamp:function(e,t,a){return void 0===a&&(a=t,t=void 0),void 0!==a&&(a=R(a),a=a===a?a:0),void 0!==t&&(t=R(t),t=t===t?t:0),Lt(R(e),t,a)},inRange:function(e,t,a){return t=U(t),void 0===a?(a=t,t=0):a=U(a),e=R(e),Cn(e,t,a)},random:function(e,t,a){if(a&&"boolean"!=typeof a&&ze(e,t,a)&&(t=a=void 0),void 0===a&&("boolean"==typeof t?(a=t,t=void 0):"boolean"==typeof e&&(a=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=U(e),void 0===t?(t=e,e=0):t=U(t)),e>t){var n=e;e=t,t=n}if(a||e%1||t%1){var o=Ax();return ih(e+o*(t-e+Cx("1e-"+((o+"").length-1))),t)}return yo(e,t)}},Ov={assign:ug,assignIn:gg,assignInWith:yg,assignWith:_g,at:Ig,create:function(e,t){var a=gb(e);return null==t?a:Ft(a,t)},defaults:P_,defaultsDeep:I_,entries:F_,entriesIn:q_,extend:gg,extendWith:yg,findKey:function(e,t){return yn(e,Ea(t,3),Ra)},findLastKey:function(e,t){return yn(e,Ea(t,3),nn)},forIn:function(e,t){return null==e?e:w_(e,en(t),Ke)},forInRight:function(e,t){return null==e?e:L_(e,en(t),Ke)},forOwn:function(e,t){return e&&Ra(e,en(t))},forOwnRight:function(e,t){return e&&nn(e,en(t))},functions:function(e){return null==e?[]:kn(e,Xe(e))},functionsIn:function(e){return null==e?[]:kn(e,Ke(e))},get:pt,has:function(e,t){return null!=e&&ja(e,t,Tn)},hasIn:Sa,invert:_m,invertBy:wm,invoke:km,keys:Xe,keysIn:Ke,mapKeys:function(e,t){var a={};return t=Ea(t,3),Ra(e,function(e,n,o){Me(a,t(e,n,o),e)}),a},mapValues:function(e,t){var a={};return t=Ea(t,3),Ra(e,function(e,n,o){Me(a,n,t(e,n,o))}),a},merge:Fm,mergeWith:M_,omit:Xm,omitBy:function(e,t){return to(e,Hn(Ea(t)))},pick:_x,pickBy:to,result:function(e,t,a){t=ct(t,e);var n=-1,o=t.length;for(o||(o=1,e=void 0);++n<o;){var d=null==e?void 0:e[st(t[n])];d===void 0&&(n=o,d=a),e=L(d)?d.call(e):d}return e},set:function(e,t,a){return null==e?e:Qn(e,t,a)},setWith:function(e,t,a,n){return n="function"==typeof n?n:void 0,null==e?e:Qn(e,t,a,n)},toPairs:F_,toPairsIn:q_,transform:function(e,t,a){var n=Fh(e),o=n||Kb(e)||dg(e);if(t=Ea(t,4),null==a){var d=e&&e.constructor;a=o?n?new d:[]:I(e)?L(d)?gb(at(e)):{}:{}}return(o?he:Ra)(e,function(e,n,o){return t(a,e,n,o)}),a},unset:function(e,t){return!(null!=e)||Kn(e,t)},update:function(e,t,a){return null==e?e:Xo(e,t,en(a))},updateWith:function(e,t,a,n){return n="function"==typeof n?n:void 0,null==e?e:Xo(e,t,en(a),n)},values:En,valuesIn:function(e){return null==e?[]:On(e,Ke(e))}},Ev={at:yv,chain:Wt,commit:function(){return new oe(this.value(),this.__chain__)},lodash:ce,next:function(){this.__values__===void 0&&(this.__values__=Gn(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}},plant:function(e){for(var t=this,a,n;t instanceof ee;){n=ie(t),n.__index__=0,n.__values__=void 0,a?o.__wrapped__=n:a=n;var o=n;t=t.__wrapped__}return o.__wrapped__=e,a},reverse:function(){var e=this.__wrapped__;if(e instanceof te){var t=e;return this.__actions__.length&&(t=new te(this)),t=t.reverse(),t.__actions__.push({func:zo,args:[wo],thisArg:void 0}),new oe(t,this.__chain__)}return this.thru(wo)},tap:function(e,t){return t(e),e},thru:zo,toIterator:function(){return this},toJSON:Wo,value:Wo,valueOf:Wo,wrapperChain:function(){return Wt(this)}},Nv={camelCase:Ey,capitalize:Et,deburr:Mt,endsWith:function(e,t,a){e=rt(e),t=P(t);var n=e.length;a=void 0===a?n:Lt(z(a),0,n);var o=a;return a-=t.length,0<=a&&e.slice(a,o)==t},escape:ln,escapeRegExp:function(e){return e=rt(e),e&&Z_.test(e)?e.replace(X_,"\\$&"):e},kebabCase:Bm,lowerCase:Dm,lowerFirst:Wm,pad:function(e,t,a){e=rt(e),t=z(t);var n=t?so(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return fo(uh(o),a)+e+fo(hh(o),a)},padEnd:function(e,t,a){e=rt(e),t=z(t);var n=t?so(e):0;return t&&n<t?e+fo(t-n,a):e},padStart:function(e,t,a){e=rt(e),t=z(t);var n=t?so(e):0;return t&&n<t?fo(t-n,a)+e:e},parseInt:function(e,t,a){return a||null==t?t=0:t&&(t=+t),hx(rt(e).replace(ux,""),t||0)},repeat:function(e,t,a){return t=(a?ze(e,t,a):void 0===t)?1:z(t),co(rt(e),t)},replace:function(){var e=arguments,t=rt(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},snakeCase:Bx,split:function(e,t,a){return(a&&"number"!=typeof a&&ze(e,t,a)&&(t=a=void 0),a=void 0===a?4294967295:a>>>0,!a)?[]:(e=rt(e),e&&("string"==typeof t||null!=t&&!Im(t))&&(t=P(t),!t&&St(e))?jt(At(e),0,a):e.split(t,a))},startCase:Lx,startsWith:function(e,t,a){return e=rt(e),a=null==a?0:Lt(z(a),0,e.length),t=P(t),e.slice(a,a+t.length)==t},template:Uo,templateSettings:Zx,toLower:function(e){return rt(e).toLowerCase()},toUpper:function(e){return rt(e).toUpperCase()},trim:function(e,t,a){if(e=rt(e),e&&(a||void 0===t))return e.replace(av,"");if(!e||!(t=P(t)))return e;var n=At(e),o=At(t),d=Yo(n,o),i=Lo(n,o)+1;return jt(n,d,i).join("")},trimEnd:function(e,t,a){if(e=rt(e),e&&(a||void 0===t))return e.replace(nv,"");if(!e||!(t=P(t)))return e;var n=At(e),o=Lo(n,At(t))+1;return jt(n,0,o).join("")},trimStart:function(e,t,a){if(e=rt(e),e&&(a||void 0===t))return e.replace(ov,"");if(!e||!(t=P(t)))return e;var n=At(e),o=Yo(n,At(t));return jt(n,o).join("")},truncate:Fo,unescape:function(e){return e=rt(e),e&&cv.test(e)?e.replace(rv,iv):e},upperCase:bv,upperFirst:ay,words:Bt},Pv={attempt:Wg,bindAll:Yg,cond:function(e){var t=null==e?0:e.length;return e=t?N(e,function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[Ea(e[0]),e[1]]}):[],Re(function(a){for(var n=-1,o;++n<t;)if(o=e[n],Z(o[0],this,a))return Z(o[1],this,a)})},conforms:function(e){return Pa(ra(e,1))},constant:ue,defaultTo:function(e,t){return null==e||e!==e?t:e},flow:am,flowRight:nm,identity:W,iteratee:function(e){return Ea("function"==typeof e?e:ra(e,1))},matches:function(e){return wa(ra(e,1))},matchesProperty:function(e,t){return Ta(e,ra(t,1))},method:qm,methodOf:Hm,mixin:qn,noop:ae,nthArg:function(e){return e=z(e),Re(function(t){return $n(t,e)})},over:Zm,overEvery:Km,overSome:Jm,property:Oa,propertyOf:function(e){return function(t){return null==e?void 0:ft(e,t)}},range:Nx,rangeRight:Px,stubArray:Gt,stubFalse:Fe,stubObject:function(){return{}},stubString:function(){return""},stubTrue:function(){return!0},times:function(e,t){if(e=z(e),1>e||9007199254740991<e)return[];var a=4294967295,o=ih(e,4294967295);t=en(t),e-=4294967295;for(var d=Le(o,t);++a<e;)t(a);return d},toPath:function(e){return Fh(e)?N(e,st):T(e)?[e]:de(Ng(rt(e)))},uniqueId:Ho},Mv=ph,Iv=ih,Rv=4294967295,Uv=Array.prototype,Bv=Object.prototype,zv=Bv.hasOwnProperty,Dv=Ih?Ih.iterator:void 0,Wv=ih,Lv=function(e){return function(t,a,n){if(null==n){var o=I(a),d=o&&Xe(a),i=d&&d.length&&kn(a,d);(i?i.length:o)||(n=a,a=t,t=this)}return e(t,a,n)}}(qn);ce.after=Sv.after,ce.ary=Sv.ary,ce.assign=Ov.assign,ce.assignIn=Ov.assignIn,ce.assignInWith=Ov.assignInWith,ce.assignWith=Ov.assignWith,ce.at=Ov.at,ce.before=Sv.before,ce.bind=Sv.bind,ce.bindAll=Pv.bindAll,ce.bindKey=Sv.bindKey,ce.castArray=Tv.castArray,ce.chain=Ev.chain,ce.chunk=kv.chunk,ce.compact=kv.compact,ce.concat=kv.concat,ce.cond=Pv.cond,ce.conforms=Pv.conforms,ce.constant=Pv.constant,ce.countBy=jv.countBy,ce.create=Ov.create,ce.curry=Sv.curry,ce.curryRight=Sv.curryRight,ce.debounce=Sv.debounce,ce.defaults=Ov.defaults,ce.defaultsDeep=Ov.defaultsDeep,ce.defer=Sv.defer,ce.delay=Sv.delay,ce.difference=kv.difference,ce.differenceBy=kv.differenceBy,ce.differenceWith=kv.differenceWith,ce.drop=kv.drop,ce.dropRight=kv.dropRight,ce.dropRightWhile=kv.dropRightWhile,ce.dropWhile=kv.dropWhile,ce.fill=kv.fill,ce.filter=jv.filter,ce.flatMap=jv.flatMap,ce.flatMapDeep=jv.flatMapDeep,ce.flatMapDepth=jv.flatMapDepth,ce.flatten=kv.flatten,ce.flattenDeep=kv.flattenDeep,ce.flattenDepth=kv.flattenDepth,ce.flip=Sv.flip,ce.flow=Pv.flow,ce.flowRight=Pv.flowRight,ce.fromPairs=kv.fromPairs,ce.functions=Ov.functions,ce.functionsIn=Ov.functionsIn,ce.groupBy=jv.groupBy,ce.initial=kv.initial,ce.intersection=kv.intersection,ce.intersectionBy=kv.intersectionBy,ce.intersectionWith=kv.intersectionWith,ce.invert=Ov.invert,ce.invertBy=Ov.invertBy,ce.invokeMap=jv.invokeMap,ce.iteratee=Pv.iteratee,ce.keyBy=jv.keyBy,ce.keys=Xe,ce.keysIn=Ov.keysIn,ce.map=jv.map,ce.mapKeys=Ov.mapKeys,ce.mapValues=Ov.mapValues,ce.matches=Pv.matches,ce.matchesProperty=Pv.matchesProperty,ce.memoize=Sv.memoize,ce.merge=Ov.merge,ce.mergeWith=Ov.mergeWith,ce.method=Pv.method,ce.methodOf=Pv.methodOf,ce.mixin=Lv,ce.negate=Hn,ce.nthArg=Pv.nthArg,ce.omit=Ov.omit,ce.omitBy=Ov.omitBy,ce.once=Sv.once,ce.orderBy=jv.orderBy,ce.over=Pv.over,ce.overArgs=Sv.overArgs,ce.overEvery=Pv.overEvery,ce.overSome=Pv.overSome,ce.partial=Sv.partial,ce.partialRight=Sv.partialRight,ce.partition=jv.partition,ce.pick=Ov.pick,ce.pickBy=Ov.pickBy,ce.property=Pv.property,ce.propertyOf=Pv.propertyOf,ce.pull=kv.pull,ce.pullAll=kv.pullAll,ce.pullAllBy=kv.pullAllBy,ce.pullAllWith=kv.pullAllWith,ce.pullAt=kv.pullAt,ce.range=Pv.range,ce.rangeRight=Pv.rangeRight,ce.rearg=Sv.rearg,ce.reject=jv.reject,ce.remove=kv.remove,ce.rest=Sv.rest,ce.reverse=kv.reverse,ce.sampleSize=jv.sampleSize,ce.set=Ov.set,ce.setWith=Ov.setWith,ce.shuffle=jv.shuffle,ce.slice=kv.slice,ce.sortBy=jv.sortBy,ce.sortedUniq=kv.sortedUniq,ce.sortedUniqBy=kv.sortedUniqBy,ce.split=Nv.split,ce.spread=Sv.spread,ce.tail=kv.tail,ce.take=kv.take,ce.takeRight=kv.takeRight,ce.takeRightWhile=kv.takeRightWhile,ce.takeWhile=kv.takeWhile,ce.tap=Ev.tap,ce.throttle=Sv.throttle,ce.thru=zo,ce.toArray=Tv.toArray,ce.toPairs=Ov.toPairs,ce.toPairsIn=Ov.toPairsIn,ce.toPath=Pv.toPath,ce.toPlainObject=Tv.toPlainObject,ce.transform=Ov.transform,ce.unary=Sv.unary,ce.union=kv.union,ce.unionBy=kv.unionBy,ce.unionWith=kv.unionWith,ce.uniq=kv.uniq,ce.uniqBy=kv.uniqBy,ce.uniqWith=kv.uniqWith,ce.unset=Ov.unset,ce.unzip=kv.unzip,ce.unzipWith=kv.unzipWith,ce.update=Ov.update,ce.updateWith=Ov.updateWith,ce.values=Ov.values,ce.valuesIn=Ov.valuesIn,ce.without=kv.without,ce.words=Nv.words,ce.wrap=Sv.wrap,ce.xor=kv.xor,ce.xorBy=kv.xorBy,ce.xorWith=kv.xorWith,ce.zip=kv.zip,ce.zipObject=kv.zipObject,ce.zipObjectDeep=kv.zipObjectDeep,ce.zipWith=kv.zipWith,ce.entries=Ov.toPairs,ce.entriesIn=Ov.toPairsIn,ce.extend=Ov.assignIn,ce.extendWith=Ov.assignInWith,Lv(ce,ce),ce.add=Cv.add,ce.attempt=Pv.attempt,ce.camelCase=Nv.camelCase,ce.capitalize=Nv.capitalize,ce.ceil=Cv.ceil,ce.clamp=Av.clamp,ce.clone=Tv.clone,ce.cloneDeep=Tv.cloneDeep,ce.cloneDeepWith=Tv.cloneDeepWith,ce.cloneWith=Tv.cloneWith,ce.conformsTo=Tv.conformsTo,ce.deburr=Nv.deburr,ce.defaultTo=Pv.defaultTo,ce.divide=Cv.divide,ce.endsWith=Nv.endsWith,ce.eq=Tv.eq,ce.escape=Nv.escape,ce.escapeRegExp=Nv.escapeRegExp,ce.every=jv.every,ce.find=jv.find,ce.findIndex=kv.findIndex,ce.findKey=Ov.findKey,ce.findLast=jv.findLast,ce.findLastIndex=kv.findLastIndex,ce.findLastKey=Ov.findLastKey,ce.floor=Cv.floor,ce.forEach=jv.forEach,ce.forEachRight=jv.forEachRight,ce.forIn=Ov.forIn,ce.forInRight=Ov.forInRight,ce.forOwn=Ov.forOwn,ce.forOwnRight=Ov.forOwnRight,ce.get=Ov.get,ce.gt=Tv.gt,ce.gte=Tv.gte,ce.has=Ov.has,ce.hasIn=Ov.hasIn,ce.head=kv.head,ce.identity=W,ce.includes=jv.includes,ce.indexOf=kv.indexOf,ce.inRange=Av.inRange,ce.invoke=Ov.invoke,ce.isArguments=Tv.isArguments,ce.isArray=Fh,ce.isArrayBuffer=Tv.isArrayBuffer,ce.isArrayLike=Tv.isArrayLike,ce.isArrayLikeObject=Tv.isArrayLikeObject,ce.isBoolean=Tv.isBoolean,ce.isBuffer=Tv.isBuffer,ce.isDate=Tv.isDate,ce.isElement=Tv.isElement,ce.isEmpty=Tv.isEmpty,ce.isEqual=Tv.isEqual,ce.isEqualWith=Tv.isEqualWith,ce.isError=Tv.isError,ce.isFinite=Tv.isFinite,ce.isFunction=Tv.isFunction,ce.isInteger=Tv.isInteger,ce.isLength=Tv.isLength,ce.isMap=Tv.isMap,ce.isMatch=Tv.isMatch,ce.isMatchWith=Tv.isMatchWith,ce.isNaN=Tv.isNaN,ce.isNative=Tv.isNative,ce.isNil=Tv.isNil,ce.isNull=Tv.isNull,ce.isNumber=Tv.isNumber,ce.isObject=I,ce.isObjectLike=Tv.isObjectLike,ce.isPlainObject=Tv.isPlainObject,ce.isRegExp=Tv.isRegExp,ce.isSafeInteger=Tv.isSafeInteger,ce.isSet=Tv.isSet,ce.isString=Tv.isString,ce.isSymbol=Tv.isSymbol,ce.isTypedArray=Tv.isTypedArray,ce.isUndefined=Tv.isUndefined,ce.isWeakMap=Tv.isWeakMap,ce.isWeakSet=Tv.isWeakSet,ce.join=kv.join,ce.kebabCase=Nv.kebabCase,ce.last=Ja,ce.lastIndexOf=kv.lastIndexOf,ce.lowerCase=Nv.lowerCase,ce.lowerFirst=Nv.lowerFirst,ce.lt=Tv.lt,ce.lte=Tv.lte,ce.max=Cv.max,ce.maxBy=Cv.maxBy,ce.mean=Cv.mean,ce.meanBy=Cv.meanBy,ce.min=Cv.min,ce.minBy=Cv.minBy,ce.stubArray=Pv.stubArray,ce.stubFalse=Pv.stubFalse,ce.stubObject=Pv.stubObject,ce.stubString=Pv.stubString,ce.stubTrue=Pv.stubTrue,ce.multiply=Cv.multiply,ce.nth=kv.nth,ce.noop=Pv.noop,ce.now={now:C_}.now,ce.pad=Nv.pad,ce.padEnd=Nv.padEnd,ce.padStart=Nv.padStart,ce.parseInt=Nv.parseInt,ce.random=Av.random,ce.reduce=jv.reduce,ce.reduceRight=jv.reduceRight,ce.repeat=Nv.repeat,ce.replace=Nv.replace,ce.result=Ov.result,ce.round=Cv.round,ce.sample=jv.sample,ce.size=jv.size,ce.snakeCase=Nv.snakeCase,ce.some=jv.some,ce.sortedIndex=kv.sortedIndex,ce.sortedIndexBy=kv.sortedIndexBy,ce.sortedIndexOf=kv.sortedIndexOf,ce.sortedLastIndex=kv.sortedLastIndex,ce.sortedLastIndexBy=kv.sortedLastIndexBy,ce.sortedLastIndexOf=kv.sortedLastIndexOf,ce.startCase=Nv.startCase,ce.startsWith=Nv.startsWith,ce.subtract=Cv.subtract,ce.sum=Cv.sum,ce.sumBy=Cv.sumBy,ce.template=Nv.template,ce.times=Pv.times,ce.toFinite=Tv.toFinite,ce.toInteger=z,ce.toLength=Tv.toLength,ce.toLower=Nv.toLower,ce.toNumber=Tv.toNumber,ce.toSafeInteger=Tv.toSafeInteger,ce.toString=Tv.toString,ce.toUpper=Nv.toUpper,ce.trim=Nv.trim,ce.trimEnd=Nv.trimEnd,ce.trimStart=Nv.trimStart,ce.truncate=Nv.truncate,ce.unescape=Nv.unescape,ce.uniqueId=Pv.uniqueId,ce.upperCase=Nv.upperCase,ce.upperFirst=Nv.upperFirst,ce.each=jv.forEach,ce.eachRight=jv.forEachRight,ce.first=kv.head,Lv(ce,function(){var e={};return Ra(ce,function(t,a){zv.call(ce.prototype,a)||(e[a]=t)}),e}(),{chain:!1}),ce.VERSION="4.17.11",(ce.templateSettings=Nv.templateSettings).imports._=ce,he(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){ce[e].placeholder=ce}),he(["drop","take"],function(e,t){te.prototype[e]=function(a){a=void 0===a?1:ph(z(a),0);var o=this.__filtered__&&!t?new te(this):this.clone();return o.__filtered__?o.__takeCount__=Wv(a,o.__takeCount__):o.__views__.push({size:Wv(a,Rv),type:e+(0>o.__dir__?"Right":"")}),o},te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),he(["filter","map","takeWhile"],function(e,t){var a=t+1;te.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ea(e,3),type:a}),t.__filtered__=t.__filtered__||a==1||a==3,t}}),he(["head","last"],function(e,t){var a="take"+(t?"Right":"");te.prototype[e]=function(){return this[a](1).value()[0]}}),he(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[a](1)}}),te.prototype.compact=function(){return this.filter(W)},te.prototype.find=function(e){return this.filter(e).head()},te.prototype.findLast=function(e){return this.reverse().find(e)},te.prototype.invokeMap=Re(function(e,t){return"function"==typeof e?new te(this):this.map(function(a){return Un(a,e,t)})}),te.prototype.reject=function(e){return this.filter(Hn(Ea(e)))},te.prototype.slice=function(e,t){e=z(e);var a=this;return a.__filtered__&&(0<e||0>t)?new te(a):(0>e?a=a.takeRight(-e):e&&(a=a.drop(e)),void 0!==t&&(t=z(t),a=0>t?a.dropRight(-t):a.take(t-e)),a)},te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},te.prototype.toArray=function(){return this.take(Rv)},Ra(te.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=ce[n?"take"+("last"==t?"Right":""):t],d=n||/^find/.test(t);o&&(ce.prototype[t]=function(){var t=this.__wrapped__,i=n?[1]:arguments,r=t instanceof te,c=i[0],l=r||Fh(t),s=function(e){var t=o.apply(ce,ht([e],i));return n&&f?t[0]:t};l&&a&&"function"==typeof c&&1!=c.length&&(r=l=!1);var f=this.__chain__,p=!!this.__actions__.length,u=d&&!f,h=r&&!p;if(!d&&l){t=h?t:new te(this);var b=e.apply(t,i);return b.__actions__.push({func:zo,args:[s],thisArg:void 0}),new oe(b,f)}return u&&h?e.apply(this,i):(b=this.thru(s),u?n?b.value()[0]:b.value():b)})}),he(["pop","push","shift","sort","splice","unshift"],function(e){var t=Uv[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);ce.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Fh(o)?o:[],e)}return this[a](function(a){return t.apply(Fh(a)?a:[],e)})}}),Ra(te.prototype,function(e,t){var a=ce[t];if(a){var n=a.name+"",o=xb[n]||(xb[n]=[]);o.push({name:t,func:a})}}),xb[Ce(void 0,2).name]=[{name:"wrapper",func:void 0}],te.prototype.clone=function(){var e=new te(this.__wrapped__);return e.__actions__=de(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=de(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=de(this.__views__),e},te.prototype.reverse=function(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},te.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,a=Fh(e),n=0>t,o=a?e.length:0,d=Ko(0,o,this.__views__),i=d.start,r=d.end,c=r-i,l=n?r:i-1,s=this.__iteratees__,f=s.length,p=0,u=ih(c,this.__takeCount__);if(!a||!n&&o==c&&u==c)return Do(e,this.__actions__);var h=[];outer:for(;c--&&p<u;){l+=t;for(var b=-1,g=e[l];++b<f;){var y=s[b],_=y.iteratee,m=y.type,x=_(g);if(m==2)g=x;else if(!x)if(1==m)continue outer;else break outer}h[p++]=g}return h},ce.prototype.at=Ev.at,ce.prototype.chain=Ev.wrapperChain,ce.prototype.commit=Ev.commit,ce.prototype.next=Ev.next,ce.prototype.plant=Ev.plant,ce.prototype.reverse=Ev.reverse,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=Ev.value,ce.prototype.first=ce.prototype.head,Dv&&(ce.prototype[Dv]=Ev.toIterator);dd.prototype={constructor:dd,reset:function(){this.s=this.t=0},add:function(e){rd(Yv,e,this.t),rd(this,Yv.s,this.s),this.s?this.t+=Yv.t:this.s=Yv.t},valueOf:function(){return this.s}};var Yv=new dd,Fv=rh,qv={Feature:function(e,t){ld(e.geometry,t)},FeatureCollection:function(e,t){for(var a=e.features,o=-1,d=a.length;++o<d;)ld(a[o].geometry,t)}},Hv={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var a=e.coordinates,o=-1,d=a.length;++o<d;)e=a[o],t.point(e[0],e[1],e[2])},LineString:function(e,t){sd(e.coordinates,t,0)},MultiLineString:function(e,t){for(var a=e.coordinates,o=-1,d=a.length;++o<d;)sd(a[o],t,0)},Polygon:function(e,t){fd(e.coordinates,t)},MultiPolygon:function(e,t){for(var a=e.coordinates,o=-1,d=a.length;++o<d;)fd(a[o],t)},GeometryCollection:function(e,t){for(var a=e.geometries,o=-1,d=a.length;++o<d;)ld(a[o],t)}},Vv=od(),Gv=od(),Xv=od(),Zv=od(),$v=function(e){return 1===e.length&&(e=hd(e)),{left:function(t,a,n,o){for(null==n&&(n=0),null==o&&(o=t.length);n<o;){var d=n+o>>>1;0>e(t[d],a)?n=d+1:o=d}return n},right:function(t,a,n,o){for(null==n&&(n=0),null==o&&(o=t.length);n<o;){var d=n+o>>>1;0<e(t[d],a)?o=d:n=d+1}return n}}}(ud),Kv=$v.right,Jv=rh(50),Qv=rh(10),ew=rh(2),tw=od(),aw=od(),nw=od(),ow={point:cd,lineStart:cd,lineEnd:cd,polygonStart:function(){ow.lineStart=md,ow.lineEnd=wd},polygonEnd:function(){ow.lineStart=ow.lineEnd=ow.point=cd,aw.add(ch(nw)),nw.reset()},result:function(){return aw.reset(),aw/2}},dw=1/0,iw=dw,rw=-dw,cw=rw,lw={point:kd,lineStart:cd,lineEnd:cd,polygonStart:cd,polygonEnd:cd,result:function(){var e=[[dw,iw],[rw,cw]];return rw=cw=-(iw=dw=1/0),e}},sw=0,fw=0,pw=0,uw=0,hw=0,bw=0,gw=0,yw=0,_w=0,mw={point:jd,lineStart:Sd,lineEnd:Ad,polygonStart:function(){mw.lineStart=Od,mw.lineEnd=Ed},polygonEnd:function(){mw.point=jd,mw.lineStart=Sd,mw.lineEnd=Ad},result:function(){var e=_w?[gw/_w,yw/_w]:bw?[uw/bw,hw/bw]:pw?[sw/pw,fw/pw]:[NaN,NaN];return sw=fw=pw=uw=hw=bw=gw=yw=_w=0,e}},xw,vw,ww,kw,jw,Sw,Tw,Cw;Md.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,2*Ju);break}}},result:cd};var Aw=od(),Ow={point:cd,lineStart:function(){Ow.point=Id},lineEnd:function(){Ew&&Rd(Nw,Pw),Ow.point=cd},polygonStart:function(){Ew=!0},polygonEnd:function(){Ew=null},result:function(){return Aw.reset(),+Aw}},Ew,Nw,Pw,Mw,Iw;Ud.prototype={_radius:4.5,_circle:Bd(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{null==this._circle&&(this._circle=Bd(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Rw=.1,Uw={CATEGORY:{CAT_1:1,CAT_2:2,CAT_3:3,CAT_4:4,NO_TEST:0},CUT_14:14,CUT_27:27},Bw={CATEGORY:{BELOW:1,NO_TEST:0,SUP_BR:3,SUP_EU:2}},zw={substances:{integrityHash:"sha384-9FmXfWF1E7bRuSKBX9NuEGewjBybCZxXFmPgKI6RBa4sB5oen5inynkWxS0uRuOH",url:"https://raw.githubusercontent.com/severo/data_brazil/master/substances.20190412.csv"},tests:{integrityHash:"sha384-A0apYNqz52d3JYGAxIZ0NAZL62PfXiD0EvxqA79yyqteRm526Thk7HSx4RkbTHmS",url:"https://raw.githubusercontent.com/severo/data_brazil/master/tests_data.json"},topojson:{integrityHash:"sha384-T57m5+BaBiLe7uyAZrKOU/BqCXtK9t0ZIj+YXAUES8EOxrngeVCKflSzZXnB9kVd",url:"data/br-px-topo.2019031701.json"},values:{integrityHash:"sha384-1mMiVJ4KDmhyjlz86hL3dd+AYo/ShdE/2L8iW5nCdsUHlgsMt9ZS/PTVg12LyTZM",url:"https://raw.githubusercontent.com/severo/data_brazil/master/data_by_municipality_for_maps.csv"}},Dw={AC:"Acre",AL:"Alagoas",AM:"Amazonas",AP:"Amap\xE1",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MG:"Minas Gerais",MS:"Mato Grosso do Sul",MT:"Mato Grosso",PA:"Par\xE1",PB:"Para\xEDba",PE:"Pernambuco",PI:"Piau\xED",PR:"Paran\xE1",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RO:"Rond\xF4nia",RR:"Roraima",RS:"Rio Grande do Sul",SC:"Santa Catarina",SE:"Sergipe",SP:"S\xE3o Paulo",TO:"Tocantins"},Ww=Ju,Lw=2*Ww,Yw=1e-6;Gd.prototype=Xd.prototype={constructor:Gd,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,a,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+a)+","+(this._y1=+n)},bezierCurveTo:function(e,t,a,n,o,d){this._+="C"+ +e+","+ +t+","+ +a+","+ +n+","+(this._x1=+o)+","+(this._y1=+d)},arcTo:function(e,t,a,n,o){var d=Math.tan;e=+e,t=+t,a=+a,n=+n,o=+o;var i=this._x1,c=this._y1,s=a-e,f=n-t,p=i-e,u=c-t,h=p*p+u*u;if(0>o)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(!(h>Yw));else if(!(ch(u*s-f*p)>Yw)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var b=a-i,g=n-c,y=s*s+f*f,_=rh(y),m=rh(h),x=o*d((Ww-Qu((y+h-(b*b+g*g))/(2*_*m)))/2),l=x/m,v=x/_;ch(l-1)>Yw&&(this._+="L"+(e+l*p)+","+(t+l*u)),this._+="A"+o+","+o+",0,0,"+ +(u*b>p*g)+","+(this._x1=e+v*s)+","+(this._y1=t+v*f)}},arc:function(e,t,a,n,o,d){e=+e,t=+t,a=+a;var i=a*oh(n),c=a*nh(n),l=e+i,s=t+c,f=1^d,p=d?n-o:o-n;if(0>a)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+l+","+s:(ch(this._x1-l)>Yw||ch(this._y1-s)>Yw)&&(this._+="L"+l+","+s);a&&(0>p&&(p=p%Lw+Lw),p>Lw-Yw?this._+="A"+a+","+a+",0,1,"+f+","+(e-i)+","+(t-c)+"A"+a+","+a+",0,1,"+f+","+(this._x1=l)+","+(this._y1=s):p>Yw&&(this._+="A"+a+","+a+",0,"+ +(p>=Ww)+","+f+","+(this._x1=e+a*oh(o))+","+(this._y1=t+a*nh(o))))},rect:function(e,t,a,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +n+"h"+-a+"Z"},toString:function(){return this._}};var Fw={he:100,vHe:1e3,vWi:1100,wi:100},qw={backgroundColor:"#f0f0f0",frontiers:{br:1,fu:.5,mun:.25},max:27},Hw=function(e){return["#f0f0f0","#ffffcc","#feb24c","#e31a1c","#800026"][e]},Vw=function(e){return["#f4f4f4","#74a3eb","#001d93","#01000f"][e]},Gw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ai.prototype={constructor:Ai,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};Zi.prototype={add:function(e){var t=this._names.indexOf(e);0>t&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}};var Xw={};if("undefined"!=typeof document){var Zw=document.documentElement;"onmouseenter"in Zw||(Xw={mouseenter:"mouseover",mouseleave:"mouseout"})}var $w=[null];vr.prototype=wr.prototype={constructor:vr,select:ki,selectAll:function(e){"function"!=typeof e&&(e=Si(e));for(var t=this._groups,a=t.length,o=[],d=[],r=0;r<a;++r)for(var c=t[r],l=c.length,n=0,s;n<l;++n)(s=c[n])&&(o.push(e.call(s,s.__data__,n,c)),d.push(s));return new vr(o,d)},filter:function(e){"function"!=typeof e&&(e=Ti(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=[],l=0,s;l<c;++l)(s=r[l])&&e.call(s,s.__data__,l,r)&&n.push(s);return new vr(o,this._parents)},data:function(e,t){if(!e)return u=Array(this.size()),l=-1,this.each(function(e){u[++l]=e}),u;var a=t?Ni:Ei,n=this._parents,o=this._groups;"function"!=typeof e&&(e=Oi(e));for(var d=o.length,i=Array(d),r=Array(d),c=Array(d),l=0;l<d;++l){var s=n[l],f=o[l],p=f.length,u=e.call(s,s&&s.__data__,l,n),h=u.length,b=r[l]=Array(h),g=i[l]=Array(h),y=c[l]=Array(p);a(s,f,b,g,y,u,t);for(var _=0,m=0,x,v;_<h;++_)if(x=b[_]){for(_>=m&&(m=_+1);!(v=g[m])&&++m<h;);x._next=v||null}}return i=new vr(i,n),i._enter=r,i._exit=c,i},enter:function(){return new vr(this._enter||this._groups.map(Ci),this._parents)},exit:function(){return new vr(this._exit||this._groups.map(Ci),this._parents)},join:function(e,t,a){var n=this.enter(),o=this,d=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(o=t(o)),null==a?d.remove():a(d),n&&o?n.merge(o).order():o},merge:function(e){for(var t=this._groups,a=e._groups,o=t.length,d=a.length,r=ih(o,d),c=Array(o),l=0;l<r;++l)for(var s=t[l],f=a[l],p=s.length,n=c[l]=Array(p),u=0,h;u<p;++u)(h=s[u]||f[u])&&(n[u]=h);for(;l<o;++l)c[l]=t[l];return new vr(c,this._parents)},order:function(){for(var e=this._groups,t=-1,a=e.length;++t<a;)for(var n=e[t],o=n.length-1,d=n[o],r;0<=--o;)(r=n[o])&&(d&&4^r.compareDocumentPosition(d)&&d.parentNode.insertBefore(r,d),d=r);return this},sort:function(e){function t(t,a){return t&&a?e(t.__data__,a.__data__):!t-!a}e||(e=Pi);for(var a=this._groups,o=a.length,d=Array(o),r=0;r<o;++r){for(var c=a[r],l=c.length,n=d[r]=Array(l),s=0,f;s<l;++s)(f=c[s])&&(n[s]=f);n.sort(t)}return new vr(d,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var o=e[t],d=0,r=o.length,n;d<r;++d)if(n=o[d],n)return n;return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,a=0,o=t.length;a<o;++a)for(var d=t[a],r=0,c=d.length,n;r<c;++r)(n=d[r])&&e.call(n,n.__data__,r,d);return this},attr:function(e,t){var a=yi(e);if(2>arguments.length){var n=this.node();return a.local?n.getAttributeNS(a.space,a.local):n.getAttribute(a)}return this.each((null==t?a.local?Ii:Mi:"function"==typeof t?a.local?zi:Bi:a.local?Ui:Ri)(a,t))},style:function(e,t,a){return 1<arguments.length?this.each((null==t?Wi:"function"==typeof t?Yi:Li)(e,t,null==a?"":a)):Fi(this.node(),e)},property:function(e,t){return 1<arguments.length?this.each((null==t?qi:"function"==typeof t?Vi:Hi)(e,t)):this.node()[e]},classed:function(e,t){var a=Gi(e+"");if(2>arguments.length){for(var o=Xi(this.node()),d=-1,r=a.length;++d<r;)if(!o.contains(a[d]))return!1;return!0}return this.each(("function"==typeof t?er:t?Ji:Qi)(a,t))},text:function(e){return arguments.length?this.each(null==e?tr:("function"==typeof e?nr:ar)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?or:("function"==typeof e?ir:dr)(e)):this.node().innerHTML},raise:function(){return this.each(rr)},lower:function(){return this.each(cr)},append:function(e){var t="function"==typeof e?e:xi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var a="function"==typeof e?e:xi(e),n=null==t?lr:"function"==typeof t?t:wi(t);return this.select(function(){return this.insertBefore(a.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(sr)},clone:function(e){return this.select(e?pr:fr)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,a,d){var r=br(e+""),c=r.length,n,l;if(2>arguments.length){var s=this.node().__on;if(s)for(var f=0,p=s.length,u;f<p;++f)for(n=0,u=s[f];n<c;++n)if((l=r[n]).type===u.type&&l.name===u.name)return u.value;return}for(s=a?yr:gr,null==d&&(d=!1),n=0;n<c;++n)this.each(s(r[n],a,d));return this},dispatch:function(e,t){return this.each(("function"==typeof t?xr:mr)(e,t))}};var Kw=.7,Jw=1/Kw,Qw="\\s*([+-]?\\d+)\\s*",ek="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tk="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ak=/^#([0-9a-f]{3})$/,nk=/^#([0-9a-f]{6})$/,ok=new RegExp("^rgb\\("+[Qw,Qw,Qw]+"\\)$"),dk=new RegExp("^rgb\\("+[tk,tk,tk]+"\\)$"),ik=new RegExp("^rgba\\("+[Qw,Qw,Qw,ek]+"\\)$"),rk=new RegExp("^rgba\\("+[tk,tk,tk,ek]+"\\)$"),ck=new RegExp("^hsl\\("+[ek,tk,tk]+"\\)$"),lk=new RegExp("^hsla\\("+[ek,tk,tk,ek]+"\\)$"),sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sr(Cr,Ar,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Sr(Mr,Pr,Tr(Cr,{brighter:function(e){return e=null==e?Jw:lh(Jw,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Kw:lh(Kw,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+Ir(this.r)+Ir(this.g)+Ir(this.b)},toString:function(){var e=this.opacity;return e=isNaN(e)?1:ph(0,ih(1,e)),(1===e?"rgb(":"rgba(")+ph(0,ih(255,dh(this.r)||0))+", "+ph(0,ih(255,dh(this.g)||0))+", "+ph(0,ih(255,dh(this.b)||0))+(1===e?")":", "+e+")")}})),Sr(Br,function(e,t,a,n){return 1===arguments.length?Ur(e):new Br(e,t,a,null==n?1:n)},Tr(Cr,{brighter:function(e){return e=null==e?Jw:lh(Jw,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Kw:lh(Kw,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(0>this.h),t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,n=a+(.5>a?a:1-a)*t,o=2*a-n;return new Mr(zr(240<=e?e-240:e+120,o,n),zr(e,o,n),zr(120>e?e+240:e-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var fk=Ju/180,pk=180/Ju,uk=18,K=.96422,Xn=.82521,Zn=4/29,hk=6/29,bk=3*hk*hk,gk=hk*hk*hk;Sr(Wr,function(e,t,a,n){return 1===arguments.length?Dr(e):new Wr(e,t,a,null==n?1:n)},Tr(Cr,{brighter:function(e){return new Wr(this.l+uk*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Wr(this.l-uk*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,a=isNaN(this.b)?e:e-this.b/200;return t=K*Yr(t),e=1*Yr(e),a=Xn*Yr(a),new Mr(Fr(3.1338561*t-1.6168667*e-.4906146*a),Fr(-.9787684*t+1.9161415*e+.033454*a),Fr(.0719453*t-.2289914*e+1.4052427*a),this.opacity)}})),Sr(Vr,function(e,t,a,n){return 1===arguments.length?Hr(e):new Vr(e,t,a,null==n?1:n)},Tr(Cr,{brighter:function(e){return new Vr(this.h,this.c,this.l+uk*(null==e?1:e),this.opacity)},darker:function(e){return new Vr(this.h,this.c,this.l-uk*(null==e?1:e),this.opacity)},rgb:function(){return Dr(this).rgb()}}));var yk=-.14861,A=+1.78277,B=-.29227,C=-.90649,D=+1.97294,E=D*C,_k=D*A,mk=A*B-C*yk;Sr(Zr,Xr,Tr(Cr,{brighter:function(e){return e=null==e?Jw:lh(Jw,e),new Zr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Kw:lh(Kw,e),new Zr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*fk,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=oh(e),o=nh(e);return new Mr(255*(t+n*(yk*a+A*o)),255*(t+n*(B*a+C*o)),255*(t+n*(D*a)),this.opacity)}}));var xk=function e(t){function a(e,t){var a=n((e=Pr(e)).r,(t=Pr(t)).r),o=n(e.g,t.g),d=n(e.b,t.b),i=tc(e.opacity,t.opacity);return function(n){return e.r=a(n),e.g=o(n),e.b=d(n),e.opacity=i(n),e+""}}var n=ec(t);return a.gamma=e,a}(1),vk=function(e){return function(t){var a=t.length,n=Array(a),o=Array(a),d=Array(a),c,l;for(c=0;c<a;++c)l=Pr(t[c]),n[c]=l.r||0,o[c]=l.g||0,d[c]=l.b||0;return n=e(n),o=e(o),d=e(d),l.opacity=1,function(e){return l.r=n(e),l.g=o(e),l.b=d(e),l+""}}}(function(e){var a=e.length-1;return function(n){var o=0>=n?n=0:1<=n?(n=1,a-1):uh(n*a),d=e[o],i=e[o+1],r=0<o?e[o-1]:2*d-i,c=o<a-1?e[o+2]:2*i-d;return $r((n-o/a)*a,r,d,i,c)}}),wk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kk=new RegExp(wk.source,"g"),jk=180/Ju,Sk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Tk=hc(pc,"px, ","px)","deg)"),Ck=hc(uc,", ",")",")"),Ak=Math.SQRT2,Ok,Ek,Nk,Pk;bc(function(e,t){var a=t-e;return a?Jr(e,180<a||-180>a?a-360*dh(a/360):a):Kr(isNaN(e)?t:e)});var Mk=bc(tc),Ik=0,Rk=0,Uk=0,Bk=0,zk=0,Dk=0,Wk="object"==typeof performance&&performance.now?performance:Date,Lk="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},Yk,Fk;_c.prototype=mc.prototype={constructor:_c,restart:function(e,t,a){if("function"!=typeof e)throw new TypeError("callback is not a function");a=(null==a?gc():+a)+(null==t?0:+t),this._next||Fk===this||(Fk?Fk._next=this:Yk=this,Fk=this),this._call=e,this._time=a,jc()},stop:function(){this._call&&(this._call=null,this._time=1/0,jc())}};var qk=e("start","end","cancel","interrupt"),Hk=[],Vk=wr.prototype.constructor,Gk=0,Xk=wr.prototype;gl.prototype=function(e){return wr().transition(e)}.prototype={constructor:gl,select:dl,selectAll:il,filter:function(e){"function"!=typeof e&&(e=Ti(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=[],l=0,s;l<c;++l)(s=r[l])&&e.call(s,s.__data__,l,r)&&n.push(s);return new gl(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,a=e._groups,o=t.length,d=a.length,r=ih(o,d),c=Array(o),l=0;l<r;++l)for(var s=t[l],f=a[l],p=s.length,n=c[l]=Array(p),u=0,h;u<p;++u)(h=s[u]||f[u])&&(n[u]=h);for(;l<o;++l)c[l]=t[l];return new gl(c,this._parents,this._name,this._id)},selection:function(){return new Vk(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,a=yl(),o=this._groups,d=o.length,r=0;r<d;++r)for(var c=o[r],l=c.length,n=0,s;n<l;++n)if(s=c[n]){var f=Oc(s,t);Tc(s,e,a,n,c,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new gl(o,this._parents,e,a)},call:Xk.call,nodes:Xk.nodes,node:Xk.node,size:Xk.size,empty:Xk.empty,each:Xk.each,on:nl,attr:function(e,t){var a=yi(e),n="transform"===a?Ck:Uc;return this.attrTween(e,"function"==typeof t?(a.local?Yc:Lc)(a,n,Rc(this,"attr."+e,t)):null==t?(a.local?zc:Bc)(a):(a.local?Wc:Dc)(a,n,t))},attrTween:function(e,t){var a="attr."+e;if(2>arguments.length)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw new Error;var n=yi(e);return this.tween(a,(n.local?Hc:Vc)(n,t))},style:function(e,t,a){var n="transform"==(e+="")?Tk:Uc;return null==t?this.styleTween(e,rl(e,n)).on("end.style."+e,cl(e)):"function"==typeof t?this.styleTween(e,sl(e,n,Rc(this,"style."+e,t))).each(fl(this._id,e)):this.styleTween(e,ll(e,n,t),a).on("end.style."+e,null)},styleTween:function(e,t,a){var n="style."+(e+="");if(2>arguments.length)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,ul(e,t,null==a?"":a))},text:function(e){return this.tween("text","function"==typeof e?bl(Rc(this,"text",e)):hl(null==e?"":e+""))},remove:function(){return this.on("end.remove",ol(this._id))},tween:Ic,delay:Zc,duration:Jc,ease:el,end:function(){var e=this,t=e._id,a=e.size(),n,o;return new Promise(function(d,i){var r={value:i},c={value:function(){0==--a&&d()}};e.each(function(){var e=Ac(this,t),a=e.on;a!==n&&(o=(n=a).copy(),o._.cancel.push(r),o._.interrupt.push(r),o._.end.push(c)),e.on=o})})}};var Zk={time:null,delay:0,duration:250,ease:function(e){return(1>=(e*=2)?e*e*e:(e-=2)*e*e+2)/2}};wr.prototype.interrupt=function(e){return this.each(function(){Nc(this,e)})},wr.prototype.transition=ml;var $k="$";xl.prototype=vl.prototype={constructor:xl,has:function(e){return $k+e in this},get:function(e){return this[$k+e]},set:function(e,t){return this[$k+e]=t,this},remove:function(e){var t=$k+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===$k&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===$k&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===$k&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===$k&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===$k&&++e;return e},empty:function(){for(var e in this)if(e[0]===$k)return!1;return!0},each:function(e){for(var t in this)t[0]===$k&&e(this[t],t.slice(1),this)}};var Kk=vl.prototype;wl.prototype=function(e,t){var a=new wl;if(e instanceof wl)e.each(function(e){a.add(e)});else if(e){var o=-1,d=e.length;if(null==t)for(;++o<d;)a.add(e[o]);else for(;++o<d;)a.add(t(e[o],o,e))}return a}.prototype={constructor:wl,has:Kk.has,add:function(e){return e+="",this[$k+e]=e,this},remove:Kk.remove,clear:Kk.clear,values:Kk.keys,size:Kk.size,empty:Kk.empty,each:Kk.each};var Jk=function(e,t,a){var n=new Ml(null==t?Nl:t,null==a?Pl:a,NaN,NaN,NaN,NaN);return null==e?n:n.addAll(e)}.prototype=Ml.prototype;Jk.copy=function(){var e=new Ml(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,a,n;if(!t)return e;if(!t.length)return e._root=Il(t),e;for(a=[{source:t,target:e._root=[,,,,]}];t=a.pop();)for(var o=0;4>o;++o)(n=t.source[o])&&(n.length?a.push({source:n,target:t.target[o]=[,,,,]}):t.target[o]=Il(n));return e},Jk.add=function(e){var t=+this._x.call(null,e),a=+this._y.call(null,e);return kl(this.cover(t,a),t,a,e)},Jk.addAll=jl,Jk.cover=Sl,Jk.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},Jk.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Jk.find=Cl,Jk.remove=Al,Jk.removeAll=function(e){for(var t=0,a=e.length;t<a;++t)this.remove(e[t]);return this},Jk.root=function(){return this._root},Jk.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},Jk.visit=Ol,Jk.visitAfter=El,Jk.x=function(e){return arguments.length?(this._x=e,this):this._x},Jk.y=function(e){return arguments.length?(this._y=e,this):this._y};var Qk=Ju*(3-rh(5)),ej=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Dl.prototype=Wl.prototype,Wl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":ph(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+ph(0,0|this.precision))+(this.trim?"~":"")+this.type};var re={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return dh(e).toString(2)},c:function(e){return e+""},d:function(e){return dh(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return dh(e).toString(8)},p:function(e,t){return Yl(100*e,t)},r:Yl,s:function(e,t){var a=Rl(e,t);if(!a)return e+"";var o=a[0],d=a[1],r=d-(aj=3*ph(-8,ih(8,uh(d/3))))+1,i=o.length;return r===i?o:r>i?o+Array(r-i+1).join("0"):0<r?o.slice(0,r)+"."+o.slice(r):"0."+Array(1-r).join("0")+Rl(e,ph(0,t+r-1))[0]},X:function(e){return dh(e).toString(16).toUpperCase()},x:function(e){return dh(e).toString(16)}},tj=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],aj,nj,oj,dj;Hl({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ij=Array.prototype,rj=ij.map,cj=ij.slice,lj=[0,1],sj=new Date,fj=new Date,pj=ss(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});pj.every=function(e){return e=uh(e),isFinite(e)&&0<e?1<e?ss(function(t){t.setTime(uh(t/e)*e)},function(t,a){t.setTime(+t+a*e)},function(t,a){return(a-t)/e}):pj:null};var uj=pj.range,hj=1e3,bj=6e4,gj=36e5,yj=864e5,_j=ss(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*hj)},function(e,t){return(t-e)/hj},function(e){return e.getUTCSeconds()}),mj=_j.range,xj=ss(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*hj)},function(e,t){e.setTime(+e+t*bj)},function(e,t){return(t-e)/bj},function(e){return e.getMinutes()}),vj=xj.range,wj=ss(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*hj-e.getMinutes()*bj)},function(e,t){e.setTime(+e+t*gj)},function(e,t){return(t-e)/gj},function(e){return e.getHours()}),kj=wj.range,jj=ss(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bj)/yj},function(e){return e.getDate()-1}),Sj=jj.range,Tj=fs(0),Cj=fs(1),Aj=fs(2),Oj=fs(3),Ej=fs(4),Nj=fs(5),Pj=fs(6),Mj=Tj.range,Ij=ss(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),Rj=Ij.range,Uj=ss(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Uj.every=function(e){return isFinite(e=uh(e))&&0<e?ss(function(t){t.setFullYear(uh(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,a){t.setFullYear(t.getFullYear()+a*e)}):null};var Bj=Uj.range,zj=ss(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*bj)},function(e,t){return(t-e)/bj},function(e){return e.getUTCMinutes()}),Dj=zj.range,Wj=ss(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*gj)},function(e,t){return(t-e)/gj},function(e){return e.getUTCHours()}),Lj=Wj.range,Yj=ss(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/yj},function(e){return e.getUTCDate()-1}),Fj=Yj.range,qj=ps(0),Hj=ps(1),Vj=ps(2),Gj=ps(3),Xj=ps(4),Zj=ps(5),$j=ps(6),Kj=qj.range,Jj=ss(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Qj=Jj.range,eS=ss(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});eS.every=function(e){return isFinite(e=uh(e))&&0<e?ss(function(t){t.setUTCFullYear(uh(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,a){t.setUTCFullYear(t.getUTCFullYear()+a*e)}):null};var tS=eS.range,aS={"-":"",_:" ",0:"0"},nS=/^\s*\d+/,oS=/^%/,dS=/[\\^$*+?|[\]().{}]/g,iS,rS,cS,lS,sS;jf({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var fS=Date.prototype.toISOString?function(e){return e.toISOString()}:lS("%Y-%m-%dT%H:%M:%S.%LZ"),pS=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:sS("%Y-%m-%dT%H:%M:%S.%LZ");Sf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Sf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Sf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Sf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Sf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Sf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Sf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Sf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Sf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var uS=[,,,].concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Sf);Tf(uS);var hS=[,,,].concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Sf);Tf(hS);var bS=[,,,].concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Sf);Tf(bS);var gS=[,,,].concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Sf);Tf(gS);var yS=[,,,].concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Sf);Tf(yS);var _S=[,,,].concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Sf);Tf(_S);var mS=[,,,].concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Sf);Tf(mS);var xS=[,,,].concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Sf);Tf(xS);var vS=[,,,].concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Sf);Tf(vS);var wS=[,,,].concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Sf);Tf(wS);var kS=[,,,].concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Sf);Tf(kS);var jS=[,,,].concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Sf);Tf(jS);var SS=[,,,].concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Sf);Tf(SS);var TS=[,,,].concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Sf);Tf(TS);var CS=[,,,].concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Sf);Tf(CS);var AS=[,,,].concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Sf);Tf(AS);var OS=[,,,].concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Sf);Tf(OS);var ES=[,,,].concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Sf);Tf(ES);var NS=[,,,].concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Sf);Tf(NS);var PS=[,,,].concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Sf);Tf(PS);var MS=[,,,].concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Sf);Tf(MS);var IS=[,,,].concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Sf);Tf(IS);var RS=[,,,].concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Sf);Tf(RS);var US=[,,,].concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Sf);Tf(US);var BS=[,,,].concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Sf);Tf(BS);var zS=[,,,].concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Sf);Tf(zS);var DS=[,,,].concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Sf);Tf(DS),Mk(Xr(300,.5,0),Xr(-240,.5,1));var WS=Mk(Xr(-100,.75,.35),Xr(80,1.5,.8)),LS=Mk(Xr(260,.75,.35),Xr(80,1.5,.8)),YS=Xr(),c=Pr();Cf(Sf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var FS=Cf(Sf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qS=Cf(Sf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),HS=Cf(Sf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));Pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nf(this,this._t0,Ef(this,this._t0));}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nf(this,Ef(this,a=Of(this,e,t)),a);break;default:Nf(this,this._t0,a=Of(this,e,t));}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}},(function(e){this._context=new Mf(e)}.prototype=Object.create(Pf.prototype)).point=function(e,t){Pf.prototype.point.call(this,t,e)},Mf.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,o,d){this._context.bezierCurveTo(t,e,n,a,d,o)}};var VS={cocktail:{dim:{height:16,label:{xOffset:30,yOffset:15},margin:4,subtitleOffset:8,titleOffset:24,width:16},keys:["CAT_4","CAT_3","CAT_2","CAT_1","NO_TEST"],labels:{CAT_1:"Nenhum agrotóxico",CAT_2:"De 1 a 13",CAT_3:"De 14 a 26",CAT_4:"Todos os 27 testados",NO_TEST:"Testes não foram feitos"}},limits:{dim:{height:16,label:{xOffset:30,yOffset:15},margin:4,subtitleOffset:8,titleOffset:24,width:16},keys:["SUP_BR","SUP_EU","BELOW","NO_TEST"],labels:{BELOW:"Todos os agrotóxicos dentro dos limites",NO_TEST:"Sem dados",SUP_BR:"Pelo menos um acima do limite brasileiro",SUP_EU:"Pelo menos um acima do limite europeu"}},max:27},GS={MultiPolygon:function(e,t){for(var a=e.coordinates,n=-1,o=a.length;++n<o;)if(Zl(a[n][0],t))return!0;return!1},Polygon:function(e,t){return Zl(e.coordinates[0],t)}},XS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ZS=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var $S=document.documentElement;if(!$S.matches){var KS=$S.webkitMatchesSelector||$S.msMatchesSelector||$S.mozMatchesSelector||$S.oMatchesSelector;ZS=function(e){return function(){return KS.call(this,e)}}}}var JS=ZS,QS={},eT=null;if("undefined"!=typeof document){var tT=document.documentElement;"onmouseenter"in tT||(QS={mouseenter:"mouseover",mouseleave:"mouseout"})}dp.prototype={constructor:dp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};Sp.prototype={add:function(e){var t=this._names.indexOf(e);0>t&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}};var aT=[null];qp.prototype=function(){return new qp([[document.documentElement]],aT)}.prototype={constructor:qp,select:tp,selectAll:function(e){"function"!=typeof e&&(e=np(e));for(var t=this._groups,a=t.length,o=[],d=[],r=0;r<a;++r)for(var c=t[r],l=c.length,n=0,s;n<l;++n)(s=c[n])&&(o.push(e.call(s,s.__data__,n,c)),d.push(s));return new qp(o,d)},filter:function(e){"function"!=typeof e&&(e=JS(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=[],l=0,s;l<c;++l)(s=r[l])&&e.call(s,s.__data__,l,r)&&n.push(s);return new qp(o,this._parents)},data:function(e,t){if(!e)return u=Array(this.size()),l=-1,this.each(function(e){u[++l]=e}),u;var a=t?cp:rp,n=this._parents,o=this._groups;"function"!=typeof e&&(e=ip(e));for(var d=o.length,i=Array(d),r=Array(d),c=Array(d),l=0;l<d;++l){var s=n[l],f=o[l],p=f.length,u=e.call(s,s&&s.__data__,l,n),h=u.length,b=r[l]=Array(h),g=i[l]=Array(h),y=c[l]=Array(p);a(s,f,b,g,y,u,t);for(var _=0,m=0,x,v;_<h;++_)if(x=b[_]){for(_>=m&&(m=_+1);!(v=g[m])&&++m<h;);x._next=v||null}}return i=new qp(i,n),i._enter=r,i._exit=c,i},enter:function(){return new qp(this._enter||this._groups.map(op),this._parents)},exit:function(){return new qp(this._exit||this._groups.map(op),this._parents)},merge:function(e){for(var t=this._groups,a=e._groups,o=t.length,d=a.length,r=ih(o,d),c=Array(o),l=0;l<r;++l)for(var s=t[l],f=a[l],p=s.length,n=c[l]=Array(p),u=0,h;u<p;++u)(h=s[u]||f[u])&&(n[u]=h);for(;l<o;++l)c[l]=t[l];return new qp(c,this._parents)},order:function(){for(var e=this._groups,t=-1,a=e.length;++t<a;)for(var n=e[t],o=n.length-1,d=n[o],r;0<=--o;)(r=n[o])&&(d&&d!==r.nextSibling&&d.parentNode.insertBefore(r,d),d=r);return this},sort:function(e){function t(t,a){return t&&a?e(t.__data__,a.__data__):!t-!a}e||(e=lp);for(var a=this._groups,o=a.length,d=Array(o),r=0;r<o;++r){for(var c=a[r],l=c.length,n=d[r]=Array(l),s=0,f;s<l;++s)(f=c[s])&&(n[s]=f);n.sort(t)}return new qp(d,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var o=e[t],d=0,r=o.length,n;d<r;++d)if(n=o[d],n)return n;return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,a=0,o=t.length;a<o;++a)for(var d=t[a],r=0,c=d.length,n;r<c;++r)(n=d[r])&&e.call(n,n.__data__,r,d);return this},attr:function(e,t){var a=Wf(e);if(2>arguments.length){var n=this.node();return a.local?n.getAttributeNS(a.space,a.local):n.getAttribute(a)}return this.each((null==t?a.local?fp:sp:"function"==typeof t?a.local?bp:hp:a.local?up:pp)(a,t))},style:function(e,t,a){var n;return 1<arguments.length?this.each((null==t?yp:"function"==typeof t?mp:_p)(e,t,null==a?"":a)):gp(n=this.node()).getComputedStyle(n,null).getPropertyValue(e)},property:function(e,t){return 1<arguments.length?this.each((null==t?xp:"function"==typeof t?wp:vp)(e,t)):this.node()[e]},classed:function(e,t){var a=kp(e+"");if(2>arguments.length){for(var o=jp(this.node()),d=-1,r=a.length;++d<r;)if(!o.contains(a[d]))return!1;return!0}return this.each(("function"==typeof t?Ep:t?Ap:Op)(a,t))},text:function(e){return arguments.length?this.each(null==e?Np:("function"==typeof e?Mp:Pp)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Ip:("function"==typeof e?Up:Rp)(e)):this.node().innerHTML},raise:function(){return this.each(Bp)},lower:function(){return this.each(zp)},append:function(e){var t="function"==typeof e?e:Ff(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var a="function"==typeof e?e:Ff(e),n=null==t?Dp:"function"==typeof t?t:ep(t);return this.select(function(){return this.insertBefore(a.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(Wp)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,a,d){var r=Vf(e+""),c=r.length,n,l;if(2>arguments.length){var s=this.node().__on;if(s)for(var f=0,p=s.length,u;f<p;++f)for(n=0,u=s[f];n<c;++n)if((l=r[n]).type===u.type&&l.name===u.name)return u.value;return}for(s=a?Xf:Gf,null==d&&(d=!1),n=0;n<c;++n)this.each(s(r[n],a,d));return this},dispatch:function(e,t){return this.each(("function"==typeof t?Fp:Yp)(e,t))}};var nT={value:function(){}};Xp.prototype=Gp.prototype={constructor:Xp,on:function(e,a){var o=this._,d=Zp(e+"",o),r=-1,c=d.length,n;if(2>arguments.length){for(;++r<c;)if((n=(e=d[r]).type)&&(n=$p(o[n],e.name)))return n;return}if(null!=a&&"function"!=typeof a)throw new Error("invalid callback: "+a);for(;++r<c;)if(n=(e=d[r]).type)o[n]=Kp(o[n],e.name,a);else if(null==a)for(n in o)o[n]=Kp(o[n],e.name,null);return this},copy:function(){var e={},a=this._;for(var n in a)e[n]=a[n].slice();return new Xp(e)},call:function(e,a){if(0<(r=arguments.length-2))for(var o=Array(r),d=0,r,c;d<r;++d)o[d]=arguments[d+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],d=0,r=c.length;d<r;++d)c[d].value.apply(a,o)},apply:function(e,a,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var d=this._[e],t=0,r=d.length;t<r;++t)d[t].value.apply(a,o)}},nu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var oT=1e-12,dT=Ju,iT=dT/2,rT=2*dT;_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);}}},wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vu(this,this._x1,this._y1);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:vu(this,e,t);}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var a=this._x2-e,n=this._y2-t;this._l23_a=rh(this._l23_2a=lh(a*a+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ku(this,e,t);}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var cT=function e(t){function a(e){return t?new ju(e,t):new wu(e,0)}return a.alpha=function(t){return e(+t)},a}(.5);Ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Au(this,this._t0,Cu(this,this._t0));}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Au(this,Cu(this,a=Tu(this,e,t)),a);break;default:Au(this,this._t0,a=Tu(this,e,t));}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}},(function(e){this._context=new Eu(e)}.prototype=Object.create(Ou.prototype)).point=function(e,t){Ou.prototype.point.call(this,t,e)},Eu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,o,d){this._context.bezierCurveTo(t,e,n,a,d,o)}};var lT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sT=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},fT=function(){function e(e,t){for(var a=0,n;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),pT=Object.assign||function(e){for(var t=1,a;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e},uT=function e(t,a,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,a);if(o===void 0){var d=Object.getPrototypeOf(t);return null===d?void 0:e(d,a,n)}if("value"in o)return o.value;var i=o.get;return void 0===i?void 0:i.call(n)},hT=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},bT=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},gT=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)},yT=function(){function e(t){var a=t.x,n=void 0===a?0:a,o=t.y,d=void 0===o?0:o,i=t.nx,r=t.ny,c=t.dy,l=void 0===c?0:c,s=t.dx,f=void 0===s?0:s,p=t.color,u=void 0===p?"grey":p,h=t.data,b=t.type,g=t.subject,y=t.connector,_=t.note,m=t.disable,x=t.id,v=t.className;sT(this,e),this._dx=void 0===i?f:i-n,this._dy=void 0===r?l:r-d,this._x=n,this._y=d,this._color=u,this.id=x,this._className=v||"",this._type=b||"",this.data=h,this.note=_||{},this.connector=y||{},this.subject=g||{},this.disable=m||[]}return fT(e,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(e){this._className=e,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(e){this._type=e,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(e){this._dx=e,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(e){this._dy=e,this.updateOffset()}},{key:"nx",set:function(e){this._dx=e-this._x,this.updateOffset()}},{key:"ny",set:function(e){this._dy=e-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(e){var t=e.x,a=e.y;this._dx=t,this._dy=a,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(e){var t=e.x,a=e.y;this._x=t,this._y=a,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var e={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&0<Object.keys(this.data).length&&(e.data=this.data),this.type&&(e.type=this.type),this._className&&(e.className=this._className),0<Object.keys(this.connector).length&&(e.connector=this.connector),0<Object.keys(this.subject).length&&(e.subject=this.subject),0<Object.keys(this.note).length&&(e.note=this.note),e}}]),e}(),_T=function(){function e(t){var a=t.annotations,n=t.accessors,o=t.accessorsInverse;sT(this,e),this.accessors=n,this.accessorsInverse=o,this.annotations=a}return fT(e,[{key:"clearTypes",value:function(e){this.annotations.forEach(function(t){t.type=void 0,t.subject=e&&e.subject||t.subject,t.connector=e&&e.connector||t.connector,t.note=e&&e.note||t.note})}},{key:"setPositionWithAccessors",value:function(){var e=this;this.annotations.forEach(function(t){t.type.setPositionWithAccessors(e.accessors)})}},{key:"editMode",value:function(e){this.annotations.forEach(function(t){t.type&&(t.type.editMode=e,t.type.updateEditMode())})}},{key:"updateDisable",value:function(e){this.annotations.forEach(function(t){t.disable=e,t.type&&e.forEach(function(e){t.type[e]&&(t.type[e].remove&&t.type[e].remove(),t.type[e]=void 0)})})}},{key:"updateTextWrap",value:function(e){this.annotations.forEach(function(t){t.type&&t.type.updateTextWrap&&t.type.updateTextWrap(e)})}},{key:"updateText",value:function(){this.annotations.forEach(function(e){e.type&&e.type.drawText&&e.type.drawText()})}},{key:"updateNotePadding",value:function(e){this.annotations.forEach(function(t){t.type&&(t.type.notePadding=e)})}},{key:"json",get:function(){var e=this;return this.annotations.map(function(t){var a=t.json;return e.accessorsInverse&&t.data&&(a.data={},Object.keys(e.accessorsInverse).forEach(function(n){a.data[n]=e.accessorsInverse[n]({x:t.x,y:t.y})})),a})}},{key:"noteNodes",get:function(){return this.annotations.map(function(e){return pT({},e.type.getNoteBBoxOffset(),{positionX:e.x,positionY:e.y})})}}]),e}(),mT=function(e){var t=e.cx,a=t===void 0?0:t,n=e.cy,o=n===void 0?0:n;return{move:{x:a,y:o}}},xT=function(e){var t=e.cx,a=void 0===t?0:t,n=e.cy,o=void 0===n?0:n,d=e.r1,i=e.r2,r=e.padding,c={move:{x:a,y:o}};return void 0!==d&&(c.r1={x:a+d/rh(2),y:o+d/rh(2)}),void 0!==i&&(c.r2={x:a+i/rh(2),y:o+i/rh(2)}),void 0!==r&&(c.padding={x:a+d+r,y:o}),c},vT=function(e){var t=e.group,a=e.handles,n=e.r,o=n===void 0?10:n,d=t.selectAll("circle.handle").data(a);d.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(ru().container(Hp("g.annotations").node()).on("start",function(e){return e.start&&e.start(e)}).on("drag",function(e){return e.drag&&e.drag(e)}).on("end",function(e){return e.end&&e.end(e)})),t.selectAll("circle.handle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("r",function(e){return e.r||o}).attr("class",function(e){return"handle "+(e.className||"")}),d.exit().remove()},wT=function(e,t){return("dynamic"===e||"left"===e||"right"===e)&&(0>t?e="top":e="bottom"),e},kT=function(e,t){return("dynamic"===e||"top"===e||"bottom"===e)&&(0>t?e="right":e="left"),e},jT=["topBottom","top","bottom"],ST=["leftRight","left","right"],TT=function(e){var t=e.padding,a=void 0===t?0:t,n=e.bbox,o=void 0===n?{x:0,y:0,width:0,height:0}:n,d=e.align,i=e.orientation,r=e.offset,c=void 0===r?{x:0,y:0}:r,l=-o.x,s=0;return-1===jT.indexOf(i)?-1!==ST.indexOf(i)&&(d=wT(d,c.y),0>c.x&&"leftRight"===i||"left"===i?l-=o.width+a:l+=a,"middle"===d?s-=o.height/2:"top"===d&&(s-=o.height)):(d=kT(d,c.x),0>c.y&&"topBottom"===i||"top"===i?s-=o.height+a:s+=a,"middle"===d?l-=o.width/2:"right"===d&&(l-=o.width)),{x:l,y:s}},CT=function(e){var t=e.data,a=e.curve,n=void 0===a?mu:a,o=e.canvasContext,d=e.className,i=e.classID,r=y().curve(n),c={type:"path",className:d,classID:i,data:t};return o?(r.context(o),c.pathMethods=r):c.attrs={d:r(t)},c},AT=function(e){var t=e.data,a=e.canvasContext,n=e.className,o=e.classID,d={type:"path",className:n,classID:o,data:t},i=yu().innerRadius(t.innerRadius||0).outerRadius(t.outerRadius||t.radius||2).startAngle(t.startAngle||0).endAngle(t.endAngle||2*Ju);return a?(i.context(a),d.pathMethods=lineGen):d.attrs={d:i()},d},OT=function(e){var t=e.align,a=e.x,n=a===void 0?0:a,o=e.y,d=o===void 0?0:o,i=e.bbox,r=e.offset;t=wT(t,r.y),"top"===t?d-=i.height:"middle"===t&&(d-=i.height/2);var c=[[n,d],[n,d+i.height]];return{components:[CT({data:c,className:"note-line"})]}},ET=function(e){var t=e.align,a=e.x,n=a===void 0?0:a,o=e.y,d=o===void 0?0:o,i=e.offset,r=e.bbox;t=kT(t,i.x),"right"===t?n-=r.width:"middle"===t&&(n-=r.width/2);var c=[[n,d],[n+r.width,d]];return{components:[CT({data:c,className:"note-line"})]}},NT=function(e){var t=e.type,a=e.subjectType,n=t.annotation,o=n.position,d=n.x-o.x,i=d+n.dx,c=n.y-o.y,l=c+n.dy,s=n.subject;if("circle"===a&&(s.outerRadius||s.radius)){var f=rh((d-i)*(d-i)+(c-l)*(c-l)),p=eh(-l/f),u=s.outerRadius||s.radius+(s.radiusPadding||0);d=ch(oh(p)*u)*(0>i?-1:1),c=ch(nh(p)*u)*(0>l?-1:1)}if("rect"===a){var r=s.width,h=s.height;(0<r&&0<n.dx||0>r&&0>n.dx)&&(ch(r)>ch(n.dx)?d=r/2:d=r),(0<h&&0<n.dy||0>h&&0>n.dy)&&(ch(h)>ch(n.dy)?c=h/2:c=h),d===r/2&&c===h/2&&(d=i,c=l)}return[[d,c],[i,l]]},PT=function(e){var t=NT(e);return{components:[CT({data:t,className:"connector"})]}},MT=function(e){var t=e.type,a=e.subjectType,n=t.annotation,o=n.position,d=n.x-o.x,i=d+n.dx,c=n.y-o.y,l=c+n.dy,s=n.subject;if("rect"===a){var f=s.width,p=s.height;(0<f&&0<n.dx||0>f&&0>n.dx)&&(ch(f)>ch(n.dx)?d=f/2:d=f),(0<p&&0<n.dy||0>p&&0>n.dy)&&(ch(p)>ch(n.dy)?c=p/2:c=p),d===f/2&&c===p/2&&(d=i,c=l)}var u=[[d,c],[i,l]],h=l-c,b=i-d,g=i,y=l,_=l<c&&i>d||i<d&&l>c?-1:1;if(ch(b)<ch(h)?(g=i,y=c+b*_):(y=l,g=d+h*_),"circle"===a&&(s.outerRadius||s.radius)){var m=(s.outerRadius||s.radius)+(s.radiusPadding||0),r=m/rh(2);if(ch(b)>r&&ch(h)>r)d=r*(0>i?-1:1),c=r*(0>l?-1:1),u=[[d,c],[g,y],[i,l]];else if(ch(b)>ch(h)){var x=eh(-l/m);d=ch(oh(x)*m)*(0>i?-1:1),u=[[d,l],[i,l]]}else{var v=Qu(i/m);c=ch(nh(v)*m)*(0>l?-1:1),u=[[i,c],[i,l]]}}else u=[[d,c],[g,y],[i,l]];return{components:[CT({data:u,className:"connector"})]}},IT=function(e){var t=e.type,a=e.connectorData,n=e.subjectType;a||(a={}),a.points&&"number"!=typeof a.points||(a.points=RT(t.annotation.offset,a.points)),a.curve||(a.curve=cT);var o=[];if(t.editMode){var d=a.points.map(function(e,t){return pT({},mT({cx:e[0],cy:e[1]}),{index:t})}),i=function(e){a.points[e][0]+=eT.dx,a.points[e][1]+=eT.dy,t.redrawConnector()};o=t.mapHandles(d.map(function(e){return pT({},e.move,{drag:i.bind(t,e.index)})}))}var r=NT({type:t,subjectType:n});r=[r[0]].concat(gT(a.points),[r[1]]);var c=[CT({data:r,curve:a.curve,className:"connector"})];return{components:c,handles:o}},RT=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,a={x:e.x/(t+1),y:e.y/(t+1)},n=[],o=1;o<=t;o++)n.push([a.x*o+20*(o%2),a.y*o-20*(o%2)]);return n},UT=function(e){var t=e.annotation,a=e.start,n=e.end,o=e.scale,d=o===void 0?1:o,i=t.position;a=a?[-n[0]+a[0],-n[1]+a[1]]:[t.dx,t.dy],n||(n=[t.x-i.x,t.y-i.y]);var r=n[0],c=n[1],l=a[0],s=a[1],f=10*d,p=16/180*Ju,u=th(s/l);0>l&&(u+=Ju);var h=[[r,c],[oh(u+p)*f+r,nh(u+p)*f+c],[oh(u-p)*f+r,nh(u-p)*f+c],[r,c]];return{components:[CT({data:h,className:"connector-end connector-arrow",classID:"connector-end"})]}},BT=function(e){var t=e.line,a=e.scale,n=void 0===a?1:a,o=AT({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*rh(n)}});return o.attrs.transform="translate("+t.data[0][0]+", "+t.data[0][1]+")",{components:[o]}},zT=function(e){var t=e.subjectData,a=e.type;t.radius||t.outerRadius||(t.radius=20);var n=[],o=AT({data:t,className:"subject"});if(a.editMode){var d=xT({r1:o.data.outerRadius||o.data.radius,r2:o.data.innerRadius,padding:t.radiusPadding}),i=function(e){var n=t[e]+eT.dx*rh(2);t[e]=n,a.redrawSubject(),a.redrawConnector()},r=[pT({},d.r1,{drag:i.bind(a,void 0===t.outerRadius?"radius":"outerRadius")})];t.innerRadius&&r.push(pT({},d.r2,{drag:i.bind(a,"innerRadius")})),n=a.mapHandles(r)}return o.attrs["fill-opacity"]=0,{components:[o],handles:n}},DT=function(e){var t=e.subjectData,a=e.type;t.width||(t.width=100),t.height||(t.height=100);var n=[],o=t.width,d=t.height,i=CT({data:[[0,0],[o,0],[o,d],[0,d],[0,0]],className:"subject"});if(a.editMode){var r=function(){t.width=eT.x,a.redrawSubject(),a.redrawConnector()},c=function(){t.height=eT.y,a.redrawSubject(),a.redrawConnector()},l=[{x:o,y:d/2,drag:r.bind(a)},{x:o/2,y:d,drag:c.bind(a)}];n=a.mapHandles(l)}return i.attrs["fill-opacity"]=.1,{components:[i],handles:n}},WT=function(e){var t=e.subjectData,a=e.type,n=a.annotation.position,o=(t.x1===void 0?n.x:t.x1)-n.x,d=(t.x2===void 0?n.x:t.x2)-n.x,i=(t.y1===void 0?n.y:t.y1)-n.y,r=(t.y2===void 0?n.y:t.y2)-n.y;return{components:[CT({data:[[o,i],[d,r]],className:"subject"})]}},LT=function(e){var t=e.subjectData,a=void 0===t?{}:t,n=e.type,o=void 0===n?{}:n,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=o.typeSettings&&o.typeSettings.subject;a.radius||(i&&i.radius?a.radius=i.radius:a.radius=14),!a.x&&i&&i.x&&(a.x=i.x),!a.y&&i&&i.y&&(a.y=i.y);var r=[],c=[],l=a.radius,s=0,f=0,p=rh(2)*l,u={xleftcorner:-l,xrightcorner:l,ytopcorner:-l,ybottomcorner:l,xleft:-p,xright:p,ytop:-p,ybottom:p};a.x&&!a.y?s=u["x"+a.x]:a.y&&!a.x?f=u["y"+a.y]:a.x&&a.y&&(s=u["x"+a.x+"corner"],f=u["y"+a.y+"corner"]);var h="translate("+s+", "+f+")",b=AT({className:"subject",data:{radius:l}});b.attrs.transform=h,b.attrs.fill=d.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px";var g=AT({className:"subject-ring",data:{outerRadius:l,innerRadius:.7*l}});g.attrs.transform=h,g.attrs["stroke-width"]="3px",g.attrs.fill="white";var _;if(s&&f||!s&&!f)_=CT({className:"subject-pointer",data:[[0,0],[s||0,0],[0,f||0],[0,0]]});else if(s||f){var m=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return e&&e/rh(2)/rh(2)||t*l/rh(2)};_=CT({className:"subject-pointer",data:[[0,0],[m(s),m(f)],[m(s,-1),m(f,-1)],[0,0]]})}if(_&&(_.attrs.fill=d.color,_.attrs["stroke-linecap"]="round",_.attrs["stroke-width"]="3px",c.push(_)),o.editMode){var v=function(){a.x=eT.x<2*-l?"left":eT.x>2*l?"right":void 0,a.y=eT.y<2*-l?"top":eT.y>2*l?"bottom":void 0,o.redrawSubject()},w={x:2*s,y:2*f,drag:v.bind(o)};w.x||w.y||(w.y=-l),r=o.mapHandles([w])}var k;return a.text&&(k={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:a.text,"text-anchor":"middle",dy:".25em",x:s,y:f}}),c.push(b),c.push(g),c.push(k),{components:c,handles:r}},YT=function(){function e(t){var n=t.a,a=t.annotation,o=t.editMode,d=t.dispatcher,i=t.notePadding,r=t.accessors;if(sT(this,e),this.a=n,this.note=-1===a.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===a.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===a.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=d,d){var c=tC.bind(null,d,a);c({component:this.note,name:"note"}),c({component:this.connector,name:"connector"}),c({component:this.subject,name:"subject"})}this.annotation=a,this.editMode=a.editMode||o,this.notePadding=void 0===i?3:i,this.offsetCornerX=0,this.offsetCornerY=0,r&&a.data&&this.init(r)}return fT(e,[{key:"init",value:function(e){this.annotation.x||this.mapX(e),this.annotation.y||this.mapY(e)}},{key:"mapY",value:function(e){e.y&&(this.annotation.y=e.y(this.annotation.data))}},{key:"mapX",value:function(e){e.x&&(this.annotation.x=e.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(e,t){var a=this;Array.isArray(t)||(t=[t]),t.filter(function(e){return e}).forEach(function(t){var n=t.type,o=t.className,d=t.attrs,r=t.handles,c=t.classID;if("handle"===n)vT({group:e,r:d&&d.r,handles:r});else{eC(e,[a.annotation],n,o,c);for(var l=e.select(n+"."+(c||o)),s=Object.keys(d),f=[],p=l.node().attributes,u=p.length-1,h;0<=u;u--)h=p[u].name,-1===s.indexOf(h)&&"class"!==h&&f.push(h);s.forEach(function(e){"text"===e?l.text(d[e]):l.attr(e,d[e])}),f.forEach(function(e){return l.attr(e,null)})}})}},{key:"getNoteBBox",value:function(){return nC(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var e=nC(this.note,".annotation-note-content"),t=this.noteContent.attr("transform").split(/\(|\,|\)/g);return e.offsetCornerX=parseFloat(t[1])+this.annotation.dx,e.offsetCornerY=parseFloat(t[2])+this.annotation.dy,e.offsetX=this.annotation.dx,e.offsetY=this.annotation.dy,e}},{key:"drawSubject",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=this.annotation.subject,n=t.type,o={type:this,subjectData:a},d={};"circle"===n?d=zT(o):"rect"===n?d=DT(o):"threshold"===n?d=WT(o):"badge"===n&&(d=LT(o,this.annotation));var i=d,r=i.components,c=void 0===r?[]:r,l=i.handles,s=void 0===l?[]:l;return c.forEach(function(t){t&&t.attrs&&!t.attrs.stroke&&(t.attrs.stroke=e.annotation.color)}),this.editMode&&(s=s.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),c.push({type:"handle",handles:s})),c}},{key:"drawConnector",value:function(){var t=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,o=n.type||a.type,d={type:this,connectorData:n};d.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var i={};i="curve"===o?IT(d):"elbow"===o?MT(d):PT(d);var r=i,c=r.components,l=void 0===c?[]:c,f=r.handles,p=void 0===f?[]:f,u=l[0];u&&(u.attrs.stroke=this.annotation.color,u.attrs.fill="none");var h=n.end||a.end,b={};if("arrow"===h){var g=u.data[1],y=u.data[0],e=rh(lh(g[0]-y[0],2)+lh(g[1]-y[1],2));5>e&&u.data[2]&&(g=u.data[2]),b=UT({annotation:this.annotation,start:g,end:y,scale:n.endScale})}else"dot"===h?b=BT({line:u,scale:n.endScale}):(!h||"none"===h)&&this.connector&&this.connector.select(".connector-end").remove();return b.components&&(b.components.forEach(function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color}),l=l.concat(b.components)),this.editMode&&0!==p.length&&l.push({type:"handle",handles:p}),l}},{key:"drawNote",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=this.annotation.note,n=a.align||t.align||"dynamic",o={bbox:t.bbox,align:n,offset:this.annotation.offset},d=a.lineType||t.lineType,i={};"vertical"===d?i=OT(o):"horizontal"===d&&(i=ET(o));var r=i,c=r.components,l=void 0===c?[]:c,s=r.handles,f=void 0===s?[]:s;if(l.forEach(function(t){t.attrs.stroke=e.annotation.color}),this.editMode){f=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),l.push({type:"handle",handles:f});var p=this.dragNote.bind(this),u=this.dragstarted.bind(this),h=this.dragended.bind(this);this.note.call(ru().container(Hp("g.annotations").node()).on("start",function(e){return u(e)}).on("drag",function(e){return p(e)}).on("end",function(e){return h(e)}))}else this.note.on("mousedown.drag",null);return l}},{key:"drawNoteContent",value:function(e){var t=this.annotation.note,a=void 0===t.padding?this.notePadding:t.padding,n=t.orientation||e.orientation||"topBottom",o=t.lineType||e.lineType,d=t.align||e.align||"dynamic";"vertical"===o?n="leftRight":"horizontal"===o&&(n="topBottom");var i={padding:a,bbox:e.bbox,offset:this.annotation.offset,orientation:n,align:d},r=TT(i),c=r.x,l=r.y;return this.offsetCornerX=c+this.annotation.dx,this.offsetCornerY=l+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+c+", "+l+")"),[]}},{key:"drawOnScreen",value:function(e,t){return this.drawOnSVG(e,t)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:e})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:e}))}},{key:"setPosition",value:function(){var e=this.annotation.position;this.a.attr("transform","translate("+e.x+", "+e.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var e=this.annotation.offset;this.note.attr("transform","translate("+e.x+", "+e.y+")")}}},{key:"setPositionWithAccessors",value:function(e){e&&this.annotation.data&&(this.mapX(e),this.mapY(e)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){eT.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var e=this.annotation.position;e.x+=eT.dx,e.y+=eT.dy,this.annotation.position=e}},{key:"dragNote",value:function(){var e=this.annotation.offset;e.x+=eT.dx,e.y+=eT.dy,this.annotation.offset=e}},{key:"mapHandles",value:function(e){var t=this;return e.map(function(e){return pT({},e,{start:t.dragstarted.bind(t),end:t.dragended.bind(t)})})}}]),e}(),FT=function(e,t,a){return function(e){function n(e){sT(this,n);var a=bT(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return a.typeSettings=t,t.disable&&t.disable.forEach(function(e){a[e]&&a[e].remove(),a[e]=void 0,"note"===e&&(a.noteContent=void 0)}),a}return hT(n,e),fT(n,[{key:"className",value:function(){return""+(t.className||uT(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"className",this)&&uT(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(e){return this.typeSettings.subject=pT({},t.subject,this.typeSettings.subject),uT(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"drawSubject",this).call(this,pT({},e,this.typeSettings.subject))}},{key:"drawConnector",value:function(e){return this.typeSettings.connector=pT({},t.connector,this.typeSettings.connector),uT(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"drawConnector",this).call(this,pT({},e,t.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(e){return this.typeSettings.note=pT({},t.note,this.typeSettings.note),uT(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"drawNote",this).call(this,pT({},e,t.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(e){return uT(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"drawNoteContent",this).call(this,pT({},e,t.note,this.typeSettings.note))}}],[{key:"init",value:function(e,t){return uT(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,e,t),a&&(e=a(e,t)),e}}]),n}(e)},qT=function(e){function t(e){sT(this,t);var a=bT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.textWrap=e.textWrap||120,a.drawText(),a}return hT(t,e),fT(t,[{key:"updateTextWrap",value:function(e){this.textWrap=e,this.drawText()}},{key:"drawText",value:function(){if(this.note){eC(this.note,[this.annotation],"g","annotation-note-content");var e=this.note.select("g.annotation-note-content");eC(e,[this.annotation],"rect","annotation-note-bg"),eC(e,[this.annotation],"text","annotation-note-label"),eC(e,[this.annotation],"text","annotation-note-title");var t={height:0},a=this.a.select("text.annotation-note-label"),n=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,o=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,d=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,i={top:0,bottom:0,left:0,right:0};if("number"==typeof d?i={top:d,bottom:d,left:d,right:d}:d&&"object"===("undefined"==typeof d?"undefined":lT(d))&&(i=pT(i,d)),this.annotation.note.title){var r=this.a.select("text.annotation-note-title");r.text(this.annotation.note.title),r.attr("fill",this.annotation.color),r.attr("font-weight","bold"),r.call(aC,n,o),t=r.node().getBBox()}a.text(this.annotation.note.label).attr("dx","0"),a.call(aC,n,o),a.attr("y",1.1*t.height||0),a.attr("fill",this.annotation.color);var c=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",c.width+i.left+i.right).attr("height",c.height+i.top+i.bottom).attr("x",c.x-i.left).attr("y",-i.top).attr("fill","white").attr("fill-opacity",0)}}}]),t}(YT),HT=FT(qT,{className:"label",note:{align:"middle"}}),VT=FT(qT,{className:"callout",note:{lineType:"horizontal"}}),GT=FT(VT,{className:"callout elbow",connector:{type:"elbow"}}),XT=FT(VT,{className:"callout curve",connector:{type:"curve"}}),ZT=FT(YT,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),$T=FT(qT,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),KT=FT(qT,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),JT=function(e){function t(){return sT(this,t),bT(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hT(t,e),fT(t,[{key:"mapY",value:function(e){uT(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapY",this).call(this,e);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&e.y&&(n.y=e.y(n.data)),(n.subject.x1||n.subject.x2)&&!n.x&&(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(e){uT(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapX",this).call(this,e);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&e.x&&(n.x=e.x(n.data)),(n.subject.y1||n.subject.y2)&&!n.y&&(n.y=n.subject.y1||n.subject.y2)}}]),t}(VT),QT=FT(JT,{className:"callout xythreshold",subject:{type:"threshold"}}),eC=function(e,t,a,n,o){var d=e.selectAll(a+"."+(o||n)).data(t);return d.enter().append(a).merge(d).attr("class",n),d.exit().remove(),e},tC=function(e,t,a){var n=a.component,o=a.name;n&&n.on("mouseover.annotations",function(){e.call(o+"over",n,t)}).on("mouseout.annotations",function(){return e.call(o+"out",n,t)}).on("click.annotations",function(){return e.call(o+"click",n,t)})},aC=function(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1.2;e.each(function(){for(var e=Hp(this),o=e.text().split(a||/[ \t\r\n]+/).reverse().filter(function(e){return""!==e}),d=void 0,i=[],r=e.text(null).append("tspan").attr("x",0).attr("dy","0.8em");d=o.pop();)i.push(d),r.text(i.join(" ")),r.node().getComputedTextLength()>t&&1<i.length&&(i.pop(),r.text(i.join(" ")),i=[d],r=e.append("tspan").attr("x",0).attr("dy",n+"em").text(d))})},nC=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:":not(.handle)";return e?e.selectAll(t).nodes().reduce(function(e,t){var a=t.getBBox();e.x=ih(e.x,a.x),e.y=ih(e.y,a.y),e.width=ph(e.width,a.width);var n=t&&t.attributes&&t.attributes.y;return e.height=ph(e.height,(n&&parseFloat(n.value)||0)+a.height),e},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}},oC={nx:220,ny:700,radius:{min:20,padding:5}},dC=["Nunca testado","Todas as substâncias abaixo dos limites brasileiro e europeu","Agrotóxico(s) detectado(s) acima do limite europeu","Agrotóxico(s) detectado(s) acima do limite brasileiro"],iC={data:{height:960,width:960},drawing:{scale:1.5},svg:{margin:200}},rC=e("data-loaded","breadcrumb-click-brazil","to-brazil-view","to-mun-view","search-results-updated","search-selected","make-app-cocktail","make-app-limits","make-app-substances","mun-click","mun-mouseover","mun-mouseout","substance-selected");(function(e){var t=this,a=[v(zw.tests.url,{integrity:zw.tests.integrityHash}),Eh(zw.substances.url,{integrity:zw.substances.integrityHash}),v(zw.topojson.url,{integrity:zw.topojson.integrityHash}),Eh(zw.values.url,{integrity:zw.values.integrityHash},function(e){return{category:{atrAvgCat:e.atrazine_average_category,atrMaxCat:e.atrazine_category,simAvgCat:e.simazine_average_category,simMaxCat:e.simazine_category},ibgeCode:e.ibge_code,number:{detected:+e.detected,eqBr:+e.eq_br,supBr:+e.sup_br,supEu:+e.sup_eu}}})];return Promise.all(a).then(function(a){function n(e){e=e.sort(function(e,t){return e-t});var t=e.length/2;return 0==t%1?(e[t-1]+e[t])/2:e[uh(t)]}var o=a[1].map(function(e){return{code:e.code,isHhce:"true"===e.hhce,limit:+e.limit,name:e.name,shortName:e.shortName,url:"https://portrasdoalimento.info/2019/04/12/conheca-os-27-agrotoxicos-encontrados-na-agua-que-abastasse-as-cidades-do-brasil/#"+e.urlFragment}}),d=o.reduce(function(e,t){return e[t.code]=t,e},{}),i=a[0],r=a[2],c=a[3].reduce(function(e,t){return e[t.ibgeCode]=t,e},{}),l=Dd(r,"municipalities");l.features=l.features.map(function(e){return e.properties.ibgeCode in c&&(e.properties.category=c[e.properties.ibgeCode].category,e.properties.number=c[e.properties.ibgeCode].number),e.properties.ibgeCode in i?(e.properties.tests=Wd(i[e.properties.ibgeCode],d),e.properties.map1Number=e.properties.tests.filter(function(e){return 0<e.max}).length,e.properties.map1Category=0===e.properties.map1Number?Uw.CATEGORY.CAT_1:e.properties.map1Number<Uw.CUT_14?Uw.CATEGORY.CAT_2:e.properties.map1Number<Uw.CUT_27?Uw.CATEGORY.CAT_3:Uw.CATEGORY.CAT_4,e.properties.map2Category=e.properties.tests.reduce(function(e,t){return t.map2Category>e&&(e=t.map2Category),e},Bw.CATEGORY.BELOW)):(e.properties.map1Number=NaN,e.properties.map1Category=Uw.CATEGORY.NO_TEST,e.properties.map2Category=Bw.CATEGORY.NO_TEST),e.properties.deburredName=Mt(e.properties.name),e.properties.fuName=Dw[e.properties.fu],e});var s=o.map(function(e){var t=l.features.filter(function(t){return!!("tests"in t.properties)&&1===t.properties.tests.filter(function(t){return t.substance.code===e.code}).length}),a=t.filter(function(t){var a=t.properties.tests.filter(function(t){return t.substance.code===e.code})[0];return 0<a.max}),o=n(t.map(function(t){var a=t.properties.tests.filter(function(t){return t.substance.code===e.code})[0];return a.max}));return{code:e.code,detectedIn:a.length,limit:e.limit,medianConcentration:o,name:e.name,shortName:e.shortName,testedIn:t.length}}),f=s.reduce(function(e,t){return e[t.code]=t,e},{}),p=Dd(r,"republic");p.features[0].properties.tests=s.map(function(e){return{max:e.medianConcentration,substance:e}});var u={brazil:p,fu:Dd(r,"federative-units"),internalFu:Dd(r,"internal-federative-units"),mun:l,substancesLut:f};e.call("data-loaded",t,u)}).catch(function(e){console.log(e)})})(rC),rC.on("data-loaded.main",function(e){var t={data:e};Lu(rC,t),Fu(kr("section#search"),rC,t),zu(kr("section#map"),rC,e),rC.call("make-app-cocktail",null,t)}),rC.on("make-app-cocktail.main",function(e){Ku("cocktail"),Yd(kr("nav#breadcrumb"),rC,e),ti(kr("section#details"),rC,"cocktail",e)}),rC.on("make-app-limits.main",function(e){Ku("limits"),Yd(kr("nav#breadcrumb"),rC,e),ti(kr("section#details"),rC,"limits",e)}),rC.on("mun-click.main search-selected.main",function(e){rC.call("to-mun-view",null,e)}),rC.on("breadcrumb-click-brazil.main",function(){rC.call("to-brazil-view")})})();
